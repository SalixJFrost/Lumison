<!doctype html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Lumison - Music Player</title>
        <meta name="description" content="A high-fidelity, immersive music player inspired by Apple Music" />
        
        <!-- Favicons -->
        <link rel="icon" type="image/svg+xml" href="/icon-static.svg" />
        <link rel="apple-touch-icon" sizes="180x180" href="/icon-static.svg" />
        <link rel="icon" type="image/svg+xml" sizes="32x32" href="/icon-static.svg" />
        <link rel="icon" type="image/svg+xml" sizes="16x16" href="/icon-static.svg" />
        
        <!-- PWA Manifest -->
        <link rel="manifest" href="/manifest.json" />
        <meta name="theme-color" content="#a855f7" />
        
        <script src="https://cdn.tailwindcss.com"></script>
        <link rel="preconnect" href="https://fonts.googleapis.com" />
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
        <link
            href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap"
            rel="stylesheet"
        />
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jsmediatags/3.9.5/jsmediatags.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/color-thief/2.3.2/color-thief.umd.js"></script>
        <style>
            :root {
                --text-primary: rgba(255, 255, 255, 0.9);
                --text-secondary: rgba(255, 255, 255, 0.6);
                --text-tertiary: rgba(255, 255, 255, 0.4);
                --bg-overlay: rgba(255, 255, 255, 0.1);
                --bg-overlay-hover: rgba(255, 255, 255, 0.2);
                --border-color: rgba(255, 255, 255, 0.1);
            }

            [data-theme="light"] {
                --text-primary: rgba(0, 0, 0, 0.9);
                --text-secondary: rgba(0, 0, 0, 0.6);
                --text-tertiary: rgba(0, 0, 0, 0.4);
                --bg-overlay: rgba(0, 0, 0, 0.1);
                --bg-overlay-hover: rgba(0, 0, 0, 0.2);
                --border-color: rgba(0, 0, 0, 0.1);
            }

            /* Hardware Acceleration & Performance Optimization */
            * {
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            body {
                font-family: "PingFang SC", "Inter", sans-serif;
                background-color: #000;
                overflow: hidden;
                /* Enable hardware acceleration for body */
                transform: translateZ(0);
                -webkit-transform: translateZ(0);
                backface-visibility: hidden;
                -webkit-backface-visibility: hidden;
                perspective: 1000px;
                -webkit-perspective: 1000px;
            }

            /* Hardware Acceleration for Animated Elements */
            .hw-accelerate {
                transform: translateZ(0);
                -webkit-transform: translateZ(0);
                backface-visibility: hidden;
                -webkit-backface-visibility: hidden;
                will-change: transform, opacity;
            }

            /* Smooth Transitions */
            .smooth-transition {
                transition-timing-function: cubic-bezier(0.25, 0.1, 0.25, 1);
            }

            .theme-transition {
                transition: background-color 1.2s cubic-bezier(0.25, 0.1, 0.25, 1),
                            color 1.2s cubic-bezier(0.25, 0.1, 0.25, 1);
                /* Hardware acceleration for theme transitions */
                transform: translateZ(0);
                -webkit-transform: translateZ(0);
            }

            .theme-text-primary {
                color: var(--text-primary);
                transition: color 1.2s cubic-bezier(0.25, 0.1, 0.25, 1);
            }

            .theme-text-secondary {
                color: var(--text-secondary);
                transition: color 1.2s cubic-bezier(0.25, 0.1, 0.25, 1);
            }

            .theme-text-tertiary {
                color: var(--text-tertiary);
                transition: color 1.2s cubic-bezier(0.25, 0.1, 0.25, 1);
            }

            .theme-bg-overlay {
                background-color: var(--bg-overlay);
                transition: background-color 1.2s cubic-bezier(0.25, 0.1, 0.25, 1);
            }

            .theme-bg-overlay-hover {
                background-color: var(--bg-overlay-hover);
            }

            .theme-border {
                border-color: var(--border-color);
                transition: border-color 1.2s cubic-bezier(0.25, 0.1, 0.25, 1);
            }

            /* Custom Scrollbar for Lyrics */
            .no-scrollbar::-webkit-scrollbar {
                display: none;
            }
            .no-scrollbar {
                -ms-overflow-style: none;
                scrollbar-width: none;
            }

            /* Optimized Scrollbar */
            ::-webkit-scrollbar {
                width: 8px;
                height: 8px;
            }
            ::-webkit-scrollbar-track {
                background: transparent;
            }
            ::-webkit-scrollbar-thumb {
                background: rgba(255, 255, 255, 0.2);
                border-radius: 4px;
                transition: background 0.2s;
            }
            ::-webkit-scrollbar-thumb:hover {
                background: rgba(255, 255, 255, 0.3);
            }
            [data-theme="light"] ::-webkit-scrollbar-thumb {
                background: rgba(0, 0, 0, 0.2);
            }
            [data-theme="light"] ::-webkit-scrollbar-thumb:hover {
                background: rgba(0, 0, 0, 0.3);
            }

            /* Fluid Animation Keyframes with Hardware Acceleration */
            @keyframes blob {
                0% {
                    transform: translate3d(0, 0, 0) scale(1);
                }
                25% {
                    transform: translate3d(15vw, -10vh, 0) scale(1.1);
                }
                50% {
                    transform: translate3d(-10vw, 15vh, 0) scale(0.9);
                }
                75% {
                    transform: translate3d(5vw, -5vh, 0) scale(1.05);
                }
                100% {
                    transform: translate3d(0, 0, 0) scale(1);
                }
            }
            
            @keyframes spin-slow {
                from {
                    transform: rotate3d(0, 0, 1, 0deg);
                }
                to {
                    transform: rotate3d(0, 0, 1, 360deg);
                }
            }
            
            .animate-blob {
                animation: blob 15s infinite cubic-bezier(0.4, 0, 0.2, 1);
                will-change: transform;
                transform: translateZ(0);
            }
            
            .animate-spin-slow {
                animation: spin-slow 30s linear infinite;
                will-change: transform;
                transform: translateZ(0);
            }

            /* Floating Animation for Lyrics with Hardware Acceleration */
            @keyframes floatWord {
                0%, 100% {
                    transform: translate3d(0, 0, 0);
                }
                50% {
                    transform: translate3d(0, -4px, 0);
                }
            }
            
            .animate-float {
                animation: floatWord 3s ease-in-out infinite;
                will-change: transform;
                transform: translateZ(0);
            }

            /* Fade In Animation */
            @keyframes fadeIn {
                from {
                    opacity: 0;
                    transform: translate3d(0, 10px, 0);
                }
                to {
                    opacity: 1;
                    transform: translate3d(0, 0, 0);
                }
            }
            
            .animate-fade-in {
                animation: fadeIn 0.4s cubic-bezier(0.25, 0.1, 0.25, 1);
            }

            /* Performance Optimization: Reduce Paint Areas */
            .isolate-layer {
                isolation: isolate;
            }

            /* Optimize Text Rendering */
            .optimize-text {
                text-rendering: optimizeLegibility;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            /* GPU Compositing for Canvas */
            canvas {
                transform: translateZ(0);
                -webkit-transform: translateZ(0);
                will-change: transform;
            }

            /* Reduce Repaints for Fixed Elements */
            .fixed-optimized {
                position: fixed;
                transform: translateZ(0);
                -webkit-transform: translateZ(0);
                backface-visibility: hidden;
                -webkit-backface-visibility: hidden;
            }
        </style>
    </head>
    <body>
        <div id="root"></div>
        <script type="module" src="/src/index.tsx"></script>
    </body>
</html>
