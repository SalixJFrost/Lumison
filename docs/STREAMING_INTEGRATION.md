# æµåª’ä½“å¹³å°é›†æˆæ–¹æ¡ˆ

## æ¦‚è¿°

æœ¬æ–‡æ¡£æè¿°å¦‚ä½•å°† Spotifyã€Apple Music å’Œ YouTube ä¸‰ä¸ªä¸»æµæµåª’ä½“å¹³å°é›†æˆåˆ° Lumison éŸ³ä¹æ’­æ”¾å™¨ä¸­ã€‚

## å¹³å°å¯¹æ¯”

| å¹³å° | SDK | è¦æ±‚ | ä¼˜åŠ¿ | é™åˆ¶ |
|------|-----|------|------|------|
| **Spotify** | Web Playback SDK | Premium è®¢é˜… | å…¨çƒæœ€å¤§éŸ³ä¹åº“ | éœ€è¦ä»˜è´¹è®¢é˜… |
| **Apple Music** | MusicKit JS | Apple Music è®¢é˜… | é«˜å“è´¨éŸ³é¢‘ | ä»… iOS/macOS æœ€ä½³ä½“éªŒ |
| **YouTube** | IFrame Player API | æ—  | å…è´¹ã€å†…å®¹ä¸°å¯Œ | è§†é¢‘ä¸ºä¸»ï¼ŒéŸ³è´¨ä¸€èˆ¬ |

## æŠ€æœ¯æ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      Lumison Player                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                   Unified Player Interface                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚   Spotify    â”‚ Apple Music  â”‚       YouTube            â”‚ â”‚
â”‚  â”‚   Provider   â”‚   Provider   â”‚       Provider           â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                    Platform Adapters                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  Spotify SDK â”‚  MusicKit JS â”‚  YouTube IFrame API      â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## 1. Spotify Web Playback SDK é›†æˆ

### 1.1 å‰ç½®è¦æ±‚

- Spotify Premium è´¦æˆ·
- Spotify Developer åº”ç”¨ï¼ˆè·å– Client IDï¼‰
- OAuth 2.0 è®¤è¯æµç¨‹

### 1.2 å®ç°æ­¥éª¤

#### æ­¥éª¤ 1: æ³¨å†Œ Spotify åº”ç”¨

1. è®¿é—® [Spotify Developer Dashboard](https://developer.spotify.com/dashboard)
2. åˆ›å»ºæ–°åº”ç”¨
3. è·å– `Client ID` å’Œ `Client Secret`
4. æ·»åŠ é‡å®šå‘ URI: `http://localhost:5173/callback` (å¼€å‘) å’Œ `https://yourdomain.com/callback` (ç”Ÿäº§)

#### æ­¥éª¤ 2: å®‰è£…ä¾èµ–

```bash
npm install @spotify/web-playback-sdk
```

#### æ­¥éª¤ 3: å®ç°è®¤è¯

```typescript
// src/services/streaming/spotify/auth.ts
export class SpotifyAuth {
  private clientId: string;
  private redirectUri: string;
  private scopes = [
    'streaming',
    'user-read-email',
    'user-read-private',
    'user-library-read',
    'user-library-modify',
    'user-read-playback-state',
    'user-modify-playback-state'
  ];

  async authorize(): Promise<string> {
    const authUrl = new URL('https://accounts.spotify.com/authorize');
    authUrl.searchParams.append('client_id', this.clientId);
    authUrl.searchParams.append('response_type', 'token');
    authUrl.searchParams.append('redirect_uri', this.redirectUri);
    authUrl.searchParams.append('scope', this.scopes.join(' '));
    
    window.location.href = authUrl.toString();
  }

  getAccessTokenFromUrl(): string | null {
    const hash = window.location.hash.substring(1);
    const params = new URLSearchParams(hash);
    return params.get('access_token');
  }
}
```

#### æ­¥éª¤ 4: åˆå§‹åŒ–æ’­æ”¾å™¨

```typescript
// src/services/streaming/spotify/player.ts
export class SpotifyPlayer {
  private player: Spotify.Player | null = null;
  private deviceId: string | null = null;

  async initialize(accessToken: string): Promise<void> {
    await this.loadSDK();
    
    this.player = new Spotify.Player({
      name: 'Lumison Player',
      getOAuthToken: cb => cb(accessToken),
      volume: 0.5
    });

    // é”™è¯¯å¤„ç†
    this.player.addListener('initialization_error', ({ message }) => {
      console.error('Initialization Error:', message);
    });

    this.player.addListener('authentication_error', ({ message }) => {
      console.error('Authentication Error:', message);
    });

    this.player.addListener('account_error', ({ message }) => {
      console.error('Account Error:', message);
    });

    // å°±ç»ªäº‹ä»¶
    this.player.addListener('ready', ({ device_id }) => {
      console.log('Ready with Device ID', device_id);
      this.deviceId = device_id;
    });

    // æ’­æ”¾çŠ¶æ€å˜åŒ–
    this.player.addListener('player_state_changed', state => {
      if (!state) return;
      this.handleStateChange(state);
    });

    // è¿æ¥æ’­æ”¾å™¨
    await this.player.connect();
  }

  private async loadSDK(): Promise<void> {
    return new Promise((resolve) => {
      if (window.Spotify) {
        resolve();
        return;
      }

      window.onSpotifyWebPlaybackSDKReady = () => {
        resolve();
      };

      const script = document.createElement('script');
      script.src = 'https://sdk.scdn.co/spotify-player.js';
      document.head.appendChild(script);
    });
  }

  async play(trackUri: string): Promise<void> {
    if (!this.deviceId) throw new Error('Device not ready');

    await fetch(`https://api.spotify.com/v1/me/player/play?device_id=${this.deviceId}`, {
      method: 'PUT',
      body: JSON.stringify({ uris: [trackUri] }),
      headers: {
        'Content-Type': 'application/json',
        'Authorization': `Bearer ${this.accessToken}`
      }
    });
  }

  async pause(): Promise<void> {
    await this.player?.pause();
  }

  async resume(): Promise<void> {
    await this.player?.resume();
  }

  async seek(positionMs: number): Promise<void> {
    await this.player?.seek(positionMs);
  }

  async setVolume(volume: number): Promise<void> {
    await this.player?.setVolume(volume);
  }
}
```

### 1.3 æœç´¢å’Œè·å–æ›²ç›®

```typescript
// src/services/streaming/spotify/api.ts
export class SpotifyAPI {
  private accessToken: string;

  async search(query: string, type: 'track' | 'album' | 'artist' = 'track') {
    const response = await fetch(
      `https://api.spotify.com/v1/search?q=${encodeURIComponent(query)}&type=${type}&limit=20`,
      {
        headers: {
          'Authorization': `Bearer ${this.accessToken}`
        }
      }
    );
    return response.json();
  }

  async getTrack(trackId: string) {
    const response = await fetch(
      `https://api.spotify.com/v1/tracks/${trackId}`,
      {
        headers: {
          'Authorization': `Bearer ${this.accessToken}`
        }
      }
    );
    return response.json();
  }
}
```

## 2. Apple Music MusicKit JS é›†æˆ

### 2.1 å‰ç½®è¦æ±‚

- Apple Developer è´¦æˆ·
- MusicKit æ ‡è¯†ç¬¦å’Œç§é’¥
- Apple Music è®¢é˜…ï¼ˆç”¨æˆ·ï¼‰

### 2.2 å®ç°æ­¥éª¤

#### æ­¥éª¤ 1: é…ç½® Apple Developer

1. è®¿é—® [Apple Developer Portal](https://developer.apple.com/)
2. åˆ›å»º MusicKit æ ‡è¯†ç¬¦
3. ç”Ÿæˆ MusicKit ç§é’¥ï¼ˆ.p8 æ–‡ä»¶ï¼‰
4. è®°å½• Team ID å’Œ Key ID

#### æ­¥éª¤ 2: ç”Ÿæˆ Developer Token

```typescript
// æ³¨æ„ï¼šè¿™åº”è¯¥åœ¨åç«¯å®Œæˆï¼Œè¿™é‡Œä»…ä½œç¤ºä¾‹
// src/services/streaming/apple/token.ts
import jwt from 'jsonwebtoken';
import fs from 'fs';

export function generateDeveloperToken(): string {
  const privateKey = fs.readFileSync('path/to/AuthKey.p8', 'utf8');
  
  const token = jwt.sign({}, privateKey, {
    algorithm: 'ES256',
    expiresIn: '180d',
    issuer: 'YOUR_TEAM_ID',
    header: {
      alg: 'ES256',
      kid: 'YOUR_KEY_ID'
    }
  });
  
  return token;
}
```

#### æ­¥éª¤ 3: åˆå§‹åŒ– MusicKit

```typescript
// src/services/streaming/apple/player.ts
export class AppleMusicPlayer {
  private music: MusicKit.MusicKitInstance | null = null;

  async initialize(developerToken: string): Promise<void> {
    await this.loadSDK();

    this.music = MusicKit.configure({
      developerToken: developerToken,
      app: {
        name: 'Lumison',
        build: '1.0.0'
      }
    });

    // ç›‘å¬æ’­æ”¾çŠ¶æ€
    this.music.addEventListener('playbackStateDidChange', () => {
      this.handlePlaybackStateChange();
    });

    this.music.addEventListener('nowPlayingItemDidChange', () => {
      this.handleNowPlayingItemChange();
    });
  }

  private async loadSDK(): Promise<void> {
    return new Promise((resolve) => {
      if (window.MusicKit) {
        resolve();
        return;
      }

      const script = document.createElement('script');
      script.src = 'https://js-cdn.music.apple.com/musickit/v3/musickit.js';
      script.onload = () => resolve();
      document.head.appendChild(script);
    });
  }

  async authorize(): Promise<void> {
    const userToken = await this.music!.authorize();
    return userToken;
  }

  async play(songId: string): Promise<void> {
    await this.music!.setQueue({
      song: songId
    });
    await this.music!.play();
  }

  async pause(): Promise<void> {
    await this.music!.pause();
  }

  async seek(time: number): Promise<void> {
    this.music!.seekToTime(time);
  }

  async setVolume(volume: number): Promise<void> {
    this.music!.volume = volume;
  }

  async search(query: string): Promise<any> {
    const results = await this.music!.api.music('/v1/catalog/us/search', {
      term: query,
      types: 'songs',
      limit: 20
    });
    return results;
  }
}
```

## 3. YouTube IFrame Player API é›†æˆ

### 3.1 å‰ç½®è¦æ±‚

- YouTube Data API v3 å¯†é’¥ï¼ˆç”¨äºæœç´¢ï¼‰
- æ— éœ€ç”¨æˆ·è®¤è¯ï¼ˆå…¬å¼€å†…å®¹ï¼‰

### 3.2 å®ç°æ­¥éª¤

#### æ­¥éª¤ 1: è·å– API å¯†é’¥

1. è®¿é—® [Google Cloud Console](https://console.cloud.google.com/)
2. åˆ›å»ºé¡¹ç›®
3. å¯ç”¨ YouTube Data API v3
4. åˆ›å»º API å¯†é’¥

#### æ­¥éª¤ 2: å®ç°æ’­æ”¾å™¨

```typescript
// src/services/streaming/youtube/player.ts
export class YouTubePlayer {
  private player: YT.Player | null = null;
  private containerId: string;

  async initialize(containerId: string): Promise<void> {
    this.containerId = containerId;
    await this.loadSDK();
  }

  private async loadSDK(): Promise<void> {
    return new Promise((resolve) => {
      if (window.YT && window.YT.Player) {
        resolve();
        return;
      }

      window.onYouTubeIframeAPIReady = () => {
        resolve();
      };

      const script = document.createElement('script');
      script.src = 'https://www.youtube.com/iframe_api';
      document.head.appendChild(script);
    });
  }

  createPlayer(videoId: string): Promise<void> {
    return new Promise((resolve, reject) => {
      this.player = new YT.Player(this.containerId, {
        height: '0',
        width: '0',
        videoId: videoId,
        playerVars: {
          autoplay: 1,
          controls: 0,
          disablekb: 1,
          fs: 0,
          modestbranding: 1,
          playsinline: 1
        },
        events: {
          onReady: () => resolve(),
          onError: (event) => reject(event),
          onStateChange: (event) => this.handleStateChange(event)
        }
      });
    });
  }

  async play(): Promise<void> {
    this.player?.playVideo();
  }

  async pause(): Promise<void> {
    this.player?.pauseVideo();
  }

  async seek(seconds: number): Promise<void> {
    this.player?.seekTo(seconds, true);
  }

  async setVolume(volume: number): Promise<void> {
    this.player?.setVolume(volume * 100);
  }

  getCurrentTime(): number {
    return this.player?.getCurrentTime() || 0;
  }

  getDuration(): number {
    return this.player?.getDuration() || 0;
  }

  private handleStateChange(event: YT.OnStateChangeEvent): void {
    switch (event.data) {
      case YT.PlayerState.PLAYING:
        console.log('Playing');
        break;
      case YT.PlayerState.PAUSED:
        console.log('Paused');
        break;
      case YT.PlayerState.ENDED:
        console.log('Ended');
        break;
    }
  }
}
```

#### æ­¥éª¤ 3: æœç´¢åŠŸèƒ½

```typescript
// src/services/streaming/youtube/api.ts
export class YouTubeAPI {
  private apiKey: string;

  async search(query: string): Promise<any> {
    const response = await fetch(
      `https://www.googleapis.com/youtube/v3/search?` +
      `part=snippet&q=${encodeURIComponent(query)}&` +
      `type=video&videoCategoryId=10&maxResults=20&key=${this.apiKey}`
    );
    return response.json();
  }

  async getVideoDetails(videoId: string): Promise<any> {
    const response = await fetch(
      `https://www.googleapis.com/youtube/v3/videos?` +
      `part=snippet,contentDetails&id=${videoId}&key=${this.apiKey}`
    );
    return response.json();
  }
}
```

## 4. ç»Ÿä¸€æ’­æ”¾å™¨æ¥å£

### 4.1 æŠ½è±¡æ¥å£å®šä¹‰

```typescript
// src/services/streaming/types.ts
export enum StreamingPlatform {
  SPOTIFY = 'spotify',
  APPLE_MUSIC = 'apple_music',
  YOUTUBE = 'youtube',
  LOCAL = 'local'
}

export interface StreamingTrack {
  id: string;
  platform: StreamingPlatform;
  title: string;
  artist: string;
  album?: string;
  coverUrl: string;
  duration: number;
  uri?: string; // Spotify URI or platform-specific identifier
}

export interface IStreamingPlayer {
  initialize(): Promise<void>;
  authorize?(): Promise<void>;
  play(track: StreamingTrack): Promise<void>;
  pause(): Promise<void>;
  resume(): Promise<void>;
  seek(position: number): Promise<void>;
  setVolume(volume: number): Promise<void>;
  getCurrentTime(): number;
  getDuration(): number;
  search(query: string): Promise<StreamingTrack[]>;
  isReady(): boolean;
  destroy(): void;
}
```

### 4.2 æ’­æ”¾å™¨ç®¡ç†å™¨

```typescript
// src/services/streaming/StreamingManager.ts
export class StreamingManager {
  private players: Map<StreamingPlatform, IStreamingPlayer> = new Map();
  private currentPlayer: IStreamingPlayer | null = null;
  private currentPlatform: StreamingPlatform | null = null;

  async initializePlatform(platform: StreamingPlatform, config: any): Promise<void> {
    let player: IStreamingPlayer;

    switch (platform) {
      case StreamingPlatform.SPOTIFY:
        player = new SpotifyPlayerAdapter(config);
        break;
      case StreamingPlatform.APPLE_MUSIC:
        player = new AppleMusicPlayerAdapter(config);
        break;
      case StreamingPlatform.YOUTUBE:
        player = new YouTubePlayerAdapter(config);
        break;
      default:
        throw new Error(`Unsupported platform: ${platform}`);
    }

    await player.initialize();
    this.players.set(platform, player);
  }

  async play(track: StreamingTrack): Promise<void> {
    // åˆ‡æ¢å¹³å°
    if (track.platform !== this.currentPlatform) {
      await this.switchPlatform(track.platform);
    }

    if (!this.currentPlayer) {
      throw new Error('No player available');
    }

    await this.currentPlayer.play(track);
  }

  private async switchPlatform(platform: StreamingPlatform): Promise<void> {
    // æš‚åœå½“å‰æ’­æ”¾å™¨
    if (this.currentPlayer) {
      await this.currentPlayer.pause();
    }

    // åˆ‡æ¢åˆ°æ–°æ’­æ”¾å™¨
    const player = this.players.get(platform);
    if (!player) {
      throw new Error(`Platform ${platform} not initialized`);
    }

    this.currentPlayer = player;
    this.currentPlatform = platform;
  }

  async search(query: string, platforms: StreamingPlatform[]): Promise<StreamingTrack[]> {
    const results = await Promise.all(
      platforms.map(async (platform) => {
        const player = this.players.get(platform);
        if (!player) return [];
        try {
          return await player.search(query);
        } catch (error) {
          console.error(`Search failed for ${platform}:`, error);
          return [];
        }
      })
    );

    return results.flat();
  }

  // ä»£ç†æ–¹æ³•
  async pause(): Promise<void> {
    await this.currentPlayer?.pause();
  }

  async resume(): Promise<void> {
    await this.currentPlayer?.resume();
  }

  async seek(position: number): Promise<void> {
    await this.currentPlayer?.seek(position);
  }

  async setVolume(volume: number): Promise<void> {
    await this.currentPlayer?.setVolume(volume);
  }
}
```

## 5. UI é›†æˆ

### 5.1 å¹³å°é€‰æ‹©å™¨

```typescript
// src/components/PlatformSelector.tsx
import React from 'react';
import { StreamingPlatform } from '../services/streaming/types';

interface PlatformSelectorProps {
  selectedPlatforms: StreamingPlatform[];
  onPlatformsChange: (platforms: StreamingPlatform[]) => void;
}

export const PlatformSelector: React.FC<PlatformSelectorProps> = ({
  selectedPlatforms,
  onPlatformsChange
}) => {
  const platforms = [
    { id: StreamingPlatform.SPOTIFY, name: 'Spotify', icon: 'ğŸµ', color: '#1DB954' },
    { id: StreamingPlatform.APPLE_MUSIC, name: 'Apple Music', icon: 'ğŸ', color: '#FA243C' },
    { id: StreamingPlatform.YOUTUBE, name: 'YouTube', icon: 'â–¶ï¸', color: '#FF0000' }
  ];

  const togglePlatform = (platform: StreamingPlatform) => {
    if (selectedPlatforms.includes(platform)) {
      onPlatformsChange(selectedPlatforms.filter(p => p !== platform));
    } else {
      onPlatformsChange([...selectedPlatforms, platform]);
    }
  };

  return (
    <div className="flex gap-2">
      {platforms.map(platform => (
        <button
          key={platform.id}
          onClick={() => togglePlatform(platform.id)}
          className={`px-4 py-2 rounded-lg transition-all ${
            selectedPlatforms.includes(platform.id)
              ? 'bg-white/20 border-2'
              : 'bg-white/5 border border-white/10'
          }`}
          style={{
            borderColor: selectedPlatforms.includes(platform.id) ? platform.color : undefined
          }}
        >
          <span className="mr-2">{platform.icon}</span>
          {platform.name}
        </button>
      ))}
    </div>
  );
};
```

### 5.2 æœç´¢ç»“æœå±•ç¤º

```typescript
// src/components/StreamingSearchResults.tsx
import React from 'react';
import { StreamingTrack, StreamingPlatform } from '../services/streaming/types';

interface StreamingSearchResultsProps {
  results: StreamingTrack[];
  onPlay: (track: StreamingTrack) => void;
  onAddToQueue: (track: StreamingTrack) => void;
}

export const StreamingSearchResults: React.FC<StreamingSearchResultsProps> = ({
  results,
  onPlay,
  onAddToQueue
}) => {
  const getPlatformBadge = (platform: StreamingPlatform) => {
    const badges = {
      [StreamingPlatform.SPOTIFY]: { text: 'Spotify', color: 'bg-green-500' },
      [StreamingPlatform.APPLE_MUSIC]: { text: 'Apple', color: 'bg-red-500' },
      [StreamingPlatform.YOUTUBE]: { text: 'YouTube', color: 'bg-red-600' }
    };
    return badges[platform];
  };

  return (
    <div className="space-y-2">
      {results.map(track => {
        const badge = getPlatformBadge(track.platform);
        return (
          <div
            key={`${track.platform}-${track.id}`}
            className="flex items-center gap-3 p-3 rounded-lg hover:bg-white/5 cursor-pointer"
            onClick={() => onPlay(track)}
          >
            <img
              src={track.coverUrl}
              alt={track.title}
              className="w-12 h-12 rounded"
            />
            <div className="flex-1 min-w-0">
              <div className="font-medium truncate">{track.title}</div>
              <div className="text-sm text-white/60 truncate">{track.artist}</div>
            </div>
            <span className={`text-xs px-2 py-1 rounded ${badge.color} text-white`}>
              {badge.text}
            </span>
            <button
              onClick={(e) => {
                e.stopPropagation();
                onAddToQueue(track);
              }}
              className="p-2 hover:bg-white/10 rounded"
            >
              +
            </button>
          </div>
        );
      })}
    </div>
  );
};
```

## 6. é…ç½®å’Œç¯å¢ƒå˜é‡

```env
# .env
VITE_SPOTIFY_CLIENT_ID=your_spotify_client_id
VITE_SPOTIFY_REDIRECT_URI=http://localhost:5173/callback

VITE_APPLE_MUSIC_DEVELOPER_TOKEN=your_apple_music_token

VITE_YOUTUBE_API_KEY=your_youtube_api_key
```

## 7. æ³¨æ„äº‹é¡¹

### 7.1 æ³•å¾‹å’Œè®¸å¯

- ç¡®ä¿éµå®ˆå„å¹³å°çš„æœåŠ¡æ¡æ¬¾
- Spotify å’Œ Apple Music éœ€è¦ç”¨æˆ·ä»˜è´¹è®¢é˜…
- ä¸è¦å°è¯•ä¸‹è½½æˆ–ç¼“å­˜å—ä¿æŠ¤çš„å†…å®¹

### 7.2 æ€§èƒ½ä¼˜åŒ–

- æ‡’åŠ è½½ SDKï¼ˆä»…åœ¨éœ€è¦æ—¶åŠ è½½ï¼‰
- å®ç°æ’­æ”¾å™¨é¢„åŠ è½½æœºåˆ¶
- ç¼“å­˜æœç´¢ç»“æœ

### 7.3 é”™è¯¯å¤„ç†

- å¤„ç†ç½‘ç»œé”™è¯¯
- å¤„ç†è®¤è¯å¤±è´¥
- å¤„ç†æ’­æ”¾é™åˆ¶ï¼ˆå¦‚åœ°åŒºé™åˆ¶ï¼‰

### 7.4 ç”¨æˆ·ä½“éªŒ

- æ˜¾ç¤ºå¹³å°çŠ¶æ€ï¼ˆå·²è¿æ¥/æœªè¿æ¥ï¼‰
- æä¾›æ¸…æ™°çš„é”™è¯¯æ¶ˆæ¯
- å®ç°æ— ç¼å¹³å°åˆ‡æ¢

## 8. ä¸‹ä¸€æ­¥

1. å®ç°åŸºç¡€çš„ Spotify é›†æˆ
2. æ·»åŠ  YouTube æ”¯æŒï¼ˆæœ€ç®€å•ï¼‰
3. é›†æˆ Apple Musicï¼ˆéœ€è¦åç«¯æ”¯æŒï¼‰
4. ä¼˜åŒ– UI å’Œç”¨æˆ·ä½“éªŒ
5. æ·»åŠ æ’­æ”¾åˆ—è¡¨åŒæ­¥åŠŸèƒ½

## å‚è€ƒèµ„æº

- [Spotify Web Playback SDK](https://developer.spotify.com/documentation/web-playback-sdk)
- [Apple MusicKit JS](https://developer.apple.com/documentation/musickitjs)
- [YouTube IFrame Player API](https://developers.google.com/youtube/iframe_api_reference)
