(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))r(u);new MutationObserver(u=>{for(const f of u)if(f.type==="childList")for(const h of f.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&r(h)}).observe(document,{childList:!0,subtree:!0});function s(u){const f={};return u.integrity&&(f.integrity=u.integrity),u.referrerPolicy&&(f.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?f.credentials="include":u.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function r(u){if(u.ep)return;u.ep=!0;const f=s(u);fetch(u.href,f)}})();function Eg(l){return l&&l.__esModule&&Object.prototype.hasOwnProperty.call(l,"default")?l.default:l}var Su={exports:{}},Yi={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b0;function K1(){if(b0)return Yi;b0=1;var l=Symbol.for("react.transitional.element"),i=Symbol.for("react.fragment");function s(r,u,f){var h=null;if(f!==void 0&&(h=""+f),u.key!==void 0&&(h=""+u.key),"key"in u){f={};for(var p in u)p!=="key"&&(f[p]=u[p])}else f=u;return u=f.ref,{$$typeof:l,type:r,key:h,ref:u!==void 0?u:null,props:f}}return Yi.Fragment=i,Yi.jsx=s,Yi.jsxs=s,Yi}var w0;function F1(){return w0||(w0=1,Su.exports=K1()),Su.exports}var d=F1(),Tu={exports:{}},ze={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var S0;function W1(){if(S0)return ze;S0=1;var l=Symbol.for("react.transitional.element"),i=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),f=Symbol.for("react.consumer"),h=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),_=Symbol.iterator;function O(E){return E===null||typeof E!="object"?null:(E=_&&E[_]||E["@@iterator"],typeof E=="function"?E:null)}var R={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,T={};function N(E,D,ie){this.props=E,this.context=D,this.refs=T,this.updater=ie||R}N.prototype.isReactComponent={},N.prototype.setState=function(E,D){if(typeof E!="object"&&typeof E!="function"&&E!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,E,D,"setState")},N.prototype.forceUpdate=function(E){this.updater.enqueueForceUpdate(this,E,"forceUpdate")};function q(){}q.prototype=N.prototype;function Q(E,D,ie){this.props=E,this.context=D,this.refs=T,this.updater=ie||R}var S=Q.prototype=new q;S.constructor=Q,A(S,N.prototype),S.isPureReactComponent=!0;var j=Array.isArray;function U(){}var k={H:null,A:null,T:null,S:null},J=Object.prototype.hasOwnProperty;function Y(E,D,ie){var ce=ie.ref;return{$$typeof:l,type:E,key:D,ref:ce!==void 0?ce:null,props:ie}}function P(E,D){return Y(E.type,D,E.props)}function F(E){return typeof E=="object"&&E!==null&&E.$$typeof===l}function ee(E){var D={"=":"=0",":":"=2"};return"$"+E.replace(/[=:]/g,function(ie){return D[ie]})}var oe=/\/+/g;function ne(E,D){return typeof E=="object"&&E!==null&&E.key!=null?ee(""+E.key):D.toString(36)}function re(E){switch(E.status){case"fulfilled":return E.value;case"rejected":throw E.reason;default:switch(typeof E.status=="string"?E.then(U,U):(E.status="pending",E.then(function(D){E.status==="pending"&&(E.status="fulfilled",E.value=D)},function(D){E.status==="pending"&&(E.status="rejected",E.reason=D)})),E.status){case"fulfilled":return E.value;case"rejected":throw E.reason}}throw E}function z(E,D,ie,ce,W){var he=typeof E;(he==="undefined"||he==="boolean")&&(E=null);var ae=!1;if(E===null)ae=!0;else switch(he){case"bigint":case"string":case"number":ae=!0;break;case"object":switch(E.$$typeof){case l:case i:ae=!0;break;case w:return ae=E._init,z(ae(E._payload),D,ie,ce,W)}}if(ae)return W=W(E),ae=ce===""?"."+ne(E,0):ce,j(W)?(ie="",ae!=null&&(ie=ae.replace(oe,"$&/")+"/"),z(W,D,ie,"",function(Oe){return Oe})):W!=null&&(F(W)&&(W=P(W,ie+(W.key==null||E&&E.key===W.key?"":(""+W.key).replace(oe,"$&/")+"/")+ae)),D.push(W)),1;ae=0;var ue=ce===""?".":ce+":";if(j(E))for(var me=0;me<E.length;me++)ce=E[me],he=ue+ne(ce,me),ae+=z(ce,D,ie,he,W);else if(me=O(E),typeof me=="function")for(E=me.call(E),me=0;!(ce=E.next()).done;)ce=ce.value,he=ue+ne(ce,me++),ae+=z(ce,D,ie,he,W);else if(he==="object"){if(typeof E.then=="function")return z(re(E),D,ie,ce,W);throw D=String(E),Error("Objects are not valid as a React child (found: "+(D==="[object Object]"?"object with keys {"+Object.keys(E).join(", ")+"}":D)+"). If you meant to render a collection of children, use an array instead.")}return ae}function I(E,D,ie){if(E==null)return E;var ce=[],W=0;return z(E,ce,"","",function(he){return D.call(ie,he,W++)}),ce}function Z(E){if(E._status===-1){var D=E._result;D=D(),D.then(function(ie){(E._status===0||E._status===-1)&&(E._status=1,E._result=ie)},function(ie){(E._status===0||E._status===-1)&&(E._status=2,E._result=ie)}),E._status===-1&&(E._status=0,E._result=D)}if(E._status===1)return E._result.default;throw E._result}var fe=typeof reportError=="function"?reportError:function(E){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var D=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof E=="object"&&E!==null&&typeof E.message=="string"?String(E.message):String(E),error:E});if(!window.dispatchEvent(D))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",E);return}console.error(E)},le={map:I,forEach:function(E,D,ie){I(E,function(){D.apply(this,arguments)},ie)},count:function(E){var D=0;return I(E,function(){D++}),D},toArray:function(E){return I(E,function(D){return D})||[]},only:function(E){if(!F(E))throw Error("React.Children.only expected to receive a single React element child.");return E}};return ze.Activity=b,ze.Children=le,ze.Component=N,ze.Fragment=s,ze.Profiler=u,ze.PureComponent=Q,ze.StrictMode=r,ze.Suspense=y,ze.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=k,ze.__COMPILER_RUNTIME={__proto__:null,c:function(E){return k.H.useMemoCache(E)}},ze.cache=function(E){return function(){return E.apply(null,arguments)}},ze.cacheSignal=function(){return null},ze.cloneElement=function(E,D,ie){if(E==null)throw Error("The argument must be a React element, but you passed "+E+".");var ce=A({},E.props),W=E.key;if(D!=null)for(he in D.key!==void 0&&(W=""+D.key),D)!J.call(D,he)||he==="key"||he==="__self"||he==="__source"||he==="ref"&&D.ref===void 0||(ce[he]=D[he]);var he=arguments.length-2;if(he===1)ce.children=ie;else if(1<he){for(var ae=Array(he),ue=0;ue<he;ue++)ae[ue]=arguments[ue+2];ce.children=ae}return Y(E.type,W,ce)},ze.createContext=function(E){return E={$$typeof:h,_currentValue:E,_currentValue2:E,_threadCount:0,Provider:null,Consumer:null},E.Provider=E,E.Consumer={$$typeof:f,_context:E},E},ze.createElement=function(E,D,ie){var ce,W={},he=null;if(D!=null)for(ce in D.key!==void 0&&(he=""+D.key),D)J.call(D,ce)&&ce!=="key"&&ce!=="__self"&&ce!=="__source"&&(W[ce]=D[ce]);var ae=arguments.length-2;if(ae===1)W.children=ie;else if(1<ae){for(var ue=Array(ae),me=0;me<ae;me++)ue[me]=arguments[me+2];W.children=ue}if(E&&E.defaultProps)for(ce in ae=E.defaultProps,ae)W[ce]===void 0&&(W[ce]=ae[ce]);return Y(E,he,W)},ze.createRef=function(){return{current:null}},ze.forwardRef=function(E){return{$$typeof:p,render:E}},ze.isValidElement=F,ze.lazy=function(E){return{$$typeof:w,_payload:{_status:-1,_result:E},_init:Z}},ze.memo=function(E,D){return{$$typeof:g,type:E,compare:D===void 0?null:D}},ze.startTransition=function(E){var D=k.T,ie={};k.T=ie;try{var ce=E(),W=k.S;W!==null&&W(ie,ce),typeof ce=="object"&&ce!==null&&typeof ce.then=="function"&&ce.then(U,fe)}catch(he){fe(he)}finally{D!==null&&ie.types!==null&&(D.types=ie.types),k.T=D}},ze.unstable_useCacheRefresh=function(){return k.H.useCacheRefresh()},ze.use=function(E){return k.H.use(E)},ze.useActionState=function(E,D,ie){return k.H.useActionState(E,D,ie)},ze.useCallback=function(E,D){return k.H.useCallback(E,D)},ze.useContext=function(E){return k.H.useContext(E)},ze.useDebugValue=function(){},ze.useDeferredValue=function(E,D){return k.H.useDeferredValue(E,D)},ze.useEffect=function(E,D){return k.H.useEffect(E,D)},ze.useEffectEvent=function(E){return k.H.useEffectEvent(E)},ze.useId=function(){return k.H.useId()},ze.useImperativeHandle=function(E,D,ie){return k.H.useImperativeHandle(E,D,ie)},ze.useInsertionEffect=function(E,D){return k.H.useInsertionEffect(E,D)},ze.useLayoutEffect=function(E,D){return k.H.useLayoutEffect(E,D)},ze.useMemo=function(E,D){return k.H.useMemo(E,D)},ze.useOptimistic=function(E,D){return k.H.useOptimistic(E,D)},ze.useReducer=function(E,D,ie){return k.H.useReducer(E,D,ie)},ze.useRef=function(E){return k.H.useRef(E)},ze.useState=function(E){return k.H.useState(E)},ze.useSyncExternalStore=function(E,D,ie){return k.H.useSyncExternalStore(E,D,ie)},ze.useTransition=function(){return k.H.useTransition()},ze.version="19.2.4",ze}var T0;function cf(){return T0||(T0=1,Tu.exports=W1()),Tu.exports}var x=cf();const Gl=Eg(x);var Eu={exports:{}},Gi={},Au={exports:{}},Mu={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var E0;function $1(){return E0||(E0=1,(function(l){function i(z,I){var Z=z.length;z.push(I);e:for(;0<Z;){var fe=Z-1>>>1,le=z[fe];if(0<u(le,I))z[fe]=I,z[Z]=le,Z=fe;else break e}}function s(z){return z.length===0?null:z[0]}function r(z){if(z.length===0)return null;var I=z[0],Z=z.pop();if(Z!==I){z[0]=Z;e:for(var fe=0,le=z.length,E=le>>>1;fe<E;){var D=2*(fe+1)-1,ie=z[D],ce=D+1,W=z[ce];if(0>u(ie,Z))ce<le&&0>u(W,ie)?(z[fe]=W,z[ce]=Z,fe=ce):(z[fe]=ie,z[D]=Z,fe=D);else if(ce<le&&0>u(W,Z))z[fe]=W,z[ce]=Z,fe=ce;else break e}}return I}function u(z,I){var Z=z.sortIndex-I.sortIndex;return Z!==0?Z:z.id-I.id}if(l.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var f=performance;l.unstable_now=function(){return f.now()}}else{var h=Date,p=h.now();l.unstable_now=function(){return h.now()-p}}var y=[],g=[],w=1,b=null,_=3,O=!1,R=!1,A=!1,T=!1,N=typeof setTimeout=="function"?setTimeout:null,q=typeof clearTimeout=="function"?clearTimeout:null,Q=typeof setImmediate<"u"?setImmediate:null;function S(z){for(var I=s(g);I!==null;){if(I.callback===null)r(g);else if(I.startTime<=z)r(g),I.sortIndex=I.expirationTime,i(y,I);else break;I=s(g)}}function j(z){if(A=!1,S(z),!R)if(s(y)!==null)R=!0,U||(U=!0,ee());else{var I=s(g);I!==null&&re(j,I.startTime-z)}}var U=!1,k=-1,J=5,Y=-1;function P(){return T?!0:!(l.unstable_now()-Y<J)}function F(){if(T=!1,U){var z=l.unstable_now();Y=z;var I=!0;try{e:{R=!1,A&&(A=!1,q(k),k=-1),O=!0;var Z=_;try{t:{for(S(z),b=s(y);b!==null&&!(b.expirationTime>z&&P());){var fe=b.callback;if(typeof fe=="function"){b.callback=null,_=b.priorityLevel;var le=fe(b.expirationTime<=z);if(z=l.unstable_now(),typeof le=="function"){b.callback=le,S(z),I=!0;break t}b===s(y)&&r(y),S(z)}else r(y);b=s(y)}if(b!==null)I=!0;else{var E=s(g);E!==null&&re(j,E.startTime-z),I=!1}}break e}finally{b=null,_=Z,O=!1}I=void 0}}finally{I?ee():U=!1}}}var ee;if(typeof Q=="function")ee=function(){Q(F)};else if(typeof MessageChannel<"u"){var oe=new MessageChannel,ne=oe.port2;oe.port1.onmessage=F,ee=function(){ne.postMessage(null)}}else ee=function(){N(F,0)};function re(z,I){k=N(function(){z(l.unstable_now())},I)}l.unstable_IdlePriority=5,l.unstable_ImmediatePriority=1,l.unstable_LowPriority=4,l.unstable_NormalPriority=3,l.unstable_Profiling=null,l.unstable_UserBlockingPriority=2,l.unstable_cancelCallback=function(z){z.callback=null},l.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):J=0<z?Math.floor(1e3/z):5},l.unstable_getCurrentPriorityLevel=function(){return _},l.unstable_next=function(z){switch(_){case 1:case 2:case 3:var I=3;break;default:I=_}var Z=_;_=I;try{return z()}finally{_=Z}},l.unstable_requestPaint=function(){T=!0},l.unstable_runWithPriority=function(z,I){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var Z=_;_=z;try{return I()}finally{_=Z}},l.unstable_scheduleCallback=function(z,I,Z){var fe=l.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?fe+Z:fe):Z=fe,z){case 1:var le=-1;break;case 2:le=250;break;case 5:le=1073741823;break;case 4:le=1e4;break;default:le=5e3}return le=Z+le,z={id:w++,callback:I,priorityLevel:z,startTime:Z,expirationTime:le,sortIndex:-1},Z>fe?(z.sortIndex=Z,i(g,z),s(y)===null&&z===s(g)&&(A?(q(k),k=-1):A=!0,re(j,Z-fe))):(z.sortIndex=le,i(y,z),R||O||(R=!0,U||(U=!0,ee()))),z},l.unstable_shouldYield=P,l.unstable_wrapCallback=function(z){var I=_;return function(){var Z=_;_=I;try{return z.apply(this,arguments)}finally{_=Z}}}})(Mu)),Mu}var A0;function J1(){return A0||(A0=1,Au.exports=$1()),Au.exports}var _u={exports:{}},Nt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var M0;function P1(){if(M0)return Nt;M0=1;var l=cf();function i(y){var g="https://react.dev/errors/"+y;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var w=2;w<arguments.length;w++)g+="&args[]="+encodeURIComponent(arguments[w])}return"Minified React error #"+y+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(){}var r={d:{f:s,r:function(){throw Error(i(522))},D:s,C:s,L:s,m:s,X:s,S:s,M:s},p:0,findDOMNode:null},u=Symbol.for("react.portal");function f(y,g,w){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:b==null?null:""+b,children:y,containerInfo:g,implementation:w}}var h=l.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(y,g){if(y==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Nt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Nt.createPortal=function(y,g){var w=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(i(299));return f(y,g,null,w)},Nt.flushSync=function(y){var g=h.T,w=r.p;try{if(h.T=null,r.p=2,y)return y()}finally{h.T=g,r.p=w,r.d.f()}},Nt.preconnect=function(y,g){typeof y=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,r.d.C(y,g))},Nt.prefetchDNS=function(y){typeof y=="string"&&r.d.D(y)},Nt.preinit=function(y,g){if(typeof y=="string"&&g&&typeof g.as=="string"){var w=g.as,b=p(w,g.crossOrigin),_=typeof g.integrity=="string"?g.integrity:void 0,O=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;w==="style"?r.d.S(y,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:b,integrity:_,fetchPriority:O}):w==="script"&&r.d.X(y,{crossOrigin:b,integrity:_,fetchPriority:O,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Nt.preinitModule=function(y,g){if(typeof y=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var w=p(g.as,g.crossOrigin);r.d.M(y,{crossOrigin:w,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&r.d.M(y)},Nt.preload=function(y,g){if(typeof y=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var w=g.as,b=p(w,g.crossOrigin);r.d.L(y,w,{crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Nt.preloadModule=function(y,g){if(typeof y=="string")if(g){var w=p(g.as,g.crossOrigin);r.d.m(y,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:w,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else r.d.m(y)},Nt.requestFormReset=function(y){r.d.r(y)},Nt.unstable_batchedUpdates=function(y,g){return y(g)},Nt.useFormState=function(y,g,w){return h.H.useFormState(y,g,w)},Nt.useFormStatus=function(){return h.H.useHostTransitionStatus()},Nt.version="19.2.4",Nt}var _0;function Ag(){if(_0)return _u.exports;_0=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(i){console.error(i)}}return l(),_u.exports=P1(),_u.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var C0;function ev(){if(C0)return Gi;C0=1;var l=J1(),i=cf(),s=Ag();function r(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function f(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function h(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function p(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function y(e){if(f(e)!==e)throw Error(r(188))}function g(e){var t=e.alternate;if(!t){if(t=f(e),t===null)throw Error(r(188));return t!==e?null:e}for(var n=e,a=t;;){var c=n.return;if(c===null)break;var o=c.alternate;if(o===null){if(a=c.return,a!==null){n=a;continue}break}if(c.child===o.child){for(o=c.child;o;){if(o===n)return y(c),e;if(o===a)return y(c),t;o=o.sibling}throw Error(r(188))}if(n.return!==a.return)n=c,a=o;else{for(var m=!1,v=c.child;v;){if(v===n){m=!0,n=c,a=o;break}if(v===a){m=!0,a=c,n=o;break}v=v.sibling}if(!m){for(v=o.child;v;){if(v===n){m=!0,n=o,a=c;break}if(v===a){m=!0,a=o,n=c;break}v=v.sibling}if(!m)throw Error(r(189))}}if(n.alternate!==a)throw Error(r(190))}if(n.tag!==3)throw Error(r(188));return n.stateNode.current===n?e:t}function w(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=w(e),t!==null)return t;e=e.sibling}return null}var b=Object.assign,_=Symbol.for("react.element"),O=Symbol.for("react.transitional.element"),R=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),q=Symbol.for("react.consumer"),Q=Symbol.for("react.context"),S=Symbol.for("react.forward_ref"),j=Symbol.for("react.suspense"),U=Symbol.for("react.suspense_list"),k=Symbol.for("react.memo"),J=Symbol.for("react.lazy"),Y=Symbol.for("react.activity"),P=Symbol.for("react.memo_cache_sentinel"),F=Symbol.iterator;function ee(e){return e===null||typeof e!="object"?null:(e=F&&e[F]||e["@@iterator"],typeof e=="function"?e:null)}var oe=Symbol.for("react.client.reference");function ne(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===oe?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case A:return"Fragment";case N:return"Profiler";case T:return"StrictMode";case j:return"Suspense";case U:return"SuspenseList";case Y:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case R:return"Portal";case Q:return e.displayName||"Context";case q:return(e._context.displayName||"Context")+".Consumer";case S:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case k:return t=e.displayName||null,t!==null?t:ne(e.type)||"Memo";case J:t=e._payload,e=e._init;try{return ne(e(t))}catch{}}return null}var re=Array.isArray,z=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,I=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z={pending:!1,data:null,method:null,action:null},fe=[],le=-1;function E(e){return{current:e}}function D(e){0>le||(e.current=fe[le],fe[le]=null,le--)}function ie(e,t){le++,fe[le]=e.current,e.current=t}var ce=E(null),W=E(null),he=E(null),ae=E(null);function ue(e,t){switch(ie(he,t),ie(W,e),ie(ce,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Vm(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Vm(t),e=Qm(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}D(ce),ie(ce,e)}function me(){D(ce),D(W),D(he)}function Oe(e){e.memoizedState!==null&&ie(ae,e);var t=ce.current,n=Qm(t,e.type);t!==n&&(ie(W,e),ie(ce,n))}function Me(e){W.current===e&&(D(ce),D(W)),ae.current===e&&(D(ae),ki._currentValue=Z)}var we,be;function X(e){if(we===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);we=t&&t[1]||"",be=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+we+e+be}var ge=!1;function xe(e,t){if(!e||ge)return"";ge=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var a={DetermineComponentFrameRoot:function(){try{if(t){var te=function(){throw Error()};if(Object.defineProperty(te.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(te,[])}catch(V){var G=V}Reflect.construct(e,[],te)}else{try{te.call()}catch(V){G=V}e.call(te.prototype)}}else{try{throw Error()}catch(V){G=V}(te=e())&&typeof te.catch=="function"&&te.catch(function(){})}}catch(V){if(V&&G&&typeof V.stack=="string")return[V.stack,G.stack]}return[null,null]}};a.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(a.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(a.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var o=a.DetermineComponentFrameRoot(),m=o[0],v=o[1];if(m&&v){var M=m.split(`
`),B=v.split(`
`);for(c=a=0;a<M.length&&!M[a].includes("DetermineComponentFrameRoot");)a++;for(;c<B.length&&!B[c].includes("DetermineComponentFrameRoot");)c++;if(a===M.length||c===B.length)for(a=M.length-1,c=B.length-1;1<=a&&0<=c&&M[a]!==B[c];)c--;for(;1<=a&&0<=c;a--,c--)if(M[a]!==B[c]){if(a!==1||c!==1)do if(a--,c--,0>c||M[a]!==B[c]){var K=`
`+M[a].replace(" at new "," at ");return e.displayName&&K.includes("<anonymous>")&&(K=K.replace("<anonymous>",e.displayName)),K}while(1<=a&&0<=c);break}}}finally{ge=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?X(n):""}function _e(e,t){switch(e.tag){case 26:case 27:case 5:return X(e.type);case 16:return X("Lazy");case 13:return e.child!==t&&t!==null?X("Suspense Fallback"):X("Suspense");case 19:return X("SuspenseList");case 0:case 15:return xe(e.type,!1);case 11:return xe(e.type.render,!1);case 1:return xe(e.type,!0);case 31:return X("Activity");default:return""}}function Ce(e){try{var t="",n=null;do t+=_e(e,n),n=e,e=e.return;while(e);return t}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}var je=Object.prototype.hasOwnProperty,Ge=l.unstable_scheduleCallback,Ue=l.unstable_cancelCallback,Pe=l.unstable_shouldYield,bt=l.unstable_requestPaint,et=l.unstable_now,dt=l.unstable_getCurrentPriorityLevel,pn=l.unstable_ImmediatePriority,pe=l.unstable_UserBlockingPriority,Se=l.unstable_NormalPriority,st=l.unstable_LowPriority,tt=l.unstable_IdlePriority,nt=l.log,Tt=l.unstable_setDisableYieldValue,Et=null,ht=null;function Qt(e){if(typeof nt=="function"&&Tt(e),ht&&typeof ht.setStrictMode=="function")try{ht.setStrictMode(Et,e)}catch{}}var zt=Math.clz32?Math.clz32:cc,sc=Math.log,rc=Math.LN2;function cc(e){return e>>>=0,e===0?32:31-(sc(e)/rc|0)|0}var Pa=256,Na=262144,el=4194304;function Tn(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function za(e,t,n){var a=e.pendingLanes;if(a===0)return 0;var c=0,o=e.suspendedLanes,m=e.pingedLanes;e=e.warmLanes;var v=a&134217727;return v!==0?(a=v&~o,a!==0?c=Tn(a):(m&=v,m!==0?c=Tn(m):n||(n=v&~e,n!==0&&(c=Tn(n))))):(v=a&~o,v!==0?c=Tn(v):m!==0?c=Tn(m):n||(n=a&~e,n!==0&&(c=Tn(n)))),c===0?0:t!==0&&t!==c&&(t&o)===0&&(o=c&-c,n=t&-t,o>=n||o===32&&(n&4194048)!==0)?t:c}function Ra(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function tl(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function oc(){var e=el;return el<<=1,(el&62914560)===0&&(el=4194304),e}function $l(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ae(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Ie(e,t,n,a,c,o){var m=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var v=e.entanglements,M=e.expirationTimes,B=e.hiddenUpdates;for(n=m&~n;0<n;){var K=31-zt(n),te=1<<K;v[K]=0,M[K]=-1;var G=B[K];if(G!==null)for(B[K]=null,K=0;K<G.length;K++){var V=G[K];V!==null&&(V.lane&=-536870913)}n&=~te}a!==0&&mt(e,a,0),o!==0&&c===0&&e.tag!==0&&(e.suspendedLanes|=o&~(m&~t))}function mt(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var a=31-zt(t);e.entangledLanes|=t,e.entanglements[a]=e.entanglements[a]|1073741824|n&261930}function Ot(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var a=31-zt(n),c=1<<a;c&t|e[a]&t&&(e[a]|=t),n&=~c}}function gs(e,t){var n=t&-t;return n=(n&42)!==0?1:uc(n),(n&(e.suspendedLanes|t))!==0?0:n}function uc(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function fc(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Cf(){var e=I.p;return e!==0?e:(e=window.event,e===void 0?32:h0(e.type))}function jf(e,t){var n=I.p;try{return I.p=e,t()}finally{I.p=n}}var Pn=Math.random().toString(36).slice(2),At="__reactFiber$"+Pn,Dt="__reactProps$"+Pn,nl="__reactContainer$"+Pn,dc="__reactEvents$"+Pn,kp="__reactListeners$"+Pn,Hp="__reactHandles$"+Pn,Nf="__reactResources$"+Pn,Jl="__reactMarker$"+Pn;function hc(e){delete e[At],delete e[Dt],delete e[dc],delete e[kp],delete e[Hp]}function al(e){var t=e[At];if(t)return t;for(var n=e.parentNode;n;){if(t=n[nl]||n[At]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=$m(e);e!==null;){if(n=e[At])return n;e=$m(e)}return t}e=n,n=e.parentNode}return null}function ll(e){if(e=e[At]||e[nl]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function Pl(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(r(33))}function il(e){var t=e[Nf];return t||(t=e[Nf]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function wt(e){e[Jl]=!0}var zf=new Set,Rf={};function La(e,t){sl(e,t),sl(e+"Capture",t)}function sl(e,t){for(Rf[e]=t,e=0;e<t.length;e++)zf.add(t[e])}var Bp=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Lf={},Of={};function qp(e){return je.call(Of,e)?!0:je.call(Lf,e)?!1:Bp.test(e)?Of[e]=!0:(Lf[e]=!0,!1)}function ps(e,t,n){if(qp(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var a=t.toLowerCase().slice(0,5);if(a!=="data-"&&a!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function ys(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function zn(e,t,n,a){if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+a)}}function tn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Df(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Yp(e,t,n){var a=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var c=a.get,o=a.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return c.call(this)},set:function(m){n=""+m,o.call(this,m)}}),Object.defineProperty(e,t,{enumerable:a.enumerable}),{getValue:function(){return n},setValue:function(m){n=""+m},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function mc(e){if(!e._valueTracker){var t=Df(e)?"checked":"value";e._valueTracker=Yp(e,t,""+e[t])}}function Uf(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),a="";return e&&(a=Df(e)?e.checked?"true":"false":e.value),e=a,e!==n?(t.setValue(e),!0):!1}function vs(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Gp=/[\n"\\]/g;function nn(e){return e.replace(Gp,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function gc(e,t,n,a,c,o,m,v){e.name="",m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"?e.type=m:e.removeAttribute("type"),t!=null?m==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+tn(t)):e.value!==""+tn(t)&&(e.value=""+tn(t)):m!=="submit"&&m!=="reset"||e.removeAttribute("value"),t!=null?pc(e,m,tn(t)):n!=null?pc(e,m,tn(n)):a!=null&&e.removeAttribute("value"),c==null&&o!=null&&(e.defaultChecked=!!o),c!=null&&(e.checked=c&&typeof c!="function"&&typeof c!="symbol"),v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?e.name=""+tn(v):e.removeAttribute("name")}function kf(e,t,n,a,c,o,m,v){if(o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"&&(e.type=o),t!=null||n!=null){if(!(o!=="submit"&&o!=="reset"||t!=null)){mc(e);return}n=n!=null?""+tn(n):"",t=t!=null?""+tn(t):n,v||t===e.value||(e.value=t),e.defaultValue=t}a=a??c,a=typeof a!="function"&&typeof a!="symbol"&&!!a,e.checked=v?e.checked:!!a,e.defaultChecked=!!a,m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(e.name=m),mc(e)}function pc(e,t,n){t==="number"&&vs(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function rl(e,t,n,a){if(e=e.options,t){t={};for(var c=0;c<n.length;c++)t["$"+n[c]]=!0;for(n=0;n<e.length;n++)c=t.hasOwnProperty("$"+e[n].value),e[n].selected!==c&&(e[n].selected=c),c&&a&&(e[n].defaultSelected=!0)}else{for(n=""+tn(n),t=null,c=0;c<e.length;c++){if(e[c].value===n){e[c].selected=!0,a&&(e[c].defaultSelected=!0);return}t!==null||e[c].disabled||(t=e[c])}t!==null&&(t.selected=!0)}}function Hf(e,t,n){if(t!=null&&(t=""+tn(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+tn(n):""}function Bf(e,t,n,a){if(t==null){if(a!=null){if(n!=null)throw Error(r(92));if(re(a)){if(1<a.length)throw Error(r(93));a=a[0]}n=a}n==null&&(n=""),t=n}n=tn(t),e.defaultValue=n,a=e.textContent,a===n&&a!==""&&a!==null&&(e.value=a),mc(e)}function cl(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Vp=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function qf(e,t,n){var a=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?a?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":a?e.setProperty(t,n):typeof n!="number"||n===0||Vp.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Yf(e,t,n){if(t!=null&&typeof t!="object")throw Error(r(62));if(e=e.style,n!=null){for(var a in n)!n.hasOwnProperty(a)||t!=null&&t.hasOwnProperty(a)||(a.indexOf("--")===0?e.setProperty(a,""):a==="float"?e.cssFloat="":e[a]="");for(var c in t)a=t[c],t.hasOwnProperty(c)&&n[c]!==a&&qf(e,c,a)}else for(var o in t)t.hasOwnProperty(o)&&qf(e,o,t[o])}function yc(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Qp=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Xp=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function xs(e){return Xp.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Rn(){}var vc=null;function xc(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ol=null,ul=null;function Gf(e){var t=ll(e);if(t&&(e=t.stateNode)){var n=e[Dt]||null;e:switch(e=t.stateNode,t.type){case"input":if(gc(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+nn(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var a=n[t];if(a!==e&&a.form===e.form){var c=a[Dt]||null;if(!c)throw Error(r(90));gc(a,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(t=0;t<n.length;t++)a=n[t],a.form===e.form&&Uf(a)}break e;case"textarea":Hf(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&rl(e,!!n.multiple,t,!1)}}}var bc=!1;function Vf(e,t,n){if(bc)return e(t,n);bc=!0;try{var a=e(t);return a}finally{if(bc=!1,(ol!==null||ul!==null)&&(sr(),ol&&(t=ol,e=ul,ul=ol=null,Gf(t),e)))for(t=0;t<e.length;t++)Gf(e[t])}}function ei(e,t){var n=e.stateNode;if(n===null)return null;var a=n[Dt]||null;if(a===null)return null;n=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(r(231,t,typeof n));return n}var Ln=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),wc=!1;if(Ln)try{var ti={};Object.defineProperty(ti,"passive",{get:function(){wc=!0}}),window.addEventListener("test",ti,ti),window.removeEventListener("test",ti,ti)}catch{wc=!1}var ea=null,Sc=null,bs=null;function Qf(){if(bs)return bs;var e,t=Sc,n=t.length,a,c="value"in ea?ea.value:ea.textContent,o=c.length;for(e=0;e<n&&t[e]===c[e];e++);var m=n-e;for(a=1;a<=m&&t[n-a]===c[o-a];a++);return bs=c.slice(e,1<a?1-a:void 0)}function ws(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ss(){return!0}function Xf(){return!1}function Ut(e){function t(n,a,c,o,m){this._reactName=n,this._targetInst=c,this.type=a,this.nativeEvent=o,this.target=m,this.currentTarget=null;for(var v in e)e.hasOwnProperty(v)&&(n=e[v],this[v]=n?n(o):o[v]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Ss:Xf,this.isPropagationStopped=Xf,this}return b(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ss)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ss)},persist:function(){},isPersistent:Ss}),t}var Oa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ts=Ut(Oa),ni=b({},Oa,{view:0,detail:0}),Ip=Ut(ni),Tc,Ec,ai,Es=b({},ni,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Mc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ai&&(ai&&e.type==="mousemove"?(Tc=e.screenX-ai.screenX,Ec=e.screenY-ai.screenY):Ec=Tc=0,ai=e),Tc)},movementY:function(e){return"movementY"in e?e.movementY:Ec}}),If=Ut(Es),Zp=b({},Es,{dataTransfer:0}),Kp=Ut(Zp),Fp=b({},ni,{relatedTarget:0}),Ac=Ut(Fp),Wp=b({},Oa,{animationName:0,elapsedTime:0,pseudoElement:0}),$p=Ut(Wp),Jp=b({},Oa,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Pp=Ut(Jp),ey=b({},Oa,{data:0}),Zf=Ut(ey),ty={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ny={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ay={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ly(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=ay[e])?!!t[e]:!1}function Mc(){return ly}var iy=b({},ni,{key:function(e){if(e.key){var t=ty[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ws(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?ny[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Mc,charCode:function(e){return e.type==="keypress"?ws(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ws(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),sy=Ut(iy),ry=b({},Es,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Kf=Ut(ry),cy=b({},ni,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Mc}),oy=Ut(cy),uy=b({},Oa,{propertyName:0,elapsedTime:0,pseudoElement:0}),fy=Ut(uy),dy=b({},Es,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),hy=Ut(dy),my=b({},Oa,{newState:0,oldState:0}),gy=Ut(my),py=[9,13,27,32],_c=Ln&&"CompositionEvent"in window,li=null;Ln&&"documentMode"in document&&(li=document.documentMode);var yy=Ln&&"TextEvent"in window&&!li,Ff=Ln&&(!_c||li&&8<li&&11>=li),Wf=" ",$f=!1;function Jf(e,t){switch(e){case"keyup":return py.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Pf(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var fl=!1;function vy(e,t){switch(e){case"compositionend":return Pf(t);case"keypress":return t.which!==32?null:($f=!0,Wf);case"textInput":return e=t.data,e===Wf&&$f?null:e;default:return null}}function xy(e,t){if(fl)return e==="compositionend"||!_c&&Jf(e,t)?(e=Qf(),bs=Sc=ea=null,fl=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ff&&t.locale!=="ko"?null:t.data;default:return null}}var by={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ed(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!by[e.type]:t==="textarea"}function td(e,t,n,a){ol?ul?ul.push(a):ul=[a]:ol=a,t=hr(t,"onChange"),0<t.length&&(n=new Ts("onChange","change",null,n,a),e.push({event:n,listeners:t}))}var ii=null,si=null;function wy(e){km(e,0)}function As(e){var t=Pl(e);if(Uf(t))return e}function nd(e,t){if(e==="change")return t}var ad=!1;if(Ln){var Cc;if(Ln){var jc="oninput"in document;if(!jc){var ld=document.createElement("div");ld.setAttribute("oninput","return;"),jc=typeof ld.oninput=="function"}Cc=jc}else Cc=!1;ad=Cc&&(!document.documentMode||9<document.documentMode)}function id(){ii&&(ii.detachEvent("onpropertychange",sd),si=ii=null)}function sd(e){if(e.propertyName==="value"&&As(si)){var t=[];td(t,si,e,xc(e)),Vf(wy,t)}}function Sy(e,t,n){e==="focusin"?(id(),ii=t,si=n,ii.attachEvent("onpropertychange",sd)):e==="focusout"&&id()}function Ty(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return As(si)}function Ey(e,t){if(e==="click")return As(t)}function Ay(e,t){if(e==="input"||e==="change")return As(t)}function My(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Xt=typeof Object.is=="function"?Object.is:My;function ri(e,t){if(Xt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;for(a=0;a<n.length;a++){var c=n[a];if(!je.call(t,c)||!Xt(e[c],t[c]))return!1}return!0}function rd(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cd(e,t){var n=rd(e);e=0;for(var a;n;){if(n.nodeType===3){if(a=e+n.textContent.length,e<=t&&a>=t)return{node:n,offset:t-e};e=a}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=rd(n)}}function od(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?od(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function ud(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=vs(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=vs(e.document)}return t}function Nc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var _y=Ln&&"documentMode"in document&&11>=document.documentMode,dl=null,zc=null,ci=null,Rc=!1;function fd(e,t,n){var a=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Rc||dl==null||dl!==vs(a)||(a=dl,"selectionStart"in a&&Nc(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),ci&&ri(ci,a)||(ci=a,a=hr(zc,"onSelect"),0<a.length&&(t=new Ts("onSelect","select",null,t,n),e.push({event:t,listeners:a}),t.target=dl)))}function Da(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var hl={animationend:Da("Animation","AnimationEnd"),animationiteration:Da("Animation","AnimationIteration"),animationstart:Da("Animation","AnimationStart"),transitionrun:Da("Transition","TransitionRun"),transitionstart:Da("Transition","TransitionStart"),transitioncancel:Da("Transition","TransitionCancel"),transitionend:Da("Transition","TransitionEnd")},Lc={},dd={};Ln&&(dd=document.createElement("div").style,"AnimationEvent"in window||(delete hl.animationend.animation,delete hl.animationiteration.animation,delete hl.animationstart.animation),"TransitionEvent"in window||delete hl.transitionend.transition);function Ua(e){if(Lc[e])return Lc[e];if(!hl[e])return e;var t=hl[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in dd)return Lc[e]=t[n];return e}var hd=Ua("animationend"),md=Ua("animationiteration"),gd=Ua("animationstart"),Cy=Ua("transitionrun"),jy=Ua("transitionstart"),Ny=Ua("transitioncancel"),pd=Ua("transitionend"),yd=new Map,Oc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Oc.push("scrollEnd");function yn(e,t){yd.set(e,t),La(t,[e])}var Ms=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},an=[],ml=0,Dc=0;function _s(){for(var e=ml,t=Dc=ml=0;t<e;){var n=an[t];an[t++]=null;var a=an[t];an[t++]=null;var c=an[t];an[t++]=null;var o=an[t];if(an[t++]=null,a!==null&&c!==null){var m=a.pending;m===null?c.next=c:(c.next=m.next,m.next=c),a.pending=c}o!==0&&vd(n,c,o)}}function Cs(e,t,n,a){an[ml++]=e,an[ml++]=t,an[ml++]=n,an[ml++]=a,Dc|=a,e.lanes|=a,e=e.alternate,e!==null&&(e.lanes|=a)}function Uc(e,t,n,a){return Cs(e,t,n,a),js(e)}function ka(e,t){return Cs(e,null,null,t),js(e)}function vd(e,t,n){e.lanes|=n;var a=e.alternate;a!==null&&(a.lanes|=n);for(var c=!1,o=e.return;o!==null;)o.childLanes|=n,a=o.alternate,a!==null&&(a.childLanes|=n),o.tag===22&&(e=o.stateNode,e===null||e._visibility&1||(c=!0)),e=o,o=o.return;return e.tag===3?(o=e.stateNode,c&&t!==null&&(c=31-zt(n),e=o.hiddenUpdates,a=e[c],a===null?e[c]=[t]:a.push(t),t.lane=n|536870912),o):null}function js(e){if(50<Ni)throw Ni=0,Io=null,Error(r(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var gl={};function zy(e,t,n,a){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function It(e,t,n,a){return new zy(e,t,n,a)}function kc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function On(e,t){var n=e.alternate;return n===null?(n=It(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function xd(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Ns(e,t,n,a,c,o){var m=0;if(a=e,typeof e=="function")kc(e)&&(m=1);else if(typeof e=="string")m=U1(e,n,ce.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case Y:return e=It(31,n,t,c),e.elementType=Y,e.lanes=o,e;case A:return Ha(n.children,c,o,t);case T:m=8,c|=24;break;case N:return e=It(12,n,t,c|2),e.elementType=N,e.lanes=o,e;case j:return e=It(13,n,t,c),e.elementType=j,e.lanes=o,e;case U:return e=It(19,n,t,c),e.elementType=U,e.lanes=o,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Q:m=10;break e;case q:m=9;break e;case S:m=11;break e;case k:m=14;break e;case J:m=16,a=null;break e}m=29,n=Error(r(130,e===null?"null":typeof e,"")),a=null}return t=It(m,n,t,c),t.elementType=e,t.type=a,t.lanes=o,t}function Ha(e,t,n,a){return e=It(7,e,a,t),e.lanes=n,e}function Hc(e,t,n){return e=It(6,e,null,t),e.lanes=n,e}function bd(e){var t=It(18,null,null,0);return t.stateNode=e,t}function Bc(e,t,n){return t=It(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var wd=new WeakMap;function ln(e,t){if(typeof e=="object"&&e!==null){var n=wd.get(e);return n!==void 0?n:(t={value:e,source:t,stack:Ce(t)},wd.set(e,t),t)}return{value:e,source:t,stack:Ce(t)}}var pl=[],yl=0,zs=null,oi=0,sn=[],rn=0,ta=null,En=1,An="";function Dn(e,t){pl[yl++]=oi,pl[yl++]=zs,zs=e,oi=t}function Sd(e,t,n){sn[rn++]=En,sn[rn++]=An,sn[rn++]=ta,ta=e;var a=En;e=An;var c=32-zt(a)-1;a&=~(1<<c),n+=1;var o=32-zt(t)+c;if(30<o){var m=c-c%5;o=(a&(1<<m)-1).toString(32),a>>=m,c-=m,En=1<<32-zt(t)+c|n<<c|a,An=o+e}else En=1<<o|n<<c|a,An=e}function qc(e){e.return!==null&&(Dn(e,1),Sd(e,1,0))}function Yc(e){for(;e===zs;)zs=pl[--yl],pl[yl]=null,oi=pl[--yl],pl[yl]=null;for(;e===ta;)ta=sn[--rn],sn[rn]=null,An=sn[--rn],sn[rn]=null,En=sn[--rn],sn[rn]=null}function Td(e,t){sn[rn++]=En,sn[rn++]=An,sn[rn++]=ta,En=t.id,An=t.overflow,ta=e}var Mt=null,at=null,Ye=!1,na=null,cn=!1,Gc=Error(r(519));function aa(e){var t=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ui(ln(t,e)),Gc}function Ed(e){var t=e.stateNode,n=e.type,a=e.memoizedProps;switch(t[At]=e,t[Dt]=a,n){case"dialog":He("cancel",t),He("close",t);break;case"iframe":case"object":case"embed":He("load",t);break;case"video":case"audio":for(n=0;n<Ri.length;n++)He(Ri[n],t);break;case"source":He("error",t);break;case"img":case"image":case"link":He("error",t),He("load",t);break;case"details":He("toggle",t);break;case"input":He("invalid",t),kf(t,a.value,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name,!0);break;case"select":He("invalid",t);break;case"textarea":He("invalid",t),Bf(t,a.value,a.defaultValue,a.children)}n=a.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||a.suppressHydrationWarning===!0||Ym(t.textContent,n)?(a.popover!=null&&(He("beforetoggle",t),He("toggle",t)),a.onScroll!=null&&He("scroll",t),a.onScrollEnd!=null&&He("scrollend",t),a.onClick!=null&&(t.onclick=Rn),t=!0):t=!1,t||aa(e,!0)}function Ad(e){for(Mt=e.return;Mt;)switch(Mt.tag){case 5:case 31:case 13:cn=!1;return;case 27:case 3:cn=!0;return;default:Mt=Mt.return}}function vl(e){if(e!==Mt)return!1;if(!Ye)return Ad(e),Ye=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||ru(e.type,e.memoizedProps)),n=!n),n&&at&&aa(e),Ad(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));at=Wm(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));at=Wm(e)}else t===27?(t=at,ya(e.type)?(e=du,du=null,at=e):at=t):at=Mt?un(e.stateNode.nextSibling):null;return!0}function Ba(){at=Mt=null,Ye=!1}function Vc(){var e=na;return e!==null&&(qt===null?qt=e:qt.push.apply(qt,e),na=null),e}function ui(e){na===null?na=[e]:na.push(e)}var Qc=E(null),qa=null,Un=null;function la(e,t,n){ie(Qc,t._currentValue),t._currentValue=n}function kn(e){e._currentValue=Qc.current,D(Qc)}function Xc(e,t,n){for(;e!==null;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,a!==null&&(a.childLanes|=t)):a!==null&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===n)break;e=e.return}}function Ic(e,t,n,a){var c=e.child;for(c!==null&&(c.return=e);c!==null;){var o=c.dependencies;if(o!==null){var m=c.child;o=o.firstContext;e:for(;o!==null;){var v=o;o=c;for(var M=0;M<t.length;M++)if(v.context===t[M]){o.lanes|=n,v=o.alternate,v!==null&&(v.lanes|=n),Xc(o.return,n,e),a||(m=null);break e}o=v.next}}else if(c.tag===18){if(m=c.return,m===null)throw Error(r(341));m.lanes|=n,o=m.alternate,o!==null&&(o.lanes|=n),Xc(m,n,e),m=null}else m=c.child;if(m!==null)m.return=c;else for(m=c;m!==null;){if(m===e){m=null;break}if(c=m.sibling,c!==null){c.return=m.return,m=c;break}m=m.return}c=m}}function xl(e,t,n,a){e=null;for(var c=t,o=!1;c!==null;){if(!o){if((c.flags&524288)!==0)o=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var m=c.alternate;if(m===null)throw Error(r(387));if(m=m.memoizedProps,m!==null){var v=c.type;Xt(c.pendingProps.value,m.value)||(e!==null?e.push(v):e=[v])}}else if(c===ae.current){if(m=c.alternate,m===null)throw Error(r(387));m.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(e!==null?e.push(ki):e=[ki])}c=c.return}e!==null&&Ic(t,e,n,a),t.flags|=262144}function Rs(e){for(e=e.firstContext;e!==null;){if(!Xt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ya(e){qa=e,Un=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function _t(e){return Md(qa,e)}function Ls(e,t){return qa===null&&Ya(e),Md(e,t)}function Md(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},Un===null){if(e===null)throw Error(r(308));Un=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Un=Un.next=t;return n}var Ry=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,a){e.push(a)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},Ly=l.unstable_scheduleCallback,Oy=l.unstable_NormalPriority,gt={$$typeof:Q,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Zc(){return{controller:new Ry,data:new Map,refCount:0}}function fi(e){e.refCount--,e.refCount===0&&Ly(Oy,function(){e.controller.abort()})}var di=null,Kc=0,bl=0,wl=null;function Dy(e,t){if(di===null){var n=di=[];Kc=0,bl=Jo(),wl={status:"pending",value:void 0,then:function(a){n.push(a)}}}return Kc++,t.then(_d,_d),t}function _d(){if(--Kc===0&&di!==null){wl!==null&&(wl.status="fulfilled");var e=di;di=null,bl=0,wl=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function Uy(e,t){var n=[],a={status:"pending",value:null,reason:null,then:function(c){n.push(c)}};return e.then(function(){a.status="fulfilled",a.value=t;for(var c=0;c<n.length;c++)(0,n[c])(t)},function(c){for(a.status="rejected",a.reason=c,c=0;c<n.length;c++)(0,n[c])(void 0)}),a}var Cd=z.S;z.S=function(e,t){fm=et(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&Dy(e,t),Cd!==null&&Cd(e,t)};var Ga=E(null);function Fc(){var e=Ga.current;return e!==null?e:Je.pooledCache}function Os(e,t){t===null?ie(Ga,Ga.current):ie(Ga,t.pool)}function jd(){var e=Fc();return e===null?null:{parent:gt._currentValue,pool:e}}var Sl=Error(r(460)),Wc=Error(r(474)),Ds=Error(r(542)),Us={then:function(){}};function Nd(e){return e=e.status,e==="fulfilled"||e==="rejected"}function zd(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(Rn,Rn),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Ld(e),e;default:if(typeof t.status=="string")t.then(Rn,Rn);else{if(e=Je,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=t,e.status="pending",e.then(function(a){if(t.status==="pending"){var c=t;c.status="fulfilled",c.value=a}},function(a){if(t.status==="pending"){var c=t;c.status="rejected",c.reason=a}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Ld(e),e}throw Qa=t,Sl}}function Va(e){try{var t=e._init;return t(e._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(Qa=n,Sl):n}}var Qa=null;function Rd(){if(Qa===null)throw Error(r(459));var e=Qa;return Qa=null,e}function Ld(e){if(e===Sl||e===Ds)throw Error(r(483))}var Tl=null,hi=0;function ks(e){var t=hi;return hi+=1,Tl===null&&(Tl=[]),zd(Tl,e,t)}function mi(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Hs(e,t){throw t.$$typeof===_?Error(r(525)):(e=Object.prototype.toString.call(t),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Od(e){function t(L,C){if(e){var H=L.deletions;H===null?(L.deletions=[C],L.flags|=16):H.push(C)}}function n(L,C){if(!e)return null;for(;C!==null;)t(L,C),C=C.sibling;return null}function a(L){for(var C=new Map;L!==null;)L.key!==null?C.set(L.key,L):C.set(L.index,L),L=L.sibling;return C}function c(L,C){return L=On(L,C),L.index=0,L.sibling=null,L}function o(L,C,H){return L.index=H,e?(H=L.alternate,H!==null?(H=H.index,H<C?(L.flags|=67108866,C):H):(L.flags|=67108866,C)):(L.flags|=1048576,C)}function m(L){return e&&L.alternate===null&&(L.flags|=67108866),L}function v(L,C,H,$){return C===null||C.tag!==6?(C=Hc(H,L.mode,$),C.return=L,C):(C=c(C,H),C.return=L,C)}function M(L,C,H,$){var Te=H.type;return Te===A?K(L,C,H.props.children,$,H.key):C!==null&&(C.elementType===Te||typeof Te=="object"&&Te!==null&&Te.$$typeof===J&&Va(Te)===C.type)?(C=c(C,H.props),mi(C,H),C.return=L,C):(C=Ns(H.type,H.key,H.props,null,L.mode,$),mi(C,H),C.return=L,C)}function B(L,C,H,$){return C===null||C.tag!==4||C.stateNode.containerInfo!==H.containerInfo||C.stateNode.implementation!==H.implementation?(C=Bc(H,L.mode,$),C.return=L,C):(C=c(C,H.children||[]),C.return=L,C)}function K(L,C,H,$,Te){return C===null||C.tag!==7?(C=Ha(H,L.mode,$,Te),C.return=L,C):(C=c(C,H),C.return=L,C)}function te(L,C,H){if(typeof C=="string"&&C!==""||typeof C=="number"||typeof C=="bigint")return C=Hc(""+C,L.mode,H),C.return=L,C;if(typeof C=="object"&&C!==null){switch(C.$$typeof){case O:return H=Ns(C.type,C.key,C.props,null,L.mode,H),mi(H,C),H.return=L,H;case R:return C=Bc(C,L.mode,H),C.return=L,C;case J:return C=Va(C),te(L,C,H)}if(re(C)||ee(C))return C=Ha(C,L.mode,H,null),C.return=L,C;if(typeof C.then=="function")return te(L,ks(C),H);if(C.$$typeof===Q)return te(L,Ls(L,C),H);Hs(L,C)}return null}function G(L,C,H,$){var Te=C!==null?C.key:null;if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return Te!==null?null:v(L,C,""+H,$);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case O:return H.key===Te?M(L,C,H,$):null;case R:return H.key===Te?B(L,C,H,$):null;case J:return H=Va(H),G(L,C,H,$)}if(re(H)||ee(H))return Te!==null?null:K(L,C,H,$,null);if(typeof H.then=="function")return G(L,C,ks(H),$);if(H.$$typeof===Q)return G(L,C,Ls(L,H),$);Hs(L,H)}return null}function V(L,C,H,$,Te){if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return L=L.get(H)||null,v(C,L,""+$,Te);if(typeof $=="object"&&$!==null){switch($.$$typeof){case O:return L=L.get($.key===null?H:$.key)||null,M(C,L,$,Te);case R:return L=L.get($.key===null?H:$.key)||null,B(C,L,$,Te);case J:return $=Va($),V(L,C,H,$,Te)}if(re($)||ee($))return L=L.get(H)||null,K(C,L,$,Te,null);if(typeof $.then=="function")return V(L,C,H,ks($),Te);if($.$$typeof===Q)return V(L,C,H,Ls(C,$),Te);Hs(C,$)}return null}function ye(L,C,H,$){for(var Te=null,Ve=null,ve=C,De=C=0,qe=null;ve!==null&&De<H.length;De++){ve.index>De?(qe=ve,ve=null):qe=ve.sibling;var Qe=G(L,ve,H[De],$);if(Qe===null){ve===null&&(ve=qe);break}e&&ve&&Qe.alternate===null&&t(L,ve),C=o(Qe,C,De),Ve===null?Te=Qe:Ve.sibling=Qe,Ve=Qe,ve=qe}if(De===H.length)return n(L,ve),Ye&&Dn(L,De),Te;if(ve===null){for(;De<H.length;De++)ve=te(L,H[De],$),ve!==null&&(C=o(ve,C,De),Ve===null?Te=ve:Ve.sibling=ve,Ve=ve);return Ye&&Dn(L,De),Te}for(ve=a(ve);De<H.length;De++)qe=V(ve,L,De,H[De],$),qe!==null&&(e&&qe.alternate!==null&&ve.delete(qe.key===null?De:qe.key),C=o(qe,C,De),Ve===null?Te=qe:Ve.sibling=qe,Ve=qe);return e&&ve.forEach(function(Sa){return t(L,Sa)}),Ye&&Dn(L,De),Te}function Ee(L,C,H,$){if(H==null)throw Error(r(151));for(var Te=null,Ve=null,ve=C,De=C=0,qe=null,Qe=H.next();ve!==null&&!Qe.done;De++,Qe=H.next()){ve.index>De?(qe=ve,ve=null):qe=ve.sibling;var Sa=G(L,ve,Qe.value,$);if(Sa===null){ve===null&&(ve=qe);break}e&&ve&&Sa.alternate===null&&t(L,ve),C=o(Sa,C,De),Ve===null?Te=Sa:Ve.sibling=Sa,Ve=Sa,ve=qe}if(Qe.done)return n(L,ve),Ye&&Dn(L,De),Te;if(ve===null){for(;!Qe.done;De++,Qe=H.next())Qe=te(L,Qe.value,$),Qe!==null&&(C=o(Qe,C,De),Ve===null?Te=Qe:Ve.sibling=Qe,Ve=Qe);return Ye&&Dn(L,De),Te}for(ve=a(ve);!Qe.done;De++,Qe=H.next())Qe=V(ve,L,De,Qe.value,$),Qe!==null&&(e&&Qe.alternate!==null&&ve.delete(Qe.key===null?De:Qe.key),C=o(Qe,C,De),Ve===null?Te=Qe:Ve.sibling=Qe,Ve=Qe);return e&&ve.forEach(function(Z1){return t(L,Z1)}),Ye&&Dn(L,De),Te}function $e(L,C,H,$){if(typeof H=="object"&&H!==null&&H.type===A&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case O:e:{for(var Te=H.key;C!==null;){if(C.key===Te){if(Te=H.type,Te===A){if(C.tag===7){n(L,C.sibling),$=c(C,H.props.children),$.return=L,L=$;break e}}else if(C.elementType===Te||typeof Te=="object"&&Te!==null&&Te.$$typeof===J&&Va(Te)===C.type){n(L,C.sibling),$=c(C,H.props),mi($,H),$.return=L,L=$;break e}n(L,C);break}else t(L,C);C=C.sibling}H.type===A?($=Ha(H.props.children,L.mode,$,H.key),$.return=L,L=$):($=Ns(H.type,H.key,H.props,null,L.mode,$),mi($,H),$.return=L,L=$)}return m(L);case R:e:{for(Te=H.key;C!==null;){if(C.key===Te)if(C.tag===4&&C.stateNode.containerInfo===H.containerInfo&&C.stateNode.implementation===H.implementation){n(L,C.sibling),$=c(C,H.children||[]),$.return=L,L=$;break e}else{n(L,C);break}else t(L,C);C=C.sibling}$=Bc(H,L.mode,$),$.return=L,L=$}return m(L);case J:return H=Va(H),$e(L,C,H,$)}if(re(H))return ye(L,C,H,$);if(ee(H)){if(Te=ee(H),typeof Te!="function")throw Error(r(150));return H=Te.call(H),Ee(L,C,H,$)}if(typeof H.then=="function")return $e(L,C,ks(H),$);if(H.$$typeof===Q)return $e(L,C,Ls(L,H),$);Hs(L,H)}return typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint"?(H=""+H,C!==null&&C.tag===6?(n(L,C.sibling),$=c(C,H),$.return=L,L=$):(n(L,C),$=Hc(H,L.mode,$),$.return=L,L=$),m(L)):n(L,C)}return function(L,C,H,$){try{hi=0;var Te=$e(L,C,H,$);return Tl=null,Te}catch(ve){if(ve===Sl||ve===Ds)throw ve;var Ve=It(29,ve,null,L.mode);return Ve.lanes=$,Ve.return=L,Ve}finally{}}}var Xa=Od(!0),Dd=Od(!1),ia=!1;function $c(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Jc(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function sa(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ra(e,t,n){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,(Xe&2)!==0){var c=a.pending;return c===null?t.next=t:(t.next=c.next,c.next=t),a.pending=t,t=js(e),vd(e,null,n),t}return Cs(e,a,t,n),js(e)}function gi(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var a=t.lanes;a&=e.pendingLanes,n|=a,t.lanes=n,Ot(e,n)}}function Pc(e,t){var n=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,n===a)){var c=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var m={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};o===null?c=o=m:o=o.next=m,n=n.next}while(n!==null);o===null?c=o=t:o=o.next=t}else c=o=t;n={baseState:a.baseState,firstBaseUpdate:c,lastBaseUpdate:o,shared:a.shared,callbacks:a.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var eo=!1;function pi(){if(eo){var e=wl;if(e!==null)throw e}}function yi(e,t,n,a){eo=!1;var c=e.updateQueue;ia=!1;var o=c.firstBaseUpdate,m=c.lastBaseUpdate,v=c.shared.pending;if(v!==null){c.shared.pending=null;var M=v,B=M.next;M.next=null,m===null?o=B:m.next=B,m=M;var K=e.alternate;K!==null&&(K=K.updateQueue,v=K.lastBaseUpdate,v!==m&&(v===null?K.firstBaseUpdate=B:v.next=B,K.lastBaseUpdate=M))}if(o!==null){var te=c.baseState;m=0,K=B=M=null,v=o;do{var G=v.lane&-536870913,V=G!==v.lane;if(V?(Be&G)===G:(a&G)===G){G!==0&&G===bl&&(eo=!0),K!==null&&(K=K.next={lane:0,tag:v.tag,payload:v.payload,callback:null,next:null});e:{var ye=e,Ee=v;G=t;var $e=n;switch(Ee.tag){case 1:if(ye=Ee.payload,typeof ye=="function"){te=ye.call($e,te,G);break e}te=ye;break e;case 3:ye.flags=ye.flags&-65537|128;case 0:if(ye=Ee.payload,G=typeof ye=="function"?ye.call($e,te,G):ye,G==null)break e;te=b({},te,G);break e;case 2:ia=!0}}G=v.callback,G!==null&&(e.flags|=64,V&&(e.flags|=8192),V=c.callbacks,V===null?c.callbacks=[G]:V.push(G))}else V={lane:G,tag:v.tag,payload:v.payload,callback:v.callback,next:null},K===null?(B=K=V,M=te):K=K.next=V,m|=G;if(v=v.next,v===null){if(v=c.shared.pending,v===null)break;V=v,v=V.next,V.next=null,c.lastBaseUpdate=V,c.shared.pending=null}}while(!0);K===null&&(M=te),c.baseState=M,c.firstBaseUpdate=B,c.lastBaseUpdate=K,o===null&&(c.shared.lanes=0),da|=m,e.lanes=m,e.memoizedState=te}}function Ud(e,t){if(typeof e!="function")throw Error(r(191,e));e.call(t)}function kd(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)Ud(n[e],t)}var El=E(null),Bs=E(0);function Hd(e,t){e=In,ie(Bs,e),ie(El,t),In=e|t.baseLanes}function to(){ie(Bs,In),ie(El,El.current)}function no(){In=Bs.current,D(El),D(Bs)}var Zt=E(null),on=null;function ca(e){var t=e.alternate;ie(ut,ut.current&1),ie(Zt,e),on===null&&(t===null||El.current!==null||t.memoizedState!==null)&&(on=e)}function ao(e){ie(ut,ut.current),ie(Zt,e),on===null&&(on=e)}function Bd(e){e.tag===22?(ie(ut,ut.current),ie(Zt,e),on===null&&(on=e)):oa()}function oa(){ie(ut,ut.current),ie(Zt,Zt.current)}function Kt(e){D(Zt),on===e&&(on=null),D(ut)}var ut=E(0);function qs(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||uu(n)||fu(n)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Hn=0,Le=null,Fe=null,pt=null,Ys=!1,Al=!1,Ia=!1,Gs=0,vi=0,Ml=null,ky=0;function ct(){throw Error(r(321))}function lo(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Xt(e[n],t[n]))return!1;return!0}function io(e,t,n,a,c,o){return Hn=o,Le=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,z.H=e===null||e.memoizedState===null?Sh:wo,Ia=!1,o=n(a,c),Ia=!1,Al&&(o=Yd(t,n,a,c)),qd(e),o}function qd(e){z.H=wi;var t=Fe!==null&&Fe.next!==null;if(Hn=0,pt=Fe=Le=null,Ys=!1,vi=0,Ml=null,t)throw Error(r(300));e===null||yt||(e=e.dependencies,e!==null&&Rs(e)&&(yt=!0))}function Yd(e,t,n,a){Le=e;var c=0;do{if(Al&&(Ml=null),vi=0,Al=!1,25<=c)throw Error(r(301));if(c+=1,pt=Fe=null,e.updateQueue!=null){var o=e.updateQueue;o.lastEffect=null,o.events=null,o.stores=null,o.memoCache!=null&&(o.memoCache.index=0)}z.H=Th,o=t(n,a)}while(Al);return o}function Hy(){var e=z.H,t=e.useState()[0];return t=typeof t.then=="function"?xi(t):t,e=e.useState()[0],(Fe!==null?Fe.memoizedState:null)!==e&&(Le.flags|=1024),t}function so(){var e=Gs!==0;return Gs=0,e}function ro(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function co(e){if(Ys){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Ys=!1}Hn=0,pt=Fe=Le=null,Al=!1,vi=Gs=0,Ml=null}function Rt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return pt===null?Le.memoizedState=pt=e:pt=pt.next=e,pt}function ft(){if(Fe===null){var e=Le.alternate;e=e!==null?e.memoizedState:null}else e=Fe.next;var t=pt===null?Le.memoizedState:pt.next;if(t!==null)pt=t,Fe=e;else{if(e===null)throw Le.alternate===null?Error(r(467)):Error(r(310));Fe=e,e={memoizedState:Fe.memoizedState,baseState:Fe.baseState,baseQueue:Fe.baseQueue,queue:Fe.queue,next:null},pt===null?Le.memoizedState=pt=e:pt=pt.next=e}return pt}function Vs(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function xi(e){var t=vi;return vi+=1,Ml===null&&(Ml=[]),e=zd(Ml,e,t),t=Le,(pt===null?t.memoizedState:pt.next)===null&&(t=t.alternate,z.H=t===null||t.memoizedState===null?Sh:wo),e}function Qs(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return xi(e);if(e.$$typeof===Q)return _t(e)}throw Error(r(438,String(e)))}function oo(e){var t=null,n=Le.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var a=Le.alternate;a!==null&&(a=a.updateQueue,a!==null&&(a=a.memoCache,a!=null&&(t={data:a.data.map(function(c){return c.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=Vs(),Le.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),a=0;a<e;a++)n[a]=P;return t.index++,n}function Bn(e,t){return typeof t=="function"?t(e):t}function Xs(e){var t=ft();return uo(t,Fe,e)}function uo(e,t,n){var a=e.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=n;var c=e.baseQueue,o=a.pending;if(o!==null){if(c!==null){var m=c.next;c.next=o.next,o.next=m}t.baseQueue=c=o,a.pending=null}if(o=e.baseState,c===null)e.memoizedState=o;else{t=c.next;var v=m=null,M=null,B=t,K=!1;do{var te=B.lane&-536870913;if(te!==B.lane?(Be&te)===te:(Hn&te)===te){var G=B.revertLane;if(G===0)M!==null&&(M=M.next={lane:0,revertLane:0,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),te===bl&&(K=!0);else if((Hn&G)===G){B=B.next,G===bl&&(K=!0);continue}else te={lane:0,revertLane:B.revertLane,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},M===null?(v=M=te,m=o):M=M.next=te,Le.lanes|=G,da|=G;te=B.action,Ia&&n(o,te),o=B.hasEagerState?B.eagerState:n(o,te)}else G={lane:te,revertLane:B.revertLane,gesture:B.gesture,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},M===null?(v=M=G,m=o):M=M.next=G,Le.lanes|=te,da|=te;B=B.next}while(B!==null&&B!==t);if(M===null?m=o:M.next=v,!Xt(o,e.memoizedState)&&(yt=!0,K&&(n=wl,n!==null)))throw n;e.memoizedState=o,e.baseState=m,e.baseQueue=M,a.lastRenderedState=o}return c===null&&(a.lanes=0),[e.memoizedState,a.dispatch]}function fo(e){var t=ft(),n=t.queue;if(n===null)throw Error(r(311));n.lastRenderedReducer=e;var a=n.dispatch,c=n.pending,o=t.memoizedState;if(c!==null){n.pending=null;var m=c=c.next;do o=e(o,m.action),m=m.next;while(m!==c);Xt(o,t.memoizedState)||(yt=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,a]}function Gd(e,t,n){var a=Le,c=ft(),o=Ye;if(o){if(n===void 0)throw Error(r(407));n=n()}else n=t();var m=!Xt((Fe||c).memoizedState,n);if(m&&(c.memoizedState=n,yt=!0),c=c.queue,go(Xd.bind(null,a,c,e),[e]),c.getSnapshot!==t||m||pt!==null&&pt.memoizedState.tag&1){if(a.flags|=2048,_l(9,{destroy:void 0},Qd.bind(null,a,c,n,t),null),Je===null)throw Error(r(349));o||(Hn&127)!==0||Vd(a,t,n)}return n}function Vd(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Le.updateQueue,t===null?(t=Vs(),Le.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Qd(e,t,n,a){t.value=n,t.getSnapshot=a,Id(t)&&Zd(e)}function Xd(e,t,n){return n(function(){Id(t)&&Zd(e)})}function Id(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Xt(e,n)}catch{return!0}}function Zd(e){var t=ka(e,2);t!==null&&Yt(t,e,2)}function ho(e){var t=Rt();if(typeof e=="function"){var n=e;if(e=n(),Ia){Qt(!0);try{n()}finally{Qt(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bn,lastRenderedState:e},t}function Kd(e,t,n,a){return e.baseState=n,uo(e,Fe,typeof a=="function"?a:Bn)}function By(e,t,n,a,c){if(Ks(e))throw Error(r(485));if(e=t.action,e!==null){var o={payload:c,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(m){o.listeners.push(m)}};z.T!==null?n(!0):o.isTransition=!1,a(o),n=t.pending,n===null?(o.next=t.pending=o,Fd(t,o)):(o.next=n.next,t.pending=n.next=o)}}function Fd(e,t){var n=t.action,a=t.payload,c=e.state;if(t.isTransition){var o=z.T,m={};z.T=m;try{var v=n(c,a),M=z.S;M!==null&&M(m,v),Wd(e,t,v)}catch(B){mo(e,t,B)}finally{o!==null&&m.types!==null&&(o.types=m.types),z.T=o}}else try{o=n(c,a),Wd(e,t,o)}catch(B){mo(e,t,B)}}function Wd(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(a){$d(e,t,a)},function(a){return mo(e,t,a)}):$d(e,t,n)}function $d(e,t,n){t.status="fulfilled",t.value=n,Jd(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,Fd(e,n)))}function mo(e,t,n){var a=e.pending;if(e.pending=null,a!==null){a=a.next;do t.status="rejected",t.reason=n,Jd(t),t=t.next;while(t!==a)}e.action=null}function Jd(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Pd(e,t){return t}function eh(e,t){if(Ye){var n=Je.formState;if(n!==null){e:{var a=Le;if(Ye){if(at){t:{for(var c=at,o=cn;c.nodeType!==8;){if(!o){c=null;break t}if(c=un(c.nextSibling),c===null){c=null;break t}}o=c.data,c=o==="F!"||o==="F"?c:null}if(c){at=un(c.nextSibling),a=c.data==="F!";break e}}aa(a)}a=!1}a&&(t=n[0])}}return n=Rt(),n.memoizedState=n.baseState=t,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pd,lastRenderedState:t},n.queue=a,n=xh.bind(null,Le,a),a.dispatch=n,a=ho(!1),o=bo.bind(null,Le,!1,a.queue),a=Rt(),c={state:t,dispatch:null,action:e,pending:null},a.queue=c,n=By.bind(null,Le,c,o,n),c.dispatch=n,a.memoizedState=e,[t,n,!1]}function th(e){var t=ft();return nh(t,Fe,e)}function nh(e,t,n){if(t=uo(e,t,Pd)[0],e=Xs(Bn)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var a=xi(t)}catch(m){throw m===Sl?Ds:m}else a=t;t=ft();var c=t.queue,o=c.dispatch;return n!==t.memoizedState&&(Le.flags|=2048,_l(9,{destroy:void 0},qy.bind(null,c,n),null)),[a,o,e]}function qy(e,t){e.action=t}function ah(e){var t=ft(),n=Fe;if(n!==null)return nh(t,n,e);ft(),t=t.memoizedState,n=ft();var a=n.queue.dispatch;return n.memoizedState=e,[t,a,!1]}function _l(e,t,n,a){return e={tag:e,create:n,deps:a,inst:t,next:null},t=Le.updateQueue,t===null&&(t=Vs(),Le.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(a=n.next,n.next=e,e.next=a,t.lastEffect=e),e}function lh(){return ft().memoizedState}function Is(e,t,n,a){var c=Rt();Le.flags|=e,c.memoizedState=_l(1|t,{destroy:void 0},n,a===void 0?null:a)}function Zs(e,t,n,a){var c=ft();a=a===void 0?null:a;var o=c.memoizedState.inst;Fe!==null&&a!==null&&lo(a,Fe.memoizedState.deps)?c.memoizedState=_l(t,o,n,a):(Le.flags|=e,c.memoizedState=_l(1|t,o,n,a))}function ih(e,t){Is(8390656,8,e,t)}function go(e,t){Zs(2048,8,e,t)}function Yy(e){Le.flags|=4;var t=Le.updateQueue;if(t===null)t=Vs(),Le.updateQueue=t,t.events=[e];else{var n=t.events;n===null?t.events=[e]:n.push(e)}}function sh(e){var t=ft().memoizedState;return Yy({ref:t,nextImpl:e}),function(){if((Xe&2)!==0)throw Error(r(440));return t.impl.apply(void 0,arguments)}}function rh(e,t){return Zs(4,2,e,t)}function ch(e,t){return Zs(4,4,e,t)}function oh(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function uh(e,t,n){n=n!=null?n.concat([e]):null,Zs(4,4,oh.bind(null,t,e),n)}function po(){}function fh(e,t){var n=ft();t=t===void 0?null:t;var a=n.memoizedState;return t!==null&&lo(t,a[1])?a[0]:(n.memoizedState=[e,t],e)}function dh(e,t){var n=ft();t=t===void 0?null:t;var a=n.memoizedState;if(t!==null&&lo(t,a[1]))return a[0];if(a=e(),Ia){Qt(!0);try{e()}finally{Qt(!1)}}return n.memoizedState=[a,t],a}function yo(e,t,n){return n===void 0||(Hn&1073741824)!==0&&(Be&261930)===0?e.memoizedState=t:(e.memoizedState=n,e=hm(),Le.lanes|=e,da|=e,n)}function hh(e,t,n,a){return Xt(n,t)?n:El.current!==null?(e=yo(e,n,a),Xt(e,t)||(yt=!0),e):(Hn&42)===0||(Hn&1073741824)!==0&&(Be&261930)===0?(yt=!0,e.memoizedState=n):(e=hm(),Le.lanes|=e,da|=e,t)}function mh(e,t,n,a,c){var o=I.p;I.p=o!==0&&8>o?o:8;var m=z.T,v={};z.T=v,bo(e,!1,t,n);try{var M=c(),B=z.S;if(B!==null&&B(v,M),M!==null&&typeof M=="object"&&typeof M.then=="function"){var K=Uy(M,a);bi(e,t,K,$t(e))}else bi(e,t,a,$t(e))}catch(te){bi(e,t,{then:function(){},status:"rejected",reason:te},$t())}finally{I.p=o,m!==null&&v.types!==null&&(m.types=v.types),z.T=m}}function Gy(){}function vo(e,t,n,a){if(e.tag!==5)throw Error(r(476));var c=gh(e).queue;mh(e,c,t,Z,n===null?Gy:function(){return ph(e),n(a)})}function gh(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:Z,baseState:Z,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bn,lastRenderedState:Z},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bn,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function ph(e){var t=gh(e);t.next===null&&(t=e.alternate.memoizedState),bi(e,t.next.queue,{},$t())}function xo(){return _t(ki)}function yh(){return ft().memoizedState}function vh(){return ft().memoizedState}function Vy(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=$t();e=sa(n);var a=ra(t,e,n);a!==null&&(Yt(a,t,n),gi(a,t,n)),t={cache:Zc()},e.payload=t;return}t=t.return}}function Qy(e,t,n){var a=$t();n={lane:a,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},Ks(e)?bh(t,n):(n=Uc(e,t,n,a),n!==null&&(Yt(n,e,a),wh(n,t,a)))}function xh(e,t,n){var a=$t();bi(e,t,n,a)}function bi(e,t,n,a){var c={lane:a,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ks(e))bh(t,c);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var m=t.lastRenderedState,v=o(m,n);if(c.hasEagerState=!0,c.eagerState=v,Xt(v,m))return Cs(e,t,c,0),Je===null&&_s(),!1}catch{}finally{}if(n=Uc(e,t,c,a),n!==null)return Yt(n,e,a),wh(n,t,a),!0}return!1}function bo(e,t,n,a){if(a={lane:2,revertLane:Jo(),gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Ks(e)){if(t)throw Error(r(479))}else t=Uc(e,n,a,2),t!==null&&Yt(t,e,2)}function Ks(e){var t=e.alternate;return e===Le||t!==null&&t===Le}function bh(e,t){Al=Ys=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function wh(e,t,n){if((n&4194048)!==0){var a=t.lanes;a&=e.pendingLanes,n|=a,t.lanes=n,Ot(e,n)}}var wi={readContext:_t,use:Qs,useCallback:ct,useContext:ct,useEffect:ct,useImperativeHandle:ct,useLayoutEffect:ct,useInsertionEffect:ct,useMemo:ct,useReducer:ct,useRef:ct,useState:ct,useDebugValue:ct,useDeferredValue:ct,useTransition:ct,useSyncExternalStore:ct,useId:ct,useHostTransitionStatus:ct,useFormState:ct,useActionState:ct,useOptimistic:ct,useMemoCache:ct,useCacheRefresh:ct};wi.useEffectEvent=ct;var Sh={readContext:_t,use:Qs,useCallback:function(e,t){return Rt().memoizedState=[e,t===void 0?null:t],e},useContext:_t,useEffect:ih,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,Is(4194308,4,oh.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Is(4194308,4,e,t)},useInsertionEffect:function(e,t){Is(4,2,e,t)},useMemo:function(e,t){var n=Rt();t=t===void 0?null:t;var a=e();if(Ia){Qt(!0);try{e()}finally{Qt(!1)}}return n.memoizedState=[a,t],a},useReducer:function(e,t,n){var a=Rt();if(n!==void 0){var c=n(t);if(Ia){Qt(!0);try{n(t)}finally{Qt(!1)}}}else c=t;return a.memoizedState=a.baseState=c,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:c},a.queue=e,e=e.dispatch=Qy.bind(null,Le,e),[a.memoizedState,e]},useRef:function(e){var t=Rt();return e={current:e},t.memoizedState=e},useState:function(e){e=ho(e);var t=e.queue,n=xh.bind(null,Le,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:po,useDeferredValue:function(e,t){var n=Rt();return yo(n,e,t)},useTransition:function(){var e=ho(!1);return e=mh.bind(null,Le,e.queue,!0,!1),Rt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var a=Le,c=Rt();if(Ye){if(n===void 0)throw Error(r(407));n=n()}else{if(n=t(),Je===null)throw Error(r(349));(Be&127)!==0||Vd(a,t,n)}c.memoizedState=n;var o={value:n,getSnapshot:t};return c.queue=o,ih(Xd.bind(null,a,o,e),[e]),a.flags|=2048,_l(9,{destroy:void 0},Qd.bind(null,a,o,n,t),null),n},useId:function(){var e=Rt(),t=Je.identifierPrefix;if(Ye){var n=An,a=En;n=(a&~(1<<32-zt(a)-1)).toString(32)+n,t="_"+t+"R_"+n,n=Gs++,0<n&&(t+="H"+n.toString(32)),t+="_"}else n=ky++,t="_"+t+"r_"+n.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:xo,useFormState:eh,useActionState:eh,useOptimistic:function(e){var t=Rt();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=bo.bind(null,Le,!0,n),n.dispatch=t,[e,t]},useMemoCache:oo,useCacheRefresh:function(){return Rt().memoizedState=Vy.bind(null,Le)},useEffectEvent:function(e){var t=Rt(),n={impl:e};return t.memoizedState=n,function(){if((Xe&2)!==0)throw Error(r(440));return n.impl.apply(void 0,arguments)}}},wo={readContext:_t,use:Qs,useCallback:fh,useContext:_t,useEffect:go,useImperativeHandle:uh,useInsertionEffect:rh,useLayoutEffect:ch,useMemo:dh,useReducer:Xs,useRef:lh,useState:function(){return Xs(Bn)},useDebugValue:po,useDeferredValue:function(e,t){var n=ft();return hh(n,Fe.memoizedState,e,t)},useTransition:function(){var e=Xs(Bn)[0],t=ft().memoizedState;return[typeof e=="boolean"?e:xi(e),t]},useSyncExternalStore:Gd,useId:yh,useHostTransitionStatus:xo,useFormState:th,useActionState:th,useOptimistic:function(e,t){var n=ft();return Kd(n,Fe,e,t)},useMemoCache:oo,useCacheRefresh:vh};wo.useEffectEvent=sh;var Th={readContext:_t,use:Qs,useCallback:fh,useContext:_t,useEffect:go,useImperativeHandle:uh,useInsertionEffect:rh,useLayoutEffect:ch,useMemo:dh,useReducer:fo,useRef:lh,useState:function(){return fo(Bn)},useDebugValue:po,useDeferredValue:function(e,t){var n=ft();return Fe===null?yo(n,e,t):hh(n,Fe.memoizedState,e,t)},useTransition:function(){var e=fo(Bn)[0],t=ft().memoizedState;return[typeof e=="boolean"?e:xi(e),t]},useSyncExternalStore:Gd,useId:yh,useHostTransitionStatus:xo,useFormState:ah,useActionState:ah,useOptimistic:function(e,t){var n=ft();return Fe!==null?Kd(n,Fe,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:oo,useCacheRefresh:vh};Th.useEffectEvent=sh;function So(e,t,n,a){t=e.memoizedState,n=n(a,t),n=n==null?t:b({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var To={enqueueSetState:function(e,t,n){e=e._reactInternals;var a=$t(),c=sa(a);c.payload=t,n!=null&&(c.callback=n),t=ra(e,c,a),t!==null&&(Yt(t,e,a),gi(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var a=$t(),c=sa(a);c.tag=1,c.payload=t,n!=null&&(c.callback=n),t=ra(e,c,a),t!==null&&(Yt(t,e,a),gi(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=$t(),a=sa(n);a.tag=2,t!=null&&(a.callback=t),t=ra(e,a,n),t!==null&&(Yt(t,e,n),gi(t,e,n))}};function Eh(e,t,n,a,c,o,m){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,o,m):t.prototype&&t.prototype.isPureReactComponent?!ri(n,a)||!ri(c,o):!0}function Ah(e,t,n,a){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,a),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,a),t.state!==e&&To.enqueueReplaceState(t,t.state,null)}function Za(e,t){var n=t;if("ref"in t){n={};for(var a in t)a!=="ref"&&(n[a]=t[a])}if(e=e.defaultProps){n===t&&(n=b({},n));for(var c in e)n[c]===void 0&&(n[c]=e[c])}return n}function Mh(e){Ms(e)}function _h(e){console.error(e)}function Ch(e){Ms(e)}function Fs(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(a){setTimeout(function(){throw a})}}function jh(e,t,n){try{var a=e.onCaughtError;a(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function Eo(e,t,n){return n=sa(n),n.tag=3,n.payload={element:null},n.callback=function(){Fs(e,t)},n}function Nh(e){return e=sa(e),e.tag=3,e}function zh(e,t,n,a){var c=n.type.getDerivedStateFromError;if(typeof c=="function"){var o=a.value;e.payload=function(){return c(o)},e.callback=function(){jh(t,n,a)}}var m=n.stateNode;m!==null&&typeof m.componentDidCatch=="function"&&(e.callback=function(){jh(t,n,a),typeof c!="function"&&(ha===null?ha=new Set([this]):ha.add(this));var v=a.stack;this.componentDidCatch(a.value,{componentStack:v!==null?v:""})})}function Xy(e,t,n,a,c){if(n.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){if(t=n.alternate,t!==null&&xl(t,n,c,!0),n=Zt.current,n!==null){switch(n.tag){case 31:case 13:return on===null?rr():n.alternate===null&&ot===0&&(ot=3),n.flags&=-257,n.flags|=65536,n.lanes=c,a===Us?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([a]):t.add(a),Fo(e,a,c)),!1;case 22:return n.flags|=65536,a===Us?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([a])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([a]):n.add(a)),Fo(e,a,c)),!1}throw Error(r(435,n.tag))}return Fo(e,a,c),rr(),!1}if(Ye)return t=Zt.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=c,a!==Gc&&(e=Error(r(422),{cause:a}),ui(ln(e,n)))):(a!==Gc&&(t=Error(r(423),{cause:a}),ui(ln(t,n))),e=e.current.alternate,e.flags|=65536,c&=-c,e.lanes|=c,a=ln(a,n),c=Eo(e.stateNode,a,c),Pc(e,c),ot!==4&&(ot=2)),!1;var o=Error(r(520),{cause:a});if(o=ln(o,n),ji===null?ji=[o]:ji.push(o),ot!==4&&(ot=2),t===null)return!0;a=ln(a,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=c&-c,n.lanes|=e,e=Eo(n.stateNode,a,e),Pc(n,e),!1;case 1:if(t=n.type,o=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||o!==null&&typeof o.componentDidCatch=="function"&&(ha===null||!ha.has(o))))return n.flags|=65536,c&=-c,n.lanes|=c,c=Nh(c),zh(c,e,n,a),Pc(n,c),!1}n=n.return}while(n!==null);return!1}var Ao=Error(r(461)),yt=!1;function Ct(e,t,n,a){t.child=e===null?Dd(t,null,n,a):Xa(t,e.child,n,a)}function Rh(e,t,n,a,c){n=n.render;var o=t.ref;if("ref"in a){var m={};for(var v in a)v!=="ref"&&(m[v]=a[v])}else m=a;return Ya(t),a=io(e,t,n,m,o,c),v=so(),e!==null&&!yt?(ro(e,t,c),qn(e,t,c)):(Ye&&v&&qc(t),t.flags|=1,Ct(e,t,a,c),t.child)}function Lh(e,t,n,a,c){if(e===null){var o=n.type;return typeof o=="function"&&!kc(o)&&o.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=o,Oh(e,t,o,a,c)):(e=Ns(n.type,null,a,t,t.mode,c),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!Lo(e,c)){var m=o.memoizedProps;if(n=n.compare,n=n!==null?n:ri,n(m,a)&&e.ref===t.ref)return qn(e,t,c)}return t.flags|=1,e=On(o,a),e.ref=t.ref,e.return=t,t.child=e}function Oh(e,t,n,a,c){if(e!==null){var o=e.memoizedProps;if(ri(o,a)&&e.ref===t.ref)if(yt=!1,t.pendingProps=a=o,Lo(e,c))(e.flags&131072)!==0&&(yt=!0);else return t.lanes=e.lanes,qn(e,t,c)}return Mo(e,t,n,a,c)}function Dh(e,t,n,a){var c=a.children,o=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.mode==="hidden"){if((t.flags&128)!==0){if(o=o!==null?o.baseLanes|n:n,e!==null){for(a=t.child=e.child,c=0;a!==null;)c=c|a.lanes|a.childLanes,a=a.sibling;a=c&~o}else a=0,t.child=null;return Uh(e,t,o,n,a)}if((n&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Os(t,o!==null?o.cachePool:null),o!==null?Hd(t,o):to(),Bd(t);else return a=t.lanes=536870912,Uh(e,t,o!==null?o.baseLanes|n:n,n,a)}else o!==null?(Os(t,o.cachePool),Hd(t,o),oa(),t.memoizedState=null):(e!==null&&Os(t,null),to(),oa());return Ct(e,t,c,n),t.child}function Si(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Uh(e,t,n,a,c){var o=Fc();return o=o===null?null:{parent:gt._currentValue,pool:o},t.memoizedState={baseLanes:n,cachePool:o},e!==null&&Os(t,null),to(),Bd(t),e!==null&&xl(e,t,a,!0),t.childLanes=c,null}function Ws(e,t){return t=Js({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function kh(e,t,n){return Xa(t,e.child,null,n),e=Ws(t,t.pendingProps),e.flags|=2,Kt(t),t.memoizedState=null,e}function Iy(e,t,n){var a=t.pendingProps,c=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(Ye){if(a.mode==="hidden")return e=Ws(t,a),t.lanes=536870912,Si(null,e);if(ao(t),(e=at)?(e=Fm(e,cn),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:ta!==null?{id:En,overflow:An}:null,retryLane:536870912,hydrationErrors:null},n=bd(e),n.return=t,t.child=n,Mt=t,at=null)):e=null,e===null)throw aa(t);return t.lanes=536870912,null}return Ws(t,a)}var o=e.memoizedState;if(o!==null){var m=o.dehydrated;if(ao(t),c)if(t.flags&256)t.flags&=-257,t=kh(e,t,n);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(r(558));else if(yt||xl(e,t,n,!1),c=(n&e.childLanes)!==0,yt||c){if(a=Je,a!==null&&(m=gs(a,n),m!==0&&m!==o.retryLane))throw o.retryLane=m,ka(e,m),Yt(a,e,m),Ao;rr(),t=kh(e,t,n)}else e=o.treeContext,at=un(m.nextSibling),Mt=t,Ye=!0,na=null,cn=!1,e!==null&&Td(t,e),t=Ws(t,a),t.flags|=4096;return t}return e=On(e.child,{mode:a.mode,children:a.children}),e.ref=t.ref,t.child=e,e.return=t,e}function $s(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(r(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function Mo(e,t,n,a,c){return Ya(t),n=io(e,t,n,a,void 0,c),a=so(),e!==null&&!yt?(ro(e,t,c),qn(e,t,c)):(Ye&&a&&qc(t),t.flags|=1,Ct(e,t,n,c),t.child)}function Hh(e,t,n,a,c,o){return Ya(t),t.updateQueue=null,n=Yd(t,a,n,c),qd(e),a=so(),e!==null&&!yt?(ro(e,t,o),qn(e,t,o)):(Ye&&a&&qc(t),t.flags|=1,Ct(e,t,n,o),t.child)}function Bh(e,t,n,a,c){if(Ya(t),t.stateNode===null){var o=gl,m=n.contextType;typeof m=="object"&&m!==null&&(o=_t(m)),o=new n(a,o),t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=To,t.stateNode=o,o._reactInternals=t,o=t.stateNode,o.props=a,o.state=t.memoizedState,o.refs={},$c(t),m=n.contextType,o.context=typeof m=="object"&&m!==null?_t(m):gl,o.state=t.memoizedState,m=n.getDerivedStateFromProps,typeof m=="function"&&(So(t,n,m,a),o.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(m=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),m!==o.state&&To.enqueueReplaceState(o,o.state,null),yi(t,a,o,c),pi(),o.state=t.memoizedState),typeof o.componentDidMount=="function"&&(t.flags|=4194308),a=!0}else if(e===null){o=t.stateNode;var v=t.memoizedProps,M=Za(n,v);o.props=M;var B=o.context,K=n.contextType;m=gl,typeof K=="object"&&K!==null&&(m=_t(K));var te=n.getDerivedStateFromProps;K=typeof te=="function"||typeof o.getSnapshotBeforeUpdate=="function",v=t.pendingProps!==v,K||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(v||B!==m)&&Ah(t,o,a,m),ia=!1;var G=t.memoizedState;o.state=G,yi(t,a,o,c),pi(),B=t.memoizedState,v||G!==B||ia?(typeof te=="function"&&(So(t,n,te,a),B=t.memoizedState),(M=ia||Eh(t,n,M,a,G,B,m))?(K||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=B),o.props=a,o.state=B,o.context=m,a=M):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),a=!1)}else{o=t.stateNode,Jc(e,t),m=t.memoizedProps,K=Za(n,m),o.props=K,te=t.pendingProps,G=o.context,B=n.contextType,M=gl,typeof B=="object"&&B!==null&&(M=_t(B)),v=n.getDerivedStateFromProps,(B=typeof v=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(m!==te||G!==M)&&Ah(t,o,a,M),ia=!1,G=t.memoizedState,o.state=G,yi(t,a,o,c),pi();var V=t.memoizedState;m!==te||G!==V||ia||e!==null&&e.dependencies!==null&&Rs(e.dependencies)?(typeof v=="function"&&(So(t,n,v,a),V=t.memoizedState),(K=ia||Eh(t,n,K,a,G,V,M)||e!==null&&e.dependencies!==null&&Rs(e.dependencies))?(B||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(a,V,M),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(a,V,M)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||m===e.memoizedProps&&G===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||m===e.memoizedProps&&G===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=V),o.props=a,o.state=V,o.context=M,a=K):(typeof o.componentDidUpdate!="function"||m===e.memoizedProps&&G===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||m===e.memoizedProps&&G===e.memoizedState||(t.flags|=1024),a=!1)}return o=a,$s(e,t),a=(t.flags&128)!==0,o||a?(o=t.stateNode,n=a&&typeof n.getDerivedStateFromError!="function"?null:o.render(),t.flags|=1,e!==null&&a?(t.child=Xa(t,e.child,null,c),t.child=Xa(t,null,n,c)):Ct(e,t,n,c),t.memoizedState=o.state,e=t.child):e=qn(e,t,c),e}function qh(e,t,n,a){return Ba(),t.flags|=256,Ct(e,t,n,a),t.child}var _o={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Co(e){return{baseLanes:e,cachePool:jd()}}function jo(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=Wt),e}function Yh(e,t,n){var a=t.pendingProps,c=!1,o=(t.flags&128)!==0,m;if((m=o)||(m=e!==null&&e.memoizedState===null?!1:(ut.current&2)!==0),m&&(c=!0,t.flags&=-129),m=(t.flags&32)!==0,t.flags&=-33,e===null){if(Ye){if(c?ca(t):oa(),(e=at)?(e=Fm(e,cn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:ta!==null?{id:En,overflow:An}:null,retryLane:536870912,hydrationErrors:null},n=bd(e),n.return=t,t.child=n,Mt=t,at=null)):e=null,e===null)throw aa(t);return fu(e)?t.lanes=32:t.lanes=536870912,null}var v=a.children;return a=a.fallback,c?(oa(),c=t.mode,v=Js({mode:"hidden",children:v},c),a=Ha(a,c,n,null),v.return=t,a.return=t,v.sibling=a,t.child=v,a=t.child,a.memoizedState=Co(n),a.childLanes=jo(e,m,n),t.memoizedState=_o,Si(null,a)):(ca(t),No(t,v))}var M=e.memoizedState;if(M!==null&&(v=M.dehydrated,v!==null)){if(o)t.flags&256?(ca(t),t.flags&=-257,t=zo(e,t,n)):t.memoizedState!==null?(oa(),t.child=e.child,t.flags|=128,t=null):(oa(),v=a.fallback,c=t.mode,a=Js({mode:"visible",children:a.children},c),v=Ha(v,c,n,null),v.flags|=2,a.return=t,v.return=t,a.sibling=v,t.child=a,Xa(t,e.child,null,n),a=t.child,a.memoizedState=Co(n),a.childLanes=jo(e,m,n),t.memoizedState=_o,t=Si(null,a));else if(ca(t),fu(v)){if(m=v.nextSibling&&v.nextSibling.dataset,m)var B=m.dgst;m=B,a=Error(r(419)),a.stack="",a.digest=m,ui({value:a,source:null,stack:null}),t=zo(e,t,n)}else if(yt||xl(e,t,n,!1),m=(n&e.childLanes)!==0,yt||m){if(m=Je,m!==null&&(a=gs(m,n),a!==0&&a!==M.retryLane))throw M.retryLane=a,ka(e,a),Yt(m,e,a),Ao;uu(v)||rr(),t=zo(e,t,n)}else uu(v)?(t.flags|=192,t.child=e.child,t=null):(e=M.treeContext,at=un(v.nextSibling),Mt=t,Ye=!0,na=null,cn=!1,e!==null&&Td(t,e),t=No(t,a.children),t.flags|=4096);return t}return c?(oa(),v=a.fallback,c=t.mode,M=e.child,B=M.sibling,a=On(M,{mode:"hidden",children:a.children}),a.subtreeFlags=M.subtreeFlags&65011712,B!==null?v=On(B,v):(v=Ha(v,c,n,null),v.flags|=2),v.return=t,a.return=t,a.sibling=v,t.child=a,Si(null,a),a=t.child,v=e.child.memoizedState,v===null?v=Co(n):(c=v.cachePool,c!==null?(M=gt._currentValue,c=c.parent!==M?{parent:M,pool:M}:c):c=jd(),v={baseLanes:v.baseLanes|n,cachePool:c}),a.memoizedState=v,a.childLanes=jo(e,m,n),t.memoizedState=_o,Si(e.child,a)):(ca(t),n=e.child,e=n.sibling,n=On(n,{mode:"visible",children:a.children}),n.return=t,n.sibling=null,e!==null&&(m=t.deletions,m===null?(t.deletions=[e],t.flags|=16):m.push(e)),t.child=n,t.memoizedState=null,n)}function No(e,t){return t=Js({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Js(e,t){return e=It(22,e,null,t),e.lanes=0,e}function zo(e,t,n){return Xa(t,e.child,null,n),e=No(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Gh(e,t,n){e.lanes|=t;var a=e.alternate;a!==null&&(a.lanes|=t),Xc(e.return,t,n)}function Ro(e,t,n,a,c,o){var m=e.memoizedState;m===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:n,tailMode:c,treeForkCount:o}:(m.isBackwards=t,m.rendering=null,m.renderingStartTime=0,m.last=a,m.tail=n,m.tailMode=c,m.treeForkCount=o)}function Vh(e,t,n){var a=t.pendingProps,c=a.revealOrder,o=a.tail;a=a.children;var m=ut.current,v=(m&2)!==0;if(v?(m=m&1|2,t.flags|=128):m&=1,ie(ut,m),Ct(e,t,a,n),a=Ye?oi:0,!v&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Gh(e,n,t);else if(e.tag===19)Gh(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(c){case"forwards":for(n=t.child,c=null;n!==null;)e=n.alternate,e!==null&&qs(e)===null&&(c=n),n=n.sibling;n=c,n===null?(c=t.child,t.child=null):(c=n.sibling,n.sibling=null),Ro(t,!1,c,n,o,a);break;case"backwards":case"unstable_legacy-backwards":for(n=null,c=t.child,t.child=null;c!==null;){if(e=c.alternate,e!==null&&qs(e)===null){t.child=c;break}e=c.sibling,c.sibling=n,n=c,c=e}Ro(t,!0,n,null,o,a);break;case"together":Ro(t,!1,null,null,void 0,a);break;default:t.memoizedState=null}return t.child}function qn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),da|=t.lanes,(n&t.childLanes)===0)if(e!==null){if(xl(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(r(153));if(t.child!==null){for(e=t.child,n=On(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=On(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Lo(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&Rs(e)))}function Zy(e,t,n){switch(t.tag){case 3:ue(t,t.stateNode.containerInfo),la(t,gt,e.memoizedState.cache),Ba();break;case 27:case 5:Oe(t);break;case 4:ue(t,t.stateNode.containerInfo);break;case 10:la(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,ao(t),null;break;case 13:var a=t.memoizedState;if(a!==null)return a.dehydrated!==null?(ca(t),t.flags|=128,null):(n&t.child.childLanes)!==0?Yh(e,t,n):(ca(t),e=qn(e,t,n),e!==null?e.sibling:null);ca(t);break;case 19:var c=(e.flags&128)!==0;if(a=(n&t.childLanes)!==0,a||(xl(e,t,n,!1),a=(n&t.childLanes)!==0),c){if(a)return Vh(e,t,n);t.flags|=128}if(c=t.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),ie(ut,ut.current),a)break;return null;case 22:return t.lanes=0,Dh(e,t,n,t.pendingProps);case 24:la(t,gt,e.memoizedState.cache)}return qn(e,t,n)}function Qh(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)yt=!0;else{if(!Lo(e,n)&&(t.flags&128)===0)return yt=!1,Zy(e,t,n);yt=(e.flags&131072)!==0}else yt=!1,Ye&&(t.flags&1048576)!==0&&Sd(t,oi,t.index);switch(t.lanes=0,t.tag){case 16:e:{var a=t.pendingProps;if(e=Va(t.elementType),t.type=e,typeof e=="function")kc(e)?(a=Za(e,a),t.tag=1,t=Bh(null,t,e,a,n)):(t.tag=0,t=Mo(null,t,e,a,n));else{if(e!=null){var c=e.$$typeof;if(c===S){t.tag=11,t=Rh(null,t,e,a,n);break e}else if(c===k){t.tag=14,t=Lh(null,t,e,a,n);break e}}throw t=ne(e)||e,Error(r(306,t,""))}}return t;case 0:return Mo(e,t,t.type,t.pendingProps,n);case 1:return a=t.type,c=Za(a,t.pendingProps),Bh(e,t,a,c,n);case 3:e:{if(ue(t,t.stateNode.containerInfo),e===null)throw Error(r(387));a=t.pendingProps;var o=t.memoizedState;c=o.element,Jc(e,t),yi(t,a,null,n);var m=t.memoizedState;if(a=m.cache,la(t,gt,a),a!==o.cache&&Ic(t,[gt],n,!0),pi(),a=m.element,o.isDehydrated)if(o={element:a,isDehydrated:!1,cache:m.cache},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){t=qh(e,t,a,n);break e}else if(a!==c){c=ln(Error(r(424)),t),ui(c),t=qh(e,t,a,n);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(at=un(e.firstChild),Mt=t,Ye=!0,na=null,cn=!0,n=Dd(t,null,a,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(Ba(),a===c){t=qn(e,t,n);break e}Ct(e,t,a,n)}t=t.child}return t;case 26:return $s(e,t),e===null?(n=t0(t.type,null,t.pendingProps,null))?t.memoizedState=n:Ye||(n=t.type,e=t.pendingProps,a=mr(he.current).createElement(n),a[At]=t,a[Dt]=e,jt(a,n,e),wt(a),t.stateNode=a):t.memoizedState=t0(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Oe(t),e===null&&Ye&&(a=t.stateNode=Jm(t.type,t.pendingProps,he.current),Mt=t,cn=!0,c=at,ya(t.type)?(du=c,at=un(a.firstChild)):at=c),Ct(e,t,t.pendingProps.children,n),$s(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Ye&&((c=a=at)&&(a=T1(a,t.type,t.pendingProps,cn),a!==null?(t.stateNode=a,Mt=t,at=un(a.firstChild),cn=!1,c=!0):c=!1),c||aa(t)),Oe(t),c=t.type,o=t.pendingProps,m=e!==null?e.memoizedProps:null,a=o.children,ru(c,o)?a=null:m!==null&&ru(c,m)&&(t.flags|=32),t.memoizedState!==null&&(c=io(e,t,Hy,null,null,n),ki._currentValue=c),$s(e,t),Ct(e,t,a,n),t.child;case 6:return e===null&&Ye&&((e=n=at)&&(n=E1(n,t.pendingProps,cn),n!==null?(t.stateNode=n,Mt=t,at=null,e=!0):e=!1),e||aa(t)),null;case 13:return Yh(e,t,n);case 4:return ue(t,t.stateNode.containerInfo),a=t.pendingProps,e===null?t.child=Xa(t,null,a,n):Ct(e,t,a,n),t.child;case 11:return Rh(e,t,t.type,t.pendingProps,n);case 7:return Ct(e,t,t.pendingProps,n),t.child;case 8:return Ct(e,t,t.pendingProps.children,n),t.child;case 12:return Ct(e,t,t.pendingProps.children,n),t.child;case 10:return a=t.pendingProps,la(t,t.type,a.value),Ct(e,t,a.children,n),t.child;case 9:return c=t.type._context,a=t.pendingProps.children,Ya(t),c=_t(c),a=a(c),t.flags|=1,Ct(e,t,a,n),t.child;case 14:return Lh(e,t,t.type,t.pendingProps,n);case 15:return Oh(e,t,t.type,t.pendingProps,n);case 19:return Vh(e,t,n);case 31:return Iy(e,t,n);case 22:return Dh(e,t,n,t.pendingProps);case 24:return Ya(t),a=_t(gt),e===null?(c=Fc(),c===null&&(c=Je,o=Zc(),c.pooledCache=o,o.refCount++,o!==null&&(c.pooledCacheLanes|=n),c=o),t.memoizedState={parent:a,cache:c},$c(t),la(t,gt,c)):((e.lanes&n)!==0&&(Jc(e,t),yi(t,null,null,n),pi()),c=e.memoizedState,o=t.memoizedState,c.parent!==a?(c={parent:a,cache:a},t.memoizedState=c,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=c),la(t,gt,a)):(a=o.cache,la(t,gt,a),a!==c.cache&&Ic(t,[gt],n,!0))),Ct(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(r(156,t.tag))}function Yn(e){e.flags|=4}function Oo(e,t,n,a,c){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(c&335544128)===c)if(e.stateNode.complete)e.flags|=8192;else if(ym())e.flags|=8192;else throw Qa=Us,Wc}else e.flags&=-16777217}function Xh(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!s0(t))if(ym())e.flags|=8192;else throw Qa=Us,Wc}function Ps(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?oc():536870912,e.lanes|=t,zl|=t)}function Ti(e,t){if(!Ye)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function lt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,a=0;if(t)for(var c=e.child;c!==null;)n|=c.lanes|c.childLanes,a|=c.subtreeFlags&65011712,a|=c.flags&65011712,c.return=e,c=c.sibling;else for(c=e.child;c!==null;)n|=c.lanes|c.childLanes,a|=c.subtreeFlags,a|=c.flags,c.return=e,c=c.sibling;return e.subtreeFlags|=a,e.childLanes=n,t}function Ky(e,t,n){var a=t.pendingProps;switch(Yc(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return lt(t),null;case 1:return lt(t),null;case 3:return n=t.stateNode,a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),kn(gt),me(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(vl(t)?Yn(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Vc())),lt(t),null;case 26:var c=t.type,o=t.memoizedState;return e===null?(Yn(t),o!==null?(lt(t),Xh(t,o)):(lt(t),Oo(t,c,null,a,n))):o?o!==e.memoizedState?(Yn(t),lt(t),Xh(t,o)):(lt(t),t.flags&=-16777217):(e=e.memoizedProps,e!==a&&Yn(t),lt(t),Oo(t,c,e,a,n)),null;case 27:if(Me(t),n=he.current,c=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==a&&Yn(t);else{if(!a){if(t.stateNode===null)throw Error(r(166));return lt(t),null}e=ce.current,vl(t)?Ed(t):(e=Jm(c,a,n),t.stateNode=e,Yn(t))}return lt(t),null;case 5:if(Me(t),c=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==a&&Yn(t);else{if(!a){if(t.stateNode===null)throw Error(r(166));return lt(t),null}if(o=ce.current,vl(t))Ed(t);else{var m=mr(he.current);switch(o){case 1:o=m.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:o=m.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":o=m.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":o=m.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":o=m.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild);break;case"select":o=typeof a.is=="string"?m.createElement("select",{is:a.is}):m.createElement("select"),a.multiple?o.multiple=!0:a.size&&(o.size=a.size);break;default:o=typeof a.is=="string"?m.createElement(c,{is:a.is}):m.createElement(c)}}o[At]=t,o[Dt]=a;e:for(m=t.child;m!==null;){if(m.tag===5||m.tag===6)o.appendChild(m.stateNode);else if(m.tag!==4&&m.tag!==27&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===t)break e;for(;m.sibling===null;){if(m.return===null||m.return===t)break e;m=m.return}m.sibling.return=m.return,m=m.sibling}t.stateNode=o;e:switch(jt(o,c,a),c){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}a&&Yn(t)}}return lt(t),Oo(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==a&&Yn(t);else{if(typeof a!="string"&&t.stateNode===null)throw Error(r(166));if(e=he.current,vl(t)){if(e=t.stateNode,n=t.memoizedProps,a=null,c=Mt,c!==null)switch(c.tag){case 27:case 5:a=c.memoizedProps}e[At]=t,e=!!(e.nodeValue===n||a!==null&&a.suppressHydrationWarning===!0||Ym(e.nodeValue,n)),e||aa(t,!0)}else e=mr(e).createTextNode(a),e[At]=t,t.stateNode=e}return lt(t),null;case 31:if(n=t.memoizedState,e===null||e.memoizedState!==null){if(a=vl(t),n!==null){if(e===null){if(!a)throw Error(r(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(557));e[At]=t}else Ba(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;lt(t),e=!1}else n=Vc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return t.flags&256?(Kt(t),t):(Kt(t),null);if((t.flags&128)!==0)throw Error(r(558))}return lt(t),null;case 13:if(a=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(c=vl(t),a!==null&&a.dehydrated!==null){if(e===null){if(!c)throw Error(r(318));if(c=t.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(r(317));c[At]=t}else Ba(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;lt(t),c=!1}else c=Vc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=c),c=!0;if(!c)return t.flags&256?(Kt(t),t):(Kt(t),null)}return Kt(t),(t.flags&128)!==0?(t.lanes=n,t):(n=a!==null,e=e!==null&&e.memoizedState!==null,n&&(a=t.child,c=null,a.alternate!==null&&a.alternate.memoizedState!==null&&a.alternate.memoizedState.cachePool!==null&&(c=a.alternate.memoizedState.cachePool.pool),o=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(o=a.memoizedState.cachePool.pool),o!==c&&(a.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),Ps(t,t.updateQueue),lt(t),null);case 4:return me(),e===null&&nu(t.stateNode.containerInfo),lt(t),null;case 10:return kn(t.type),lt(t),null;case 19:if(D(ut),a=t.memoizedState,a===null)return lt(t),null;if(c=(t.flags&128)!==0,o=a.rendering,o===null)if(c)Ti(a,!1);else{if(ot!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(o=qs(e),o!==null){for(t.flags|=128,Ti(a,!1),e=o.updateQueue,t.updateQueue=e,Ps(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)xd(n,e),n=n.sibling;return ie(ut,ut.current&1|2),Ye&&Dn(t,a.treeForkCount),t.child}e=e.sibling}a.tail!==null&&et()>lr&&(t.flags|=128,c=!0,Ti(a,!1),t.lanes=4194304)}else{if(!c)if(e=qs(o),e!==null){if(t.flags|=128,c=!0,e=e.updateQueue,t.updateQueue=e,Ps(t,e),Ti(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!Ye)return lt(t),null}else 2*et()-a.renderingStartTime>lr&&n!==536870912&&(t.flags|=128,c=!0,Ti(a,!1),t.lanes=4194304);a.isBackwards?(o.sibling=t.child,t.child=o):(e=a.last,e!==null?e.sibling=o:t.child=o,a.last=o)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=et(),e.sibling=null,n=ut.current,ie(ut,c?n&1|2:n&1),Ye&&Dn(t,a.treeForkCount),e):(lt(t),null);case 22:case 23:return Kt(t),no(),a=t.memoizedState!==null,e!==null?e.memoizedState!==null!==a&&(t.flags|=8192):a&&(t.flags|=8192),a?(n&536870912)!==0&&(t.flags&128)===0&&(lt(t),t.subtreeFlags&6&&(t.flags|=8192)):lt(t),n=t.updateQueue,n!==null&&Ps(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),a=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),a!==n&&(t.flags|=2048),e!==null&&D(Ga),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),kn(gt),lt(t),null;case 25:return null;case 30:return null}throw Error(r(156,t.tag))}function Fy(e,t){switch(Yc(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return kn(gt),me(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Me(t),null;case 31:if(t.memoizedState!==null){if(Kt(t),t.alternate===null)throw Error(r(340));Ba()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Kt(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(r(340));Ba()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return D(ut),null;case 4:return me(),null;case 10:return kn(t.type),null;case 22:case 23:return Kt(t),no(),e!==null&&D(Ga),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return kn(gt),null;case 25:return null;default:return null}}function Ih(e,t){switch(Yc(t),t.tag){case 3:kn(gt),me();break;case 26:case 27:case 5:Me(t);break;case 4:me();break;case 31:t.memoizedState!==null&&Kt(t);break;case 13:Kt(t);break;case 19:D(ut);break;case 10:kn(t.type);break;case 22:case 23:Kt(t),no(),e!==null&&D(Ga);break;case 24:kn(gt)}}function Ei(e,t){try{var n=t.updateQueue,a=n!==null?n.lastEffect:null;if(a!==null){var c=a.next;n=c;do{if((n.tag&e)===e){a=void 0;var o=n.create,m=n.inst;a=o(),m.destroy=a}n=n.next}while(n!==c)}}catch(v){Ke(t,t.return,v)}}function ua(e,t,n){try{var a=t.updateQueue,c=a!==null?a.lastEffect:null;if(c!==null){var o=c.next;a=o;do{if((a.tag&e)===e){var m=a.inst,v=m.destroy;if(v!==void 0){m.destroy=void 0,c=t;var M=n,B=v;try{B()}catch(K){Ke(c,M,K)}}}a=a.next}while(a!==o)}}catch(K){Ke(t,t.return,K)}}function Zh(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{kd(t,n)}catch(a){Ke(e,e.return,a)}}}function Kh(e,t,n){n.props=Za(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(a){Ke(e,t,a)}}function Ai(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var a=e.stateNode;break;case 30:a=e.stateNode;break;default:a=e.stateNode}typeof n=="function"?e.refCleanup=n(a):n.current=a}}catch(c){Ke(e,t,c)}}function Mn(e,t){var n=e.ref,a=e.refCleanup;if(n!==null)if(typeof a=="function")try{a()}catch(c){Ke(e,t,c)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(c){Ke(e,t,c)}else n.current=null}function Fh(e){var t=e.type,n=e.memoizedProps,a=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&a.focus();break e;case"img":n.src?a.src=n.src:n.srcSet&&(a.srcset=n.srcSet)}}catch(c){Ke(e,e.return,c)}}function Do(e,t,n){try{var a=e.stateNode;y1(a,e.type,n,t),a[Dt]=t}catch(c){Ke(e,e.return,c)}}function Wh(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&ya(e.type)||e.tag===4}function Uo(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Wh(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&ya(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ko(e,t,n){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Rn));else if(a!==4&&(a===27&&ya(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(ko(e,t,n),e=e.sibling;e!==null;)ko(e,t,n),e=e.sibling}function er(e,t,n){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(a!==4&&(a===27&&ya(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(er(e,t,n),e=e.sibling;e!==null;)er(e,t,n),e=e.sibling}function $h(e){var t=e.stateNode,n=e.memoizedProps;try{for(var a=e.type,c=t.attributes;c.length;)t.removeAttributeNode(c[0]);jt(t,a,n),t[At]=e,t[Dt]=n}catch(o){Ke(e,e.return,o)}}var Gn=!1,vt=!1,Ho=!1,Jh=typeof WeakSet=="function"?WeakSet:Set,St=null;function Wy(e,t){if(e=e.containerInfo,iu=wr,e=ud(e),Nc(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var a=n.getSelection&&n.getSelection();if(a&&a.rangeCount!==0){n=a.anchorNode;var c=a.anchorOffset,o=a.focusNode;a=a.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var m=0,v=-1,M=-1,B=0,K=0,te=e,G=null;t:for(;;){for(var V;te!==n||c!==0&&te.nodeType!==3||(v=m+c),te!==o||a!==0&&te.nodeType!==3||(M=m+a),te.nodeType===3&&(m+=te.nodeValue.length),(V=te.firstChild)!==null;)G=te,te=V;for(;;){if(te===e)break t;if(G===n&&++B===c&&(v=m),G===o&&++K===a&&(M=m),(V=te.nextSibling)!==null)break;te=G,G=te.parentNode}te=V}n=v===-1||M===-1?null:{start:v,end:M}}else n=null}n=n||{start:0,end:0}}else n=null;for(su={focusedElem:e,selectionRange:n},wr=!1,St=t;St!==null;)if(t=St,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,St=e;else for(;St!==null;){switch(t=St,o=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(n=0;n<e.length;n++)c=e[n],c.ref.impl=c.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&o!==null){e=void 0,n=t,c=o.memoizedProps,o=o.memoizedState,a=n.stateNode;try{var ye=Za(n.type,c);e=a.getSnapshotBeforeUpdate(ye,o),a.__reactInternalSnapshotBeforeUpdate=e}catch(Ee){Ke(n,n.return,Ee)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)ou(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":ou(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=t.sibling,e!==null){e.return=t.return,St=e;break}St=t.return}}function Ph(e,t,n){var a=n.flags;switch(n.tag){case 0:case 11:case 15:Qn(e,n),a&4&&Ei(5,n);break;case 1:if(Qn(e,n),a&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(m){Ke(n,n.return,m)}else{var c=Za(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(c,t,e.__reactInternalSnapshotBeforeUpdate)}catch(m){Ke(n,n.return,m)}}a&64&&Zh(n),a&512&&Ai(n,n.return);break;case 3:if(Qn(e,n),a&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{kd(e,t)}catch(m){Ke(n,n.return,m)}}break;case 27:t===null&&a&4&&$h(n);case 26:case 5:Qn(e,n),t===null&&a&4&&Fh(n),a&512&&Ai(n,n.return);break;case 12:Qn(e,n);break;case 31:Qn(e,n),a&4&&nm(e,n);break;case 13:Qn(e,n),a&4&&am(e,n),a&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=i1.bind(null,n),A1(e,n))));break;case 22:if(a=n.memoizedState!==null||Gn,!a){t=t!==null&&t.memoizedState!==null||vt,c=Gn;var o=vt;Gn=a,(vt=t)&&!o?Xn(e,n,(n.subtreeFlags&8772)!==0):Qn(e,n),Gn=c,vt=o}break;case 30:break;default:Qn(e,n)}}function em(e){var t=e.alternate;t!==null&&(e.alternate=null,em(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&hc(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var rt=null,kt=!1;function Vn(e,t,n){for(n=n.child;n!==null;)tm(e,t,n),n=n.sibling}function tm(e,t,n){if(ht&&typeof ht.onCommitFiberUnmount=="function")try{ht.onCommitFiberUnmount(Et,n)}catch{}switch(n.tag){case 26:vt||Mn(n,t),Vn(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:vt||Mn(n,t);var a=rt,c=kt;ya(n.type)&&(rt=n.stateNode,kt=!1),Vn(e,t,n),Oi(n.stateNode),rt=a,kt=c;break;case 5:vt||Mn(n,t);case 6:if(a=rt,c=kt,rt=null,Vn(e,t,n),rt=a,kt=c,rt!==null)if(kt)try{(rt.nodeType===9?rt.body:rt.nodeName==="HTML"?rt.ownerDocument.body:rt).removeChild(n.stateNode)}catch(o){Ke(n,t,o)}else try{rt.removeChild(n.stateNode)}catch(o){Ke(n,t,o)}break;case 18:rt!==null&&(kt?(e=rt,Zm(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),Bl(e)):Zm(rt,n.stateNode));break;case 4:a=rt,c=kt,rt=n.stateNode.containerInfo,kt=!0,Vn(e,t,n),rt=a,kt=c;break;case 0:case 11:case 14:case 15:ua(2,n,t),vt||ua(4,n,t),Vn(e,t,n);break;case 1:vt||(Mn(n,t),a=n.stateNode,typeof a.componentWillUnmount=="function"&&Kh(n,t,a)),Vn(e,t,n);break;case 21:Vn(e,t,n);break;case 22:vt=(a=vt)||n.memoizedState!==null,Vn(e,t,n),vt=a;break;default:Vn(e,t,n)}}function nm(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Bl(e)}catch(n){Ke(t,t.return,n)}}}function am(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Bl(e)}catch(n){Ke(t,t.return,n)}}function $y(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Jh),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Jh),t;default:throw Error(r(435,e.tag))}}function tr(e,t){var n=$y(e);t.forEach(function(a){if(!n.has(a)){n.add(a);var c=s1.bind(null,e,a);a.then(c,c)}})}function Ht(e,t){var n=t.deletions;if(n!==null)for(var a=0;a<n.length;a++){var c=n[a],o=e,m=t,v=m;e:for(;v!==null;){switch(v.tag){case 27:if(ya(v.type)){rt=v.stateNode,kt=!1;break e}break;case 5:rt=v.stateNode,kt=!1;break e;case 3:case 4:rt=v.stateNode.containerInfo,kt=!0;break e}v=v.return}if(rt===null)throw Error(r(160));tm(o,m,c),rt=null,kt=!1,o=c.alternate,o!==null&&(o.return=null),c.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)lm(t,e),t=t.sibling}var vn=null;function lm(e,t){var n=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Ht(t,e),Bt(e),a&4&&(ua(3,e,e.return),Ei(3,e),ua(5,e,e.return));break;case 1:Ht(t,e),Bt(e),a&512&&(vt||n===null||Mn(n,n.return)),a&64&&Gn&&(e=e.updateQueue,e!==null&&(a=e.callbacks,a!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?a:n.concat(a))));break;case 26:var c=vn;if(Ht(t,e),Bt(e),a&512&&(vt||n===null||Mn(n,n.return)),a&4){var o=n!==null?n.memoizedState:null;if(a=e.memoizedState,n===null)if(a===null)if(e.stateNode===null){e:{a=e.type,n=e.memoizedProps,c=c.ownerDocument||c;t:switch(a){case"title":o=c.getElementsByTagName("title")[0],(!o||o[Jl]||o[At]||o.namespaceURI==="http://www.w3.org/2000/svg"||o.hasAttribute("itemprop"))&&(o=c.createElement(a),c.head.insertBefore(o,c.querySelector("head > title"))),jt(o,a,n),o[At]=e,wt(o),a=o;break e;case"link":var m=l0("link","href",c).get(a+(n.href||""));if(m){for(var v=0;v<m.length;v++)if(o=m[v],o.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&o.getAttribute("rel")===(n.rel==null?null:n.rel)&&o.getAttribute("title")===(n.title==null?null:n.title)&&o.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){m.splice(v,1);break t}}o=c.createElement(a),jt(o,a,n),c.head.appendChild(o);break;case"meta":if(m=l0("meta","content",c).get(a+(n.content||""))){for(v=0;v<m.length;v++)if(o=m[v],o.getAttribute("content")===(n.content==null?null:""+n.content)&&o.getAttribute("name")===(n.name==null?null:n.name)&&o.getAttribute("property")===(n.property==null?null:n.property)&&o.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&o.getAttribute("charset")===(n.charSet==null?null:n.charSet)){m.splice(v,1);break t}}o=c.createElement(a),jt(o,a,n),c.head.appendChild(o);break;default:throw Error(r(468,a))}o[At]=e,wt(o),a=o}e.stateNode=a}else i0(c,e.type,e.stateNode);else e.stateNode=a0(c,a,e.memoizedProps);else o!==a?(o===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):o.count--,a===null?i0(c,e.type,e.stateNode):a0(c,a,e.memoizedProps)):a===null&&e.stateNode!==null&&Do(e,e.memoizedProps,n.memoizedProps)}break;case 27:Ht(t,e),Bt(e),a&512&&(vt||n===null||Mn(n,n.return)),n!==null&&a&4&&Do(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Ht(t,e),Bt(e),a&512&&(vt||n===null||Mn(n,n.return)),e.flags&32){c=e.stateNode;try{cl(c,"")}catch(ye){Ke(e,e.return,ye)}}a&4&&e.stateNode!=null&&(c=e.memoizedProps,Do(e,c,n!==null?n.memoizedProps:c)),a&1024&&(Ho=!0);break;case 6:if(Ht(t,e),Bt(e),a&4){if(e.stateNode===null)throw Error(r(162));a=e.memoizedProps,n=e.stateNode;try{n.nodeValue=a}catch(ye){Ke(e,e.return,ye)}}break;case 3:if(yr=null,c=vn,vn=gr(t.containerInfo),Ht(t,e),vn=c,Bt(e),a&4&&n!==null&&n.memoizedState.isDehydrated)try{Bl(t.containerInfo)}catch(ye){Ke(e,e.return,ye)}Ho&&(Ho=!1,im(e));break;case 4:a=vn,vn=gr(e.stateNode.containerInfo),Ht(t,e),Bt(e),vn=a;break;case 12:Ht(t,e),Bt(e);break;case 31:Ht(t,e),Bt(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,tr(e,a)));break;case 13:Ht(t,e),Bt(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(ar=et()),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,tr(e,a)));break;case 22:c=e.memoizedState!==null;var M=n!==null&&n.memoizedState!==null,B=Gn,K=vt;if(Gn=B||c,vt=K||M,Ht(t,e),vt=K,Gn=B,Bt(e),a&8192)e:for(t=e.stateNode,t._visibility=c?t._visibility&-2:t._visibility|1,c&&(n===null||M||Gn||vt||Ka(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){M=n=t;try{if(o=M.stateNode,c)m=o.style,typeof m.setProperty=="function"?m.setProperty("display","none","important"):m.display="none";else{v=M.stateNode;var te=M.memoizedProps.style,G=te!=null&&te.hasOwnProperty("display")?te.display:null;v.style.display=G==null||typeof G=="boolean"?"":(""+G).trim()}}catch(ye){Ke(M,M.return,ye)}}}else if(t.tag===6){if(n===null){M=t;try{M.stateNode.nodeValue=c?"":M.memoizedProps}catch(ye){Ke(M,M.return,ye)}}}else if(t.tag===18){if(n===null){M=t;try{var V=M.stateNode;c?Km(V,!0):Km(M.stateNode,!1)}catch(ye){Ke(M,M.return,ye)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}a&4&&(a=e.updateQueue,a!==null&&(n=a.retryQueue,n!==null&&(a.retryQueue=null,tr(e,n))));break;case 19:Ht(t,e),Bt(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,tr(e,a)));break;case 30:break;case 21:break;default:Ht(t,e),Bt(e)}}function Bt(e){var t=e.flags;if(t&2){try{for(var n,a=e.return;a!==null;){if(Wh(a)){n=a;break}a=a.return}if(n==null)throw Error(r(160));switch(n.tag){case 27:var c=n.stateNode,o=Uo(e);er(e,o,c);break;case 5:var m=n.stateNode;n.flags&32&&(cl(m,""),n.flags&=-33);var v=Uo(e);er(e,v,m);break;case 3:case 4:var M=n.stateNode.containerInfo,B=Uo(e);ko(e,B,M);break;default:throw Error(r(161))}}catch(K){Ke(e,e.return,K)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function im(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;im(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Qn(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Ph(e,t.alternate,t),t=t.sibling}function Ka(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:ua(4,t,t.return),Ka(t);break;case 1:Mn(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&Kh(t,t.return,n),Ka(t);break;case 27:Oi(t.stateNode);case 26:case 5:Mn(t,t.return),Ka(t);break;case 22:t.memoizedState===null&&Ka(t);break;case 30:Ka(t);break;default:Ka(t)}e=e.sibling}}function Xn(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var a=t.alternate,c=e,o=t,m=o.flags;switch(o.tag){case 0:case 11:case 15:Xn(c,o,n),Ei(4,o);break;case 1:if(Xn(c,o,n),a=o,c=a.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(B){Ke(a,a.return,B)}if(a=o,c=a.updateQueue,c!==null){var v=a.stateNode;try{var M=c.shared.hiddenCallbacks;if(M!==null)for(c.shared.hiddenCallbacks=null,c=0;c<M.length;c++)Ud(M[c],v)}catch(B){Ke(a,a.return,B)}}n&&m&64&&Zh(o),Ai(o,o.return);break;case 27:$h(o);case 26:case 5:Xn(c,o,n),n&&a===null&&m&4&&Fh(o),Ai(o,o.return);break;case 12:Xn(c,o,n);break;case 31:Xn(c,o,n),n&&m&4&&nm(c,o);break;case 13:Xn(c,o,n),n&&m&4&&am(c,o);break;case 22:o.memoizedState===null&&Xn(c,o,n),Ai(o,o.return);break;case 30:break;default:Xn(c,o,n)}t=t.sibling}}function Bo(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&fi(n))}function qo(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&fi(e))}function xn(e,t,n,a){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)sm(e,t,n,a),t=t.sibling}function sm(e,t,n,a){var c=t.flags;switch(t.tag){case 0:case 11:case 15:xn(e,t,n,a),c&2048&&Ei(9,t);break;case 1:xn(e,t,n,a);break;case 3:xn(e,t,n,a),c&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&fi(e)));break;case 12:if(c&2048){xn(e,t,n,a),e=t.stateNode;try{var o=t.memoizedProps,m=o.id,v=o.onPostCommit;typeof v=="function"&&v(m,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(M){Ke(t,t.return,M)}}else xn(e,t,n,a);break;case 31:xn(e,t,n,a);break;case 13:xn(e,t,n,a);break;case 23:break;case 22:o=t.stateNode,m=t.alternate,t.memoizedState!==null?o._visibility&2?xn(e,t,n,a):Mi(e,t):o._visibility&2?xn(e,t,n,a):(o._visibility|=2,Cl(e,t,n,a,(t.subtreeFlags&10256)!==0||!1)),c&2048&&Bo(m,t);break;case 24:xn(e,t,n,a),c&2048&&qo(t.alternate,t);break;default:xn(e,t,n,a)}}function Cl(e,t,n,a,c){for(c=c&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var o=e,m=t,v=n,M=a,B=m.flags;switch(m.tag){case 0:case 11:case 15:Cl(o,m,v,M,c),Ei(8,m);break;case 23:break;case 22:var K=m.stateNode;m.memoizedState!==null?K._visibility&2?Cl(o,m,v,M,c):Mi(o,m):(K._visibility|=2,Cl(o,m,v,M,c)),c&&B&2048&&Bo(m.alternate,m);break;case 24:Cl(o,m,v,M,c),c&&B&2048&&qo(m.alternate,m);break;default:Cl(o,m,v,M,c)}t=t.sibling}}function Mi(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,a=t,c=a.flags;switch(a.tag){case 22:Mi(n,a),c&2048&&Bo(a.alternate,a);break;case 24:Mi(n,a),c&2048&&qo(a.alternate,a);break;default:Mi(n,a)}t=t.sibling}}var _i=8192;function jl(e,t,n){if(e.subtreeFlags&_i)for(e=e.child;e!==null;)rm(e,t,n),e=e.sibling}function rm(e,t,n){switch(e.tag){case 26:jl(e,t,n),e.flags&_i&&e.memoizedState!==null&&k1(n,vn,e.memoizedState,e.memoizedProps);break;case 5:jl(e,t,n);break;case 3:case 4:var a=vn;vn=gr(e.stateNode.containerInfo),jl(e,t,n),vn=a;break;case 22:e.memoizedState===null&&(a=e.alternate,a!==null&&a.memoizedState!==null?(a=_i,_i=16777216,jl(e,t,n),_i=a):jl(e,t,n));break;default:jl(e,t,n)}}function cm(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Ci(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var a=t[n];St=a,um(a,e)}cm(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)om(e),e=e.sibling}function om(e){switch(e.tag){case 0:case 11:case 15:Ci(e),e.flags&2048&&ua(9,e,e.return);break;case 3:Ci(e);break;case 12:Ci(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,nr(e)):Ci(e);break;default:Ci(e)}}function nr(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var a=t[n];St=a,um(a,e)}cm(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:ua(8,t,t.return),nr(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,nr(t));break;default:nr(t)}e=e.sibling}}function um(e,t){for(;St!==null;){var n=St;switch(n.tag){case 0:case 11:case 15:ua(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var a=n.memoizedState.cachePool.pool;a!=null&&a.refCount++}break;case 24:fi(n.memoizedState.cache)}if(a=n.child,a!==null)a.return=n,St=a;else e:for(n=e;St!==null;){a=St;var c=a.sibling,o=a.return;if(em(a),a===n){St=null;break e}if(c!==null){c.return=o,St=c;break e}St=o}}}var Jy={getCacheForType:function(e){var t=_t(gt),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return _t(gt).controller.signal}},Py=typeof WeakMap=="function"?WeakMap:Map,Xe=0,Je=null,ke=null,Be=0,Ze=0,Ft=null,fa=!1,Nl=!1,Yo=!1,In=0,ot=0,da=0,Fa=0,Go=0,Wt=0,zl=0,ji=null,qt=null,Vo=!1,ar=0,fm=0,lr=1/0,ir=null,ha=null,xt=0,ma=null,Rl=null,Zn=0,Qo=0,Xo=null,dm=null,Ni=0,Io=null;function $t(){return(Xe&2)!==0&&Be!==0?Be&-Be:z.T!==null?Jo():Cf()}function hm(){if(Wt===0)if((Be&536870912)===0||Ye){var e=Na;Na<<=1,(Na&3932160)===0&&(Na=262144),Wt=e}else Wt=536870912;return e=Zt.current,e!==null&&(e.flags|=32),Wt}function Yt(e,t,n){(e===Je&&(Ze===2||Ze===9)||e.cancelPendingCommit!==null)&&(Ll(e,0),ga(e,Be,Wt,!1)),Ae(e,n),((Xe&2)===0||e!==Je)&&(e===Je&&((Xe&2)===0&&(Fa|=n),ot===4&&ga(e,Be,Wt,!1)),_n(e))}function mm(e,t,n){if((Xe&6)!==0)throw Error(r(327));var a=!n&&(t&127)===0&&(t&e.expiredLanes)===0||Ra(e,t),c=a?n1(e,t):Ko(e,t,!0),o=a;do{if(c===0){Nl&&!a&&ga(e,t,0,!1);break}else{if(n=e.current.alternate,o&&!e1(n)){c=Ko(e,t,!1),o=!1;continue}if(c===2){if(o=t,e.errorRecoveryDisabledLanes&o)var m=0;else m=e.pendingLanes&-536870913,m=m!==0?m:m&536870912?536870912:0;if(m!==0){t=m;e:{var v=e;c=ji;var M=v.current.memoizedState.isDehydrated;if(M&&(Ll(v,m).flags|=256),m=Ko(v,m,!1),m!==2){if(Yo&&!M){v.errorRecoveryDisabledLanes|=o,Fa|=o,c=4;break e}o=qt,qt=c,o!==null&&(qt===null?qt=o:qt.push.apply(qt,o))}c=m}if(o=!1,c!==2)continue}}if(c===1){Ll(e,0),ga(e,t,0,!0);break}e:{switch(a=e,o=c,o){case 0:case 1:throw Error(r(345));case 4:if((t&4194048)!==t)break;case 6:ga(a,t,Wt,!fa);break e;case 2:qt=null;break;case 3:case 5:break;default:throw Error(r(329))}if((t&62914560)===t&&(c=ar+300-et(),10<c)){if(ga(a,t,Wt,!fa),za(a,0,!0)!==0)break e;Zn=t,a.timeoutHandle=Xm(gm.bind(null,a,n,qt,ir,Vo,t,Wt,Fa,zl,fa,o,"Throttled",-0,0),c);break e}gm(a,n,qt,ir,Vo,t,Wt,Fa,zl,fa,o,null,-0,0)}}break}while(!0);_n(e)}function gm(e,t,n,a,c,o,m,v,M,B,K,te,G,V){if(e.timeoutHandle=-1,te=t.subtreeFlags,te&8192||(te&16785408)===16785408){te={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Rn},rm(t,o,te);var ye=(o&62914560)===o?ar-et():(o&4194048)===o?fm-et():0;if(ye=H1(te,ye),ye!==null){Zn=o,e.cancelPendingCommit=ye(Tm.bind(null,e,t,o,n,a,c,m,v,M,K,te,null,G,V)),ga(e,o,m,!B);return}}Tm(e,t,o,n,a,c,m,v,M)}function e1(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var a=0;a<n.length;a++){var c=n[a],o=c.getSnapshot;c=c.value;try{if(!Xt(o(),c))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ga(e,t,n,a){t&=~Go,t&=~Fa,e.suspendedLanes|=t,e.pingedLanes&=~t,a&&(e.warmLanes|=t),a=e.expirationTimes;for(var c=t;0<c;){var o=31-zt(c),m=1<<o;a[o]=-1,c&=~m}n!==0&&mt(e,n,t)}function sr(){return(Xe&6)===0?(zi(0),!1):!0}function Zo(){if(ke!==null){if(Ze===0)var e=ke.return;else e=ke,Un=qa=null,co(e),Tl=null,hi=0,e=ke;for(;e!==null;)Ih(e.alternate,e),e=e.return;ke=null}}function Ll(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,b1(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),Zn=0,Zo(),Je=e,ke=n=On(e.current,null),Be=t,Ze=0,Ft=null,fa=!1,Nl=Ra(e,t),Yo=!1,zl=Wt=Go=Fa=da=ot=0,qt=ji=null,Vo=!1,(t&8)!==0&&(t|=t&32);var a=e.entangledLanes;if(a!==0)for(e=e.entanglements,a&=t;0<a;){var c=31-zt(a),o=1<<c;t|=e[c],a&=~o}return In=t,_s(),n}function pm(e,t){Le=null,z.H=wi,t===Sl||t===Ds?(t=Rd(),Ze=3):t===Wc?(t=Rd(),Ze=4):Ze=t===Ao?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Ft=t,ke===null&&(ot=1,Fs(e,ln(t,e.current)))}function ym(){var e=Zt.current;return e===null?!0:(Be&4194048)===Be?on===null:(Be&62914560)===Be||(Be&536870912)!==0?e===on:!1}function vm(){var e=z.H;return z.H=wi,e===null?wi:e}function xm(){var e=z.A;return z.A=Jy,e}function rr(){ot=4,fa||(Be&4194048)!==Be&&Zt.current!==null||(Nl=!0),(da&134217727)===0&&(Fa&134217727)===0||Je===null||ga(Je,Be,Wt,!1)}function Ko(e,t,n){var a=Xe;Xe|=2;var c=vm(),o=xm();(Je!==e||Be!==t)&&(ir=null,Ll(e,t)),t=!1;var m=ot;e:do try{if(Ze!==0&&ke!==null){var v=ke,M=Ft;switch(Ze){case 8:Zo(),m=6;break e;case 3:case 2:case 9:case 6:Zt.current===null&&(t=!0);var B=Ze;if(Ze=0,Ft=null,Ol(e,v,M,B),n&&Nl){m=0;break e}break;default:B=Ze,Ze=0,Ft=null,Ol(e,v,M,B)}}t1(),m=ot;break}catch(K){pm(e,K)}while(!0);return t&&e.shellSuspendCounter++,Un=qa=null,Xe=a,z.H=c,z.A=o,ke===null&&(Je=null,Be=0,_s()),m}function t1(){for(;ke!==null;)bm(ke)}function n1(e,t){var n=Xe;Xe|=2;var a=vm(),c=xm();Je!==e||Be!==t?(ir=null,lr=et()+500,Ll(e,t)):Nl=Ra(e,t);e:do try{if(Ze!==0&&ke!==null){t=ke;var o=Ft;t:switch(Ze){case 1:Ze=0,Ft=null,Ol(e,t,o,1);break;case 2:case 9:if(Nd(o)){Ze=0,Ft=null,wm(t);break}t=function(){Ze!==2&&Ze!==9||Je!==e||(Ze=7),_n(e)},o.then(t,t);break e;case 3:Ze=7;break e;case 4:Ze=5;break e;case 7:Nd(o)?(Ze=0,Ft=null,wm(t)):(Ze=0,Ft=null,Ol(e,t,o,7));break;case 5:var m=null;switch(ke.tag){case 26:m=ke.memoizedState;case 5:case 27:var v=ke;if(m?s0(m):v.stateNode.complete){Ze=0,Ft=null;var M=v.sibling;if(M!==null)ke=M;else{var B=v.return;B!==null?(ke=B,cr(B)):ke=null}break t}}Ze=0,Ft=null,Ol(e,t,o,5);break;case 6:Ze=0,Ft=null,Ol(e,t,o,6);break;case 8:Zo(),ot=6;break e;default:throw Error(r(462))}}a1();break}catch(K){pm(e,K)}while(!0);return Un=qa=null,z.H=a,z.A=c,Xe=n,ke!==null?0:(Je=null,Be=0,_s(),ot)}function a1(){for(;ke!==null&&!Pe();)bm(ke)}function bm(e){var t=Qh(e.alternate,e,In);e.memoizedProps=e.pendingProps,t===null?cr(e):ke=t}function wm(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Hh(n,t,t.pendingProps,t.type,void 0,Be);break;case 11:t=Hh(n,t,t.pendingProps,t.type.render,t.ref,Be);break;case 5:co(t);default:Ih(n,t),t=ke=xd(t,In),t=Qh(n,t,In)}e.memoizedProps=e.pendingProps,t===null?cr(e):ke=t}function Ol(e,t,n,a){Un=qa=null,co(t),Tl=null,hi=0;var c=t.return;try{if(Xy(e,c,t,n,Be)){ot=1,Fs(e,ln(n,e.current)),ke=null;return}}catch(o){if(c!==null)throw ke=c,o;ot=1,Fs(e,ln(n,e.current)),ke=null;return}t.flags&32768?(Ye||a===1?e=!0:Nl||(Be&536870912)!==0?e=!1:(fa=e=!0,(a===2||a===9||a===3||a===6)&&(a=Zt.current,a!==null&&a.tag===13&&(a.flags|=16384))),Sm(t,e)):cr(t)}function cr(e){var t=e;do{if((t.flags&32768)!==0){Sm(t,fa);return}e=t.return;var n=Ky(t.alternate,t,In);if(n!==null){ke=n;return}if(t=t.sibling,t!==null){ke=t;return}ke=t=e}while(t!==null);ot===0&&(ot=5)}function Sm(e,t){do{var n=Fy(e.alternate,e);if(n!==null){n.flags&=32767,ke=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){ke=e;return}ke=e=n}while(e!==null);ot=6,ke=null}function Tm(e,t,n,a,c,o,m,v,M){e.cancelPendingCommit=null;do or();while(xt!==0);if((Xe&6)!==0)throw Error(r(327));if(t!==null){if(t===e.current)throw Error(r(177));if(o=t.lanes|t.childLanes,o|=Dc,Ie(e,n,o,m,v,M),e===Je&&(ke=Je=null,Be=0),Rl=t,ma=e,Zn=n,Qo=o,Xo=c,dm=a,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,r1(Se,function(){return Cm(),null})):(e.callbackNode=null,e.callbackPriority=0),a=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||a){a=z.T,z.T=null,c=I.p,I.p=2,m=Xe,Xe|=4;try{Wy(e,t,n)}finally{Xe=m,I.p=c,z.T=a}}xt=1,Em(),Am(),Mm()}}function Em(){if(xt===1){xt=0;var e=ma,t=Rl,n=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||n){n=z.T,z.T=null;var a=I.p;I.p=2;var c=Xe;Xe|=4;try{lm(t,e);var o=su,m=ud(e.containerInfo),v=o.focusedElem,M=o.selectionRange;if(m!==v&&v&&v.ownerDocument&&od(v.ownerDocument.documentElement,v)){if(M!==null&&Nc(v)){var B=M.start,K=M.end;if(K===void 0&&(K=B),"selectionStart"in v)v.selectionStart=B,v.selectionEnd=Math.min(K,v.value.length);else{var te=v.ownerDocument||document,G=te&&te.defaultView||window;if(G.getSelection){var V=G.getSelection(),ye=v.textContent.length,Ee=Math.min(M.start,ye),$e=M.end===void 0?Ee:Math.min(M.end,ye);!V.extend&&Ee>$e&&(m=$e,$e=Ee,Ee=m);var L=cd(v,Ee),C=cd(v,$e);if(L&&C&&(V.rangeCount!==1||V.anchorNode!==L.node||V.anchorOffset!==L.offset||V.focusNode!==C.node||V.focusOffset!==C.offset)){var H=te.createRange();H.setStart(L.node,L.offset),V.removeAllRanges(),Ee>$e?(V.addRange(H),V.extend(C.node,C.offset)):(H.setEnd(C.node,C.offset),V.addRange(H))}}}}for(te=[],V=v;V=V.parentNode;)V.nodeType===1&&te.push({element:V,left:V.scrollLeft,top:V.scrollTop});for(typeof v.focus=="function"&&v.focus(),v=0;v<te.length;v++){var $=te[v];$.element.scrollLeft=$.left,$.element.scrollTop=$.top}}wr=!!iu,su=iu=null}finally{Xe=c,I.p=a,z.T=n}}e.current=t,xt=2}}function Am(){if(xt===2){xt=0;var e=ma,t=Rl,n=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||n){n=z.T,z.T=null;var a=I.p;I.p=2;var c=Xe;Xe|=4;try{Ph(e,t.alternate,t)}finally{Xe=c,I.p=a,z.T=n}}xt=3}}function Mm(){if(xt===4||xt===3){xt=0,bt();var e=ma,t=Rl,n=Zn,a=dm;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?xt=5:(xt=0,Rl=ma=null,_m(e,e.pendingLanes));var c=e.pendingLanes;if(c===0&&(ha=null),fc(n),t=t.stateNode,ht&&typeof ht.onCommitFiberRoot=="function")try{ht.onCommitFiberRoot(Et,t,void 0,(t.current.flags&128)===128)}catch{}if(a!==null){t=z.T,c=I.p,I.p=2,z.T=null;try{for(var o=e.onRecoverableError,m=0;m<a.length;m++){var v=a[m];o(v.value,{componentStack:v.stack})}}finally{z.T=t,I.p=c}}(Zn&3)!==0&&or(),_n(e),c=e.pendingLanes,(n&261930)!==0&&(c&42)!==0?e===Io?Ni++:(Ni=0,Io=e):Ni=0,zi(0)}}function _m(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,fi(t)))}function or(){return Em(),Am(),Mm(),Cm()}function Cm(){if(xt!==5)return!1;var e=ma,t=Qo;Qo=0;var n=fc(Zn),a=z.T,c=I.p;try{I.p=32>n?32:n,z.T=null,n=Xo,Xo=null;var o=ma,m=Zn;if(xt=0,Rl=ma=null,Zn=0,(Xe&6)!==0)throw Error(r(331));var v=Xe;if(Xe|=4,om(o.current),sm(o,o.current,m,n),Xe=v,zi(0,!1),ht&&typeof ht.onPostCommitFiberRoot=="function")try{ht.onPostCommitFiberRoot(Et,o)}catch{}return!0}finally{I.p=c,z.T=a,_m(e,t)}}function jm(e,t,n){t=ln(n,t),t=Eo(e.stateNode,t,2),e=ra(e,t,2),e!==null&&(Ae(e,2),_n(e))}function Ke(e,t,n){if(e.tag===3)jm(e,e,n);else for(;t!==null;){if(t.tag===3){jm(t,e,n);break}else if(t.tag===1){var a=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(ha===null||!ha.has(a))){e=ln(n,e),n=Nh(2),a=ra(t,n,2),a!==null&&(zh(n,a,t,e),Ae(a,2),_n(a));break}}t=t.return}}function Fo(e,t,n){var a=e.pingCache;if(a===null){a=e.pingCache=new Py;var c=new Set;a.set(t,c)}else c=a.get(t),c===void 0&&(c=new Set,a.set(t,c));c.has(n)||(Yo=!0,c.add(n),e=l1.bind(null,e,t,n),t.then(e,e))}function l1(e,t,n){var a=e.pingCache;a!==null&&a.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,Je===e&&(Be&n)===n&&(ot===4||ot===3&&(Be&62914560)===Be&&300>et()-ar?(Xe&2)===0&&Ll(e,0):Go|=n,zl===Be&&(zl=0)),_n(e)}function Nm(e,t){t===0&&(t=oc()),e=ka(e,t),e!==null&&(Ae(e,t),_n(e))}function i1(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Nm(e,n)}function s1(e,t){var n=0;switch(e.tag){case 31:case 13:var a=e.stateNode,c=e.memoizedState;c!==null&&(n=c.retryLane);break;case 19:a=e.stateNode;break;case 22:a=e.stateNode._retryCache;break;default:throw Error(r(314))}a!==null&&a.delete(t),Nm(e,n)}function r1(e,t){return Ge(e,t)}var ur=null,Dl=null,Wo=!1,fr=!1,$o=!1,pa=0;function _n(e){e!==Dl&&e.next===null&&(Dl===null?ur=Dl=e:Dl=Dl.next=e),fr=!0,Wo||(Wo=!0,o1())}function zi(e,t){if(!$o&&fr){$o=!0;do for(var n=!1,a=ur;a!==null;){if(e!==0){var c=a.pendingLanes;if(c===0)var o=0;else{var m=a.suspendedLanes,v=a.pingedLanes;o=(1<<31-zt(42|e)+1)-1,o&=c&~(m&~v),o=o&201326741?o&201326741|1:o?o|2:0}o!==0&&(n=!0,Om(a,o))}else o=Be,o=za(a,a===Je?o:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),(o&3)===0||Ra(a,o)||(n=!0,Om(a,o));a=a.next}while(n);$o=!1}}function c1(){zm()}function zm(){fr=Wo=!1;var e=0;pa!==0&&x1()&&(e=pa);for(var t=et(),n=null,a=ur;a!==null;){var c=a.next,o=Rm(a,t);o===0?(a.next=null,n===null?ur=c:n.next=c,c===null&&(Dl=n)):(n=a,(e!==0||(o&3)!==0)&&(fr=!0)),a=c}xt!==0&&xt!==5||zi(e),pa!==0&&(pa=0)}function Rm(e,t){for(var n=e.suspendedLanes,a=e.pingedLanes,c=e.expirationTimes,o=e.pendingLanes&-62914561;0<o;){var m=31-zt(o),v=1<<m,M=c[m];M===-1?((v&n)===0||(v&a)!==0)&&(c[m]=tl(v,t)):M<=t&&(e.expiredLanes|=v),o&=~v}if(t=Je,n=Be,n=za(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a=e.callbackNode,n===0||e===t&&(Ze===2||Ze===9)||e.cancelPendingCommit!==null)return a!==null&&a!==null&&Ue(a),e.callbackNode=null,e.callbackPriority=0;if((n&3)===0||Ra(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(a!==null&&Ue(a),fc(n)){case 2:case 8:n=pe;break;case 32:n=Se;break;case 268435456:n=tt;break;default:n=Se}return a=Lm.bind(null,e),n=Ge(n,a),e.callbackPriority=t,e.callbackNode=n,t}return a!==null&&a!==null&&Ue(a),e.callbackPriority=2,e.callbackNode=null,2}function Lm(e,t){if(xt!==0&&xt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(or()&&e.callbackNode!==n)return null;var a=Be;return a=za(e,e===Je?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a===0?null:(mm(e,a,t),Rm(e,et()),e.callbackNode!=null&&e.callbackNode===n?Lm.bind(null,e):null)}function Om(e,t){if(or())return null;mm(e,t,!0)}function o1(){w1(function(){(Xe&6)!==0?Ge(pn,c1):zm()})}function Jo(){if(pa===0){var e=bl;e===0&&(e=Pa,Pa<<=1,(Pa&261888)===0&&(Pa=256)),pa=e}return pa}function Dm(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:xs(""+e)}function Um(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function u1(e,t,n,a,c){if(t==="submit"&&n&&n.stateNode===c){var o=Dm((c[Dt]||null).action),m=a.submitter;m&&(t=(t=m[Dt]||null)?Dm(t.formAction):m.getAttribute("formAction"),t!==null&&(o=t,m=null));var v=new Ts("action","action",null,a,c);e.push({event:v,listeners:[{instance:null,listener:function(){if(a.defaultPrevented){if(pa!==0){var M=m?Um(c,m):new FormData(c);vo(n,{pending:!0,data:M,method:c.method,action:o},null,M)}}else typeof o=="function"&&(v.preventDefault(),M=m?Um(c,m):new FormData(c),vo(n,{pending:!0,data:M,method:c.method,action:o},o,M))},currentTarget:c}]})}}for(var Po=0;Po<Oc.length;Po++){var eu=Oc[Po],f1=eu.toLowerCase(),d1=eu[0].toUpperCase()+eu.slice(1);yn(f1,"on"+d1)}yn(hd,"onAnimationEnd"),yn(md,"onAnimationIteration"),yn(gd,"onAnimationStart"),yn("dblclick","onDoubleClick"),yn("focusin","onFocus"),yn("focusout","onBlur"),yn(Cy,"onTransitionRun"),yn(jy,"onTransitionStart"),yn(Ny,"onTransitionCancel"),yn(pd,"onTransitionEnd"),sl("onMouseEnter",["mouseout","mouseover"]),sl("onMouseLeave",["mouseout","mouseover"]),sl("onPointerEnter",["pointerout","pointerover"]),sl("onPointerLeave",["pointerout","pointerover"]),La("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),La("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),La("onBeforeInput",["compositionend","keypress","textInput","paste"]),La("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),La("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),La("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ri="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),h1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ri));function km(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var a=e[n],c=a.event;a=a.listeners;e:{var o=void 0;if(t)for(var m=a.length-1;0<=m;m--){var v=a[m],M=v.instance,B=v.currentTarget;if(v=v.listener,M!==o&&c.isPropagationStopped())break e;o=v,c.currentTarget=B;try{o(c)}catch(K){Ms(K)}c.currentTarget=null,o=M}else for(m=0;m<a.length;m++){if(v=a[m],M=v.instance,B=v.currentTarget,v=v.listener,M!==o&&c.isPropagationStopped())break e;o=v,c.currentTarget=B;try{o(c)}catch(K){Ms(K)}c.currentTarget=null,o=M}}}}function He(e,t){var n=t[dc];n===void 0&&(n=t[dc]=new Set);var a=e+"__bubble";n.has(a)||(Hm(t,e,2,!1),n.add(a))}function tu(e,t,n){var a=0;t&&(a|=4),Hm(n,e,a,t)}var dr="_reactListening"+Math.random().toString(36).slice(2);function nu(e){if(!e[dr]){e[dr]=!0,zf.forEach(function(n){n!=="selectionchange"&&(h1.has(n)||tu(n,!1,e),tu(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[dr]||(t[dr]=!0,tu("selectionchange",!1,t))}}function Hm(e,t,n,a){switch(h0(t)){case 2:var c=Y1;break;case 8:c=G1;break;default:c=yu}n=c.bind(null,t,n,e),c=void 0,!wc||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(c=!0),a?c!==void 0?e.addEventListener(t,n,{capture:!0,passive:c}):e.addEventListener(t,n,!0):c!==void 0?e.addEventListener(t,n,{passive:c}):e.addEventListener(t,n,!1)}function au(e,t,n,a,c){var o=a;if((t&1)===0&&(t&2)===0&&a!==null)e:for(;;){if(a===null)return;var m=a.tag;if(m===3||m===4){var v=a.stateNode.containerInfo;if(v===c)break;if(m===4)for(m=a.return;m!==null;){var M=m.tag;if((M===3||M===4)&&m.stateNode.containerInfo===c)return;m=m.return}for(;v!==null;){if(m=al(v),m===null)return;if(M=m.tag,M===5||M===6||M===26||M===27){a=o=m;continue e}v=v.parentNode}}a=a.return}Vf(function(){var B=o,K=xc(n),te=[];e:{var G=yd.get(e);if(G!==void 0){var V=Ts,ye=e;switch(e){case"keypress":if(ws(n)===0)break e;case"keydown":case"keyup":V=sy;break;case"focusin":ye="focus",V=Ac;break;case"focusout":ye="blur",V=Ac;break;case"beforeblur":case"afterblur":V=Ac;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":V=If;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":V=Kp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":V=oy;break;case hd:case md:case gd:V=$p;break;case pd:V=fy;break;case"scroll":case"scrollend":V=Ip;break;case"wheel":V=hy;break;case"copy":case"cut":case"paste":V=Pp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":V=Kf;break;case"toggle":case"beforetoggle":V=gy}var Ee=(t&4)!==0,$e=!Ee&&(e==="scroll"||e==="scrollend"),L=Ee?G!==null?G+"Capture":null:G;Ee=[];for(var C=B,H;C!==null;){var $=C;if(H=$.stateNode,$=$.tag,$!==5&&$!==26&&$!==27||H===null||L===null||($=ei(C,L),$!=null&&Ee.push(Li(C,$,H))),$e)break;C=C.return}0<Ee.length&&(G=new V(G,ye,null,n,K),te.push({event:G,listeners:Ee}))}}if((t&7)===0){e:{if(G=e==="mouseover"||e==="pointerover",V=e==="mouseout"||e==="pointerout",G&&n!==vc&&(ye=n.relatedTarget||n.fromElement)&&(al(ye)||ye[nl]))break e;if((V||G)&&(G=K.window===K?K:(G=K.ownerDocument)?G.defaultView||G.parentWindow:window,V?(ye=n.relatedTarget||n.toElement,V=B,ye=ye?al(ye):null,ye!==null&&($e=f(ye),Ee=ye.tag,ye!==$e||Ee!==5&&Ee!==27&&Ee!==6)&&(ye=null)):(V=null,ye=B),V!==ye)){if(Ee=If,$="onMouseLeave",L="onMouseEnter",C="mouse",(e==="pointerout"||e==="pointerover")&&(Ee=Kf,$="onPointerLeave",L="onPointerEnter",C="pointer"),$e=V==null?G:Pl(V),H=ye==null?G:Pl(ye),G=new Ee($,C+"leave",V,n,K),G.target=$e,G.relatedTarget=H,$=null,al(K)===B&&(Ee=new Ee(L,C+"enter",ye,n,K),Ee.target=H,Ee.relatedTarget=$e,$=Ee),$e=$,V&&ye)t:{for(Ee=m1,L=V,C=ye,H=0,$=L;$;$=Ee($))H++;$=0;for(var Te=C;Te;Te=Ee(Te))$++;for(;0<H-$;)L=Ee(L),H--;for(;0<$-H;)C=Ee(C),$--;for(;H--;){if(L===C||C!==null&&L===C.alternate){Ee=L;break t}L=Ee(L),C=Ee(C)}Ee=null}else Ee=null;V!==null&&Bm(te,G,V,Ee,!1),ye!==null&&$e!==null&&Bm(te,$e,ye,Ee,!0)}}e:{if(G=B?Pl(B):window,V=G.nodeName&&G.nodeName.toLowerCase(),V==="select"||V==="input"&&G.type==="file")var Ve=nd;else if(ed(G))if(ad)Ve=Ay;else{Ve=Ty;var ve=Sy}else V=G.nodeName,!V||V.toLowerCase()!=="input"||G.type!=="checkbox"&&G.type!=="radio"?B&&yc(B.elementType)&&(Ve=nd):Ve=Ey;if(Ve&&(Ve=Ve(e,B))){td(te,Ve,n,K);break e}ve&&ve(e,G,B),e==="focusout"&&B&&G.type==="number"&&B.memoizedProps.value!=null&&pc(G,"number",G.value)}switch(ve=B?Pl(B):window,e){case"focusin":(ed(ve)||ve.contentEditable==="true")&&(dl=ve,zc=B,ci=null);break;case"focusout":ci=zc=dl=null;break;case"mousedown":Rc=!0;break;case"contextmenu":case"mouseup":case"dragend":Rc=!1,fd(te,n,K);break;case"selectionchange":if(_y)break;case"keydown":case"keyup":fd(te,n,K)}var De;if(_c)e:{switch(e){case"compositionstart":var qe="onCompositionStart";break e;case"compositionend":qe="onCompositionEnd";break e;case"compositionupdate":qe="onCompositionUpdate";break e}qe=void 0}else fl?Jf(e,n)&&(qe="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(qe="onCompositionStart");qe&&(Ff&&n.locale!=="ko"&&(fl||qe!=="onCompositionStart"?qe==="onCompositionEnd"&&fl&&(De=Qf()):(ea=K,Sc="value"in ea?ea.value:ea.textContent,fl=!0)),ve=hr(B,qe),0<ve.length&&(qe=new Zf(qe,e,null,n,K),te.push({event:qe,listeners:ve}),De?qe.data=De:(De=Pf(n),De!==null&&(qe.data=De)))),(De=yy?vy(e,n):xy(e,n))&&(qe=hr(B,"onBeforeInput"),0<qe.length&&(ve=new Zf("onBeforeInput","beforeinput",null,n,K),te.push({event:ve,listeners:qe}),ve.data=De)),u1(te,e,B,n,K)}km(te,t)})}function Li(e,t,n){return{instance:e,listener:t,currentTarget:n}}function hr(e,t){for(var n=t+"Capture",a=[];e!==null;){var c=e,o=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||o===null||(c=ei(e,n),c!=null&&a.unshift(Li(e,c,o)),c=ei(e,t),c!=null&&a.push(Li(e,c,o))),e.tag===3)return a;e=e.return}return[]}function m1(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Bm(e,t,n,a,c){for(var o=t._reactName,m=[];n!==null&&n!==a;){var v=n,M=v.alternate,B=v.stateNode;if(v=v.tag,M!==null&&M===a)break;v!==5&&v!==26&&v!==27||B===null||(M=B,c?(B=ei(n,o),B!=null&&m.unshift(Li(n,B,M))):c||(B=ei(n,o),B!=null&&m.push(Li(n,B,M)))),n=n.return}m.length!==0&&e.push({event:t,listeners:m})}var g1=/\r\n?/g,p1=/\u0000|\uFFFD/g;function qm(e){return(typeof e=="string"?e:""+e).replace(g1,`
`).replace(p1,"")}function Ym(e,t){return t=qm(t),qm(e)===t}function We(e,t,n,a,c,o){switch(n){case"children":typeof a=="string"?t==="body"||t==="textarea"&&a===""||cl(e,a):(typeof a=="number"||typeof a=="bigint")&&t!=="body"&&cl(e,""+a);break;case"className":ys(e,"class",a);break;case"tabIndex":ys(e,"tabindex",a);break;case"dir":case"role":case"viewBox":case"width":case"height":ys(e,n,a);break;case"style":Yf(e,a,o);break;case"data":if(t!=="object"){ys(e,"data",a);break}case"src":case"href":if(a===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(a==null||typeof a=="function"||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(n);break}a=xs(""+a),e.setAttribute(n,a);break;case"action":case"formAction":if(typeof a=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof o=="function"&&(n==="formAction"?(t!=="input"&&We(e,t,"name",c.name,c,null),We(e,t,"formEncType",c.formEncType,c,null),We(e,t,"formMethod",c.formMethod,c,null),We(e,t,"formTarget",c.formTarget,c,null)):(We(e,t,"encType",c.encType,c,null),We(e,t,"method",c.method,c,null),We(e,t,"target",c.target,c,null)));if(a==null||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(n);break}a=xs(""+a),e.setAttribute(n,a);break;case"onClick":a!=null&&(e.onclick=Rn);break;case"onScroll":a!=null&&He("scroll",e);break;case"onScrollEnd":a!=null&&He("scrollend",e);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(r(61));if(n=a.__html,n!=null){if(c.children!=null)throw Error(r(60));e.innerHTML=n}}break;case"multiple":e.multiple=a&&typeof a!="function"&&typeof a!="symbol";break;case"muted":e.muted=a&&typeof a!="function"&&typeof a!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(a==null||typeof a=="function"||typeof a=="boolean"||typeof a=="symbol"){e.removeAttribute("xlink:href");break}n=xs(""+a),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(n,""+a):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":a&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":a===!0?e.setAttribute(n,""):a!==!1&&a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(n,a):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":a!=null&&typeof a!="function"&&typeof a!="symbol"&&!isNaN(a)&&1<=a?e.setAttribute(n,a):e.removeAttribute(n);break;case"rowSpan":case"start":a==null||typeof a=="function"||typeof a=="symbol"||isNaN(a)?e.removeAttribute(n):e.setAttribute(n,a);break;case"popover":He("beforetoggle",e),He("toggle",e),ps(e,"popover",a);break;case"xlinkActuate":zn(e,"http://www.w3.org/1999/xlink","xlink:actuate",a);break;case"xlinkArcrole":zn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",a);break;case"xlinkRole":zn(e,"http://www.w3.org/1999/xlink","xlink:role",a);break;case"xlinkShow":zn(e,"http://www.w3.org/1999/xlink","xlink:show",a);break;case"xlinkTitle":zn(e,"http://www.w3.org/1999/xlink","xlink:title",a);break;case"xlinkType":zn(e,"http://www.w3.org/1999/xlink","xlink:type",a);break;case"xmlBase":zn(e,"http://www.w3.org/XML/1998/namespace","xml:base",a);break;case"xmlLang":zn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",a);break;case"xmlSpace":zn(e,"http://www.w3.org/XML/1998/namespace","xml:space",a);break;case"is":ps(e,"is",a);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=Qp.get(n)||n,ps(e,n,a))}}function lu(e,t,n,a,c,o){switch(n){case"style":Yf(e,a,o);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(r(61));if(n=a.__html,n!=null){if(c.children!=null)throw Error(r(60));e.innerHTML=n}}break;case"children":typeof a=="string"?cl(e,a):(typeof a=="number"||typeof a=="bigint")&&cl(e,""+a);break;case"onScroll":a!=null&&He("scroll",e);break;case"onScrollEnd":a!=null&&He("scrollend",e);break;case"onClick":a!=null&&(e.onclick=Rn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Rf.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(c=n.endsWith("Capture"),t=n.slice(2,c?n.length-7:void 0),o=e[Dt]||null,o=o!=null?o[n]:null,typeof o=="function"&&e.removeEventListener(t,o,c),typeof a=="function")){typeof o!="function"&&o!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,a,c);break e}n in e?e[n]=a:a===!0?e.setAttribute(n,""):ps(e,n,a)}}}function jt(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":He("error",e),He("load",e);var a=!1,c=!1,o;for(o in n)if(n.hasOwnProperty(o)){var m=n[o];if(m!=null)switch(o){case"src":a=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:We(e,t,o,m,n,null)}}c&&We(e,t,"srcSet",n.srcSet,n,null),a&&We(e,t,"src",n.src,n,null);return;case"input":He("invalid",e);var v=o=m=c=null,M=null,B=null;for(a in n)if(n.hasOwnProperty(a)){var K=n[a];if(K!=null)switch(a){case"name":c=K;break;case"type":m=K;break;case"checked":M=K;break;case"defaultChecked":B=K;break;case"value":o=K;break;case"defaultValue":v=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(r(137,t));break;default:We(e,t,a,K,n,null)}}kf(e,o,v,M,B,m,c,!1);return;case"select":He("invalid",e),a=m=o=null;for(c in n)if(n.hasOwnProperty(c)&&(v=n[c],v!=null))switch(c){case"value":o=v;break;case"defaultValue":m=v;break;case"multiple":a=v;default:We(e,t,c,v,n,null)}t=o,n=m,e.multiple=!!a,t!=null?rl(e,!!a,t,!1):n!=null&&rl(e,!!a,n,!0);return;case"textarea":He("invalid",e),o=c=a=null;for(m in n)if(n.hasOwnProperty(m)&&(v=n[m],v!=null))switch(m){case"value":a=v;break;case"defaultValue":c=v;break;case"children":o=v;break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(r(91));break;default:We(e,t,m,v,n,null)}Bf(e,a,c,o);return;case"option":for(M in n)if(n.hasOwnProperty(M)&&(a=n[M],a!=null))switch(M){case"selected":e.selected=a&&typeof a!="function"&&typeof a!="symbol";break;default:We(e,t,M,a,n,null)}return;case"dialog":He("beforetoggle",e),He("toggle",e),He("cancel",e),He("close",e);break;case"iframe":case"object":He("load",e);break;case"video":case"audio":for(a=0;a<Ri.length;a++)He(Ri[a],e);break;case"image":He("error",e),He("load",e);break;case"details":He("toggle",e);break;case"embed":case"source":case"link":He("error",e),He("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in n)if(n.hasOwnProperty(B)&&(a=n[B],a!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:We(e,t,B,a,n,null)}return;default:if(yc(t)){for(K in n)n.hasOwnProperty(K)&&(a=n[K],a!==void 0&&lu(e,t,K,a,n,void 0));return}}for(v in n)n.hasOwnProperty(v)&&(a=n[v],a!=null&&We(e,t,v,a,n,null))}function y1(e,t,n,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,o=null,m=null,v=null,M=null,B=null,K=null;for(V in n){var te=n[V];if(n.hasOwnProperty(V)&&te!=null)switch(V){case"checked":break;case"value":break;case"defaultValue":M=te;default:a.hasOwnProperty(V)||We(e,t,V,null,a,te)}}for(var G in a){var V=a[G];if(te=n[G],a.hasOwnProperty(G)&&(V!=null||te!=null))switch(G){case"type":o=V;break;case"name":c=V;break;case"checked":B=V;break;case"defaultChecked":K=V;break;case"value":m=V;break;case"defaultValue":v=V;break;case"children":case"dangerouslySetInnerHTML":if(V!=null)throw Error(r(137,t));break;default:V!==te&&We(e,t,G,V,a,te)}}gc(e,m,v,M,B,K,o,c);return;case"select":V=m=v=G=null;for(o in n)if(M=n[o],n.hasOwnProperty(o)&&M!=null)switch(o){case"value":break;case"multiple":V=M;default:a.hasOwnProperty(o)||We(e,t,o,null,a,M)}for(c in a)if(o=a[c],M=n[c],a.hasOwnProperty(c)&&(o!=null||M!=null))switch(c){case"value":G=o;break;case"defaultValue":v=o;break;case"multiple":m=o;default:o!==M&&We(e,t,c,o,a,M)}t=v,n=m,a=V,G!=null?rl(e,!!n,G,!1):!!a!=!!n&&(t!=null?rl(e,!!n,t,!0):rl(e,!!n,n?[]:"",!1));return;case"textarea":V=G=null;for(v in n)if(c=n[v],n.hasOwnProperty(v)&&c!=null&&!a.hasOwnProperty(v))switch(v){case"value":break;case"children":break;default:We(e,t,v,null,a,c)}for(m in a)if(c=a[m],o=n[m],a.hasOwnProperty(m)&&(c!=null||o!=null))switch(m){case"value":G=c;break;case"defaultValue":V=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(r(91));break;default:c!==o&&We(e,t,m,c,a,o)}Hf(e,G,V);return;case"option":for(var ye in n)if(G=n[ye],n.hasOwnProperty(ye)&&G!=null&&!a.hasOwnProperty(ye))switch(ye){case"selected":e.selected=!1;break;default:We(e,t,ye,null,a,G)}for(M in a)if(G=a[M],V=n[M],a.hasOwnProperty(M)&&G!==V&&(G!=null||V!=null))switch(M){case"selected":e.selected=G&&typeof G!="function"&&typeof G!="symbol";break;default:We(e,t,M,G,a,V)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ee in n)G=n[Ee],n.hasOwnProperty(Ee)&&G!=null&&!a.hasOwnProperty(Ee)&&We(e,t,Ee,null,a,G);for(B in a)if(G=a[B],V=n[B],a.hasOwnProperty(B)&&G!==V&&(G!=null||V!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(r(137,t));break;default:We(e,t,B,G,a,V)}return;default:if(yc(t)){for(var $e in n)G=n[$e],n.hasOwnProperty($e)&&G!==void 0&&!a.hasOwnProperty($e)&&lu(e,t,$e,void 0,a,G);for(K in a)G=a[K],V=n[K],!a.hasOwnProperty(K)||G===V||G===void 0&&V===void 0||lu(e,t,K,G,a,V);return}}for(var L in n)G=n[L],n.hasOwnProperty(L)&&G!=null&&!a.hasOwnProperty(L)&&We(e,t,L,null,a,G);for(te in a)G=a[te],V=n[te],!a.hasOwnProperty(te)||G===V||G==null&&V==null||We(e,t,te,G,a,V)}function Gm(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function v1(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,n=performance.getEntriesByType("resource"),a=0;a<n.length;a++){var c=n[a],o=c.transferSize,m=c.initiatorType,v=c.duration;if(o&&v&&Gm(m)){for(m=0,v=c.responseEnd,a+=1;a<n.length;a++){var M=n[a],B=M.startTime;if(B>v)break;var K=M.transferSize,te=M.initiatorType;K&&Gm(te)&&(M=M.responseEnd,m+=K*(M<v?1:(v-B)/(M-B)))}if(--a,t+=8*(o+m)/(c.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var iu=null,su=null;function mr(e){return e.nodeType===9?e:e.ownerDocument}function Vm(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Qm(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function ru(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var cu=null;function x1(){var e=window.event;return e&&e.type==="popstate"?e===cu?!1:(cu=e,!0):(cu=null,!1)}var Xm=typeof setTimeout=="function"?setTimeout:void 0,b1=typeof clearTimeout=="function"?clearTimeout:void 0,Im=typeof Promise=="function"?Promise:void 0,w1=typeof queueMicrotask=="function"?queueMicrotask:typeof Im<"u"?function(e){return Im.resolve(null).then(e).catch(S1)}:Xm;function S1(e){setTimeout(function(){throw e})}function ya(e){return e==="head"}function Zm(e,t){var n=t,a=0;do{var c=n.nextSibling;if(e.removeChild(n),c&&c.nodeType===8)if(n=c.data,n==="/$"||n==="/&"){if(a===0){e.removeChild(c),Bl(t);return}a--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")a++;else if(n==="html")Oi(e.ownerDocument.documentElement);else if(n==="head"){n=e.ownerDocument.head,Oi(n);for(var o=n.firstChild;o;){var m=o.nextSibling,v=o.nodeName;o[Jl]||v==="SCRIPT"||v==="STYLE"||v==="LINK"&&o.rel.toLowerCase()==="stylesheet"||n.removeChild(o),o=m}}else n==="body"&&Oi(e.ownerDocument.body);n=c}while(n);Bl(t)}function Km(e,t){var n=e;e=0;do{var a=n.nextSibling;if(n.nodeType===1?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),a&&a.nodeType===8)if(n=a.data,n==="/$"){if(e===0)break;e--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||e++;n=a}while(n)}function ou(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":ou(n),hc(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function T1(e,t,n,a){for(;e.nodeType===1;){var c=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!a&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(a){if(!e[Jl])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(o=e.getAttribute("rel"),o==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(o!==c.rel||e.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||e.getAttribute("title")!==(c.title==null?null:c.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(o=e.getAttribute("src"),(o!==(c.src==null?null:c.src)||e.getAttribute("type")!==(c.type==null?null:c.type)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&o&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var o=c.name==null?null:""+c.name;if(c.type==="hidden"&&e.getAttribute("name")===o)return e}else return e;if(e=un(e.nextSibling),e===null)break}return null}function E1(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=un(e.nextSibling),e===null))return null;return e}function Fm(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=un(e.nextSibling),e===null))return null;return e}function uu(e){return e.data==="$?"||e.data==="$~"}function fu(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function A1(e,t){var n=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||n.readyState!=="loading")t();else{var a=function(){t(),n.removeEventListener("DOMContentLoaded",a)};n.addEventListener("DOMContentLoaded",a),e._reactRetry=a}}function un(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var du=null;function Wm(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"||n==="/&"){if(t===0)return un(e.nextSibling);t--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||t++}e=e.nextSibling}return null}function $m(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(t===0)return e;t--}else n!=="/$"&&n!=="/&"||t++}e=e.previousSibling}return null}function Jm(e,t,n){switch(t=mr(n),e){case"html":if(e=t.documentElement,!e)throw Error(r(452));return e;case"head":if(e=t.head,!e)throw Error(r(453));return e;case"body":if(e=t.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function Oi(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);hc(e)}var fn=new Map,Pm=new Set;function gr(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Kn=I.d;I.d={f:M1,r:_1,D:C1,C:j1,L:N1,m:z1,X:L1,S:R1,M:O1};function M1(){var e=Kn.f(),t=sr();return e||t}function _1(e){var t=ll(e);t!==null&&t.tag===5&&t.type==="form"?ph(t):Kn.r(e)}var Ul=typeof document>"u"?null:document;function e0(e,t,n){var a=Ul;if(a&&typeof t=="string"&&t){var c=nn(t);c='link[rel="'+e+'"][href="'+c+'"]',typeof n=="string"&&(c+='[crossorigin="'+n+'"]'),Pm.has(c)||(Pm.add(c),e={rel:e,crossOrigin:n,href:t},a.querySelector(c)===null&&(t=a.createElement("link"),jt(t,"link",e),wt(t),a.head.appendChild(t)))}}function C1(e){Kn.D(e),e0("dns-prefetch",e,null)}function j1(e,t){Kn.C(e,t),e0("preconnect",e,t)}function N1(e,t,n){Kn.L(e,t,n);var a=Ul;if(a&&e&&t){var c='link[rel="preload"][as="'+nn(t)+'"]';t==="image"&&n&&n.imageSrcSet?(c+='[imagesrcset="'+nn(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(c+='[imagesizes="'+nn(n.imageSizes)+'"]')):c+='[href="'+nn(e)+'"]';var o=c;switch(t){case"style":o=kl(e);break;case"script":o=Hl(e)}fn.has(o)||(e=b({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),fn.set(o,e),a.querySelector(c)!==null||t==="style"&&a.querySelector(Di(o))||t==="script"&&a.querySelector(Ui(o))||(t=a.createElement("link"),jt(t,"link",e),wt(t),a.head.appendChild(t)))}}function z1(e,t){Kn.m(e,t);var n=Ul;if(n&&e){var a=t&&typeof t.as=="string"?t.as:"script",c='link[rel="modulepreload"][as="'+nn(a)+'"][href="'+nn(e)+'"]',o=c;switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":o=Hl(e)}if(!fn.has(o)&&(e=b({rel:"modulepreload",href:e},t),fn.set(o,e),n.querySelector(c)===null)){switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Ui(o)))return}a=n.createElement("link"),jt(a,"link",e),wt(a),n.head.appendChild(a)}}}function R1(e,t,n){Kn.S(e,t,n);var a=Ul;if(a&&e){var c=il(a).hoistableStyles,o=kl(e);t=t||"default";var m=c.get(o);if(!m){var v={loading:0,preload:null};if(m=a.querySelector(Di(o)))v.loading=5;else{e=b({rel:"stylesheet",href:e,"data-precedence":t},n),(n=fn.get(o))&&hu(e,n);var M=m=a.createElement("link");wt(M),jt(M,"link",e),M._p=new Promise(function(B,K){M.onload=B,M.onerror=K}),M.addEventListener("load",function(){v.loading|=1}),M.addEventListener("error",function(){v.loading|=2}),v.loading|=4,pr(m,t,a)}m={type:"stylesheet",instance:m,count:1,state:v},c.set(o,m)}}}function L1(e,t){Kn.X(e,t);var n=Ul;if(n&&e){var a=il(n).hoistableScripts,c=Hl(e),o=a.get(c);o||(o=n.querySelector(Ui(c)),o||(e=b({src:e,async:!0},t),(t=fn.get(c))&&mu(e,t),o=n.createElement("script"),wt(o),jt(o,"link",e),n.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},a.set(c,o))}}function O1(e,t){Kn.M(e,t);var n=Ul;if(n&&e){var a=il(n).hoistableScripts,c=Hl(e),o=a.get(c);o||(o=n.querySelector(Ui(c)),o||(e=b({src:e,async:!0,type:"module"},t),(t=fn.get(c))&&mu(e,t),o=n.createElement("script"),wt(o),jt(o,"link",e),n.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},a.set(c,o))}}function t0(e,t,n,a){var c=(c=he.current)?gr(c):null;if(!c)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=kl(n.href),n=il(c).hoistableStyles,a=n.get(t),a||(a={type:"style",instance:null,count:0,state:null},n.set(t,a)),a):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=kl(n.href);var o=il(c).hoistableStyles,m=o.get(e);if(m||(c=c.ownerDocument||c,m={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},o.set(e,m),(o=c.querySelector(Di(e)))&&!o._p&&(m.instance=o,m.state.loading=5),fn.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},fn.set(e,n),o||D1(c,e,n,m.state))),t&&a===null)throw Error(r(528,""));return m}if(t&&a!==null)throw Error(r(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Hl(n),n=il(c).hoistableScripts,a=n.get(t),a||(a={type:"script",instance:null,count:0,state:null},n.set(t,a)),a):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function kl(e){return'href="'+nn(e)+'"'}function Di(e){return'link[rel="stylesheet"]['+e+"]"}function n0(e){return b({},e,{"data-precedence":e.precedence,precedence:null})}function D1(e,t,n,a){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?a.loading=1:(t=e.createElement("link"),a.preload=t,t.addEventListener("load",function(){return a.loading|=1}),t.addEventListener("error",function(){return a.loading|=2}),jt(t,"link",n),wt(t),e.head.appendChild(t))}function Hl(e){return'[src="'+nn(e)+'"]'}function Ui(e){return"script[async]"+e}function a0(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var a=e.querySelector('style[data-href~="'+nn(n.href)+'"]');if(a)return t.instance=a,wt(a),a;var c=b({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return a=(e.ownerDocument||e).createElement("style"),wt(a),jt(a,"style",c),pr(a,n.precedence,e),t.instance=a;case"stylesheet":c=kl(n.href);var o=e.querySelector(Di(c));if(o)return t.state.loading|=4,t.instance=o,wt(o),o;a=n0(n),(c=fn.get(c))&&hu(a,c),o=(e.ownerDocument||e).createElement("link"),wt(o);var m=o;return m._p=new Promise(function(v,M){m.onload=v,m.onerror=M}),jt(o,"link",a),t.state.loading|=4,pr(o,n.precedence,e),t.instance=o;case"script":return o=Hl(n.src),(c=e.querySelector(Ui(o)))?(t.instance=c,wt(c),c):(a=n,(c=fn.get(o))&&(a=b({},n),mu(a,c)),e=e.ownerDocument||e,c=e.createElement("script"),wt(c),jt(c,"link",a),e.head.appendChild(c),t.instance=c);case"void":return null;default:throw Error(r(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(a=t.instance,t.state.loading|=4,pr(a,n.precedence,e));return t.instance}function pr(e,t,n){for(var a=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=a.length?a[a.length-1]:null,o=c,m=0;m<a.length;m++){var v=a[m];if(v.dataset.precedence===t)o=v;else if(o!==c)break}o?o.parentNode.insertBefore(e,o.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function hu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function mu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var yr=null;function l0(e,t,n){if(yr===null){var a=new Map,c=yr=new Map;c.set(n,a)}else c=yr,a=c.get(n),a||(a=new Map,c.set(n,a));if(a.has(e))return a;for(a.set(e,null),n=n.getElementsByTagName(e),c=0;c<n.length;c++){var o=n[c];if(!(o[Jl]||o[At]||e==="link"&&o.getAttribute("rel")==="stylesheet")&&o.namespaceURI!=="http://www.w3.org/2000/svg"){var m=o.getAttribute(t)||"";m=e+m;var v=a.get(m);v?v.push(o):a.set(m,[o])}}return a}function i0(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function U1(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function s0(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function k1(e,t,n,a){if(n.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var c=kl(a.href),o=t.querySelector(Di(c));if(o){t=o._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=vr.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=o,wt(o);return}o=t.ownerDocument||t,a=n0(a),(c=fn.get(c))&&hu(a,c),o=o.createElement("link"),wt(o);var m=o;m._p=new Promise(function(v,M){m.onload=v,m.onerror=M}),jt(o,"link",a),n.instance=o}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(e.count++,n=vr.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}var gu=0;function H1(e,t){return e.stylesheets&&e.count===0&&br(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var a=setTimeout(function(){if(e.stylesheets&&br(e,e.stylesheets),e.unsuspend){var o=e.unsuspend;e.unsuspend=null,o()}},6e4+t);0<e.imgBytes&&gu===0&&(gu=62500*v1());var c=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&br(e,e.stylesheets),e.unsuspend)){var o=e.unsuspend;e.unsuspend=null,o()}},(e.imgBytes>gu?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(a),clearTimeout(c)}}:null}function vr(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)br(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var xr=null;function br(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,xr=new Map,t.forEach(B1,e),xr=null,vr.call(e))}function B1(e,t){if(!(t.state.loading&4)){var n=xr.get(e);if(n)var a=n.get(null);else{n=new Map,xr.set(e,n);for(var c=e.querySelectorAll("link[data-precedence],style[data-precedence]"),o=0;o<c.length;o++){var m=c[o];(m.nodeName==="LINK"||m.getAttribute("media")!=="not all")&&(n.set(m.dataset.precedence,m),a=m)}a&&n.set(null,a)}c=t.instance,m=c.getAttribute("data-precedence"),o=n.get(m)||a,o===a&&n.set(null,c),n.set(m,c),this.count++,a=vr.bind(this),c.addEventListener("load",a),c.addEventListener("error",a),o?o.parentNode.insertBefore(c,o.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(c,e.firstChild)),t.state.loading|=4}}var ki={$$typeof:Q,Provider:null,Consumer:null,_currentValue:Z,_currentValue2:Z,_threadCount:0};function q1(e,t,n,a,c,o,m,v,M){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=$l(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$l(0),this.hiddenUpdates=$l(null),this.identifierPrefix=a,this.onUncaughtError=c,this.onCaughtError=o,this.onRecoverableError=m,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=M,this.incompleteTransitions=new Map}function r0(e,t,n,a,c,o,m,v,M,B,K,te){return e=new q1(e,t,n,m,M,B,K,te,v),t=1,o===!0&&(t|=24),o=It(3,null,null,t),e.current=o,o.stateNode=e,t=Zc(),t.refCount++,e.pooledCache=t,t.refCount++,o.memoizedState={element:a,isDehydrated:n,cache:t},$c(o),e}function c0(e){return e?(e=gl,e):gl}function o0(e,t,n,a,c,o){c=c0(c),a.context===null?a.context=c:a.pendingContext=c,a=sa(t),a.payload={element:n},o=o===void 0?null:o,o!==null&&(a.callback=o),n=ra(e,a,t),n!==null&&(Yt(n,e,t),gi(n,e,t))}function u0(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function pu(e,t){u0(e,t),(e=e.alternate)&&u0(e,t)}function f0(e){if(e.tag===13||e.tag===31){var t=ka(e,67108864);t!==null&&Yt(t,e,67108864),pu(e,67108864)}}function d0(e){if(e.tag===13||e.tag===31){var t=$t();t=uc(t);var n=ka(e,t);n!==null&&Yt(n,e,t),pu(e,t)}}var wr=!0;function Y1(e,t,n,a){var c=z.T;z.T=null;var o=I.p;try{I.p=2,yu(e,t,n,a)}finally{I.p=o,z.T=c}}function G1(e,t,n,a){var c=z.T;z.T=null;var o=I.p;try{I.p=8,yu(e,t,n,a)}finally{I.p=o,z.T=c}}function yu(e,t,n,a){if(wr){var c=vu(a);if(c===null)au(e,t,a,Sr,n),m0(e,a);else if(Q1(c,e,t,n,a))a.stopPropagation();else if(m0(e,a),t&4&&-1<V1.indexOf(e)){for(;c!==null;){var o=ll(c);if(o!==null)switch(o.tag){case 3:if(o=o.stateNode,o.current.memoizedState.isDehydrated){var m=Tn(o.pendingLanes);if(m!==0){var v=o;for(v.pendingLanes|=2,v.entangledLanes|=2;m;){var M=1<<31-zt(m);v.entanglements[1]|=M,m&=~M}_n(o),(Xe&6)===0&&(lr=et()+500,zi(0))}}break;case 31:case 13:v=ka(o,2),v!==null&&Yt(v,o,2),sr(),pu(o,2)}if(o=vu(a),o===null&&au(e,t,a,Sr,n),o===c)break;c=o}c!==null&&a.stopPropagation()}else au(e,t,a,null,n)}}function vu(e){return e=xc(e),xu(e)}var Sr=null;function xu(e){if(Sr=null,e=al(e),e!==null){var t=f(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=h(t),e!==null)return e;e=null}else if(n===31){if(e=p(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Sr=e,null}function h0(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(dt()){case pn:return 2;case pe:return 8;case Se:case st:return 32;case tt:return 268435456;default:return 32}default:return 32}}var bu=!1,va=null,xa=null,ba=null,Hi=new Map,Bi=new Map,wa=[],V1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function m0(e,t){switch(e){case"focusin":case"focusout":va=null;break;case"dragenter":case"dragleave":xa=null;break;case"mouseover":case"mouseout":ba=null;break;case"pointerover":case"pointerout":Hi.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Bi.delete(t.pointerId)}}function qi(e,t,n,a,c,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:a,nativeEvent:o,targetContainers:[c]},t!==null&&(t=ll(t),t!==null&&f0(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,c!==null&&t.indexOf(c)===-1&&t.push(c),e)}function Q1(e,t,n,a,c){switch(t){case"focusin":return va=qi(va,e,t,n,a,c),!0;case"dragenter":return xa=qi(xa,e,t,n,a,c),!0;case"mouseover":return ba=qi(ba,e,t,n,a,c),!0;case"pointerover":var o=c.pointerId;return Hi.set(o,qi(Hi.get(o)||null,e,t,n,a,c)),!0;case"gotpointercapture":return o=c.pointerId,Bi.set(o,qi(Bi.get(o)||null,e,t,n,a,c)),!0}return!1}function g0(e){var t=al(e.target);if(t!==null){var n=f(t);if(n!==null){if(t=n.tag,t===13){if(t=h(n),t!==null){e.blockedOn=t,jf(e.priority,function(){d0(n)});return}}else if(t===31){if(t=p(n),t!==null){e.blockedOn=t,jf(e.priority,function(){d0(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Tr(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=vu(e.nativeEvent);if(n===null){n=e.nativeEvent;var a=new n.constructor(n.type,n);vc=a,n.target.dispatchEvent(a),vc=null}else return t=ll(n),t!==null&&f0(t),e.blockedOn=n,!1;t.shift()}return!0}function p0(e,t,n){Tr(e)&&n.delete(t)}function X1(){bu=!1,va!==null&&Tr(va)&&(va=null),xa!==null&&Tr(xa)&&(xa=null),ba!==null&&Tr(ba)&&(ba=null),Hi.forEach(p0),Bi.forEach(p0)}function Er(e,t){e.blockedOn===t&&(e.blockedOn=null,bu||(bu=!0,l.unstable_scheduleCallback(l.unstable_NormalPriority,X1)))}var Ar=null;function y0(e){Ar!==e&&(Ar=e,l.unstable_scheduleCallback(l.unstable_NormalPriority,function(){Ar===e&&(Ar=null);for(var t=0;t<e.length;t+=3){var n=e[t],a=e[t+1],c=e[t+2];if(typeof a!="function"){if(xu(a||n)===null)continue;break}var o=ll(n);o!==null&&(e.splice(t,3),t-=3,vo(o,{pending:!0,data:c,method:n.method,action:a},a,c))}}))}function Bl(e){function t(M){return Er(M,e)}va!==null&&Er(va,e),xa!==null&&Er(xa,e),ba!==null&&Er(ba,e),Hi.forEach(t),Bi.forEach(t);for(var n=0;n<wa.length;n++){var a=wa[n];a.blockedOn===e&&(a.blockedOn=null)}for(;0<wa.length&&(n=wa[0],n.blockedOn===null);)g0(n),n.blockedOn===null&&wa.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(a=0;a<n.length;a+=3){var c=n[a],o=n[a+1],m=c[Dt]||null;if(typeof o=="function")m||y0(n);else if(m){var v=null;if(o&&o.hasAttribute("formAction")){if(c=o,m=o[Dt]||null)v=m.formAction;else if(xu(c)!==null)continue}else v=m.action;typeof v=="function"?n[a+1]=v:(n.splice(a,3),a-=3),y0(n)}}}function v0(){function e(o){o.canIntercept&&o.info==="react-transition"&&o.intercept({handler:function(){return new Promise(function(m){return c=m})},focusReset:"manual",scroll:"manual"})}function t(){c!==null&&(c(),c=null),a||setTimeout(n,20)}function n(){if(!a&&!navigation.transition){var o=navigation.currentEntry;o&&o.url!=null&&navigation.navigate(o.url,{state:o.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var a=!1,c=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){a=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),c!==null&&(c(),c=null)}}}function wu(e){this._internalRoot=e}Mr.prototype.render=wu.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(r(409));var n=t.current,a=$t();o0(n,a,e,t,null,null)},Mr.prototype.unmount=wu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;o0(e.current,2,null,e,null,null),sr(),t[nl]=null}};function Mr(e){this._internalRoot=e}Mr.prototype.unstable_scheduleHydration=function(e){if(e){var t=Cf();e={blockedOn:null,target:e,priority:t};for(var n=0;n<wa.length&&t!==0&&t<wa[n].priority;n++);wa.splice(n,0,e),n===0&&g0(e)}};var x0=i.version;if(x0!=="19.2.4")throw Error(r(527,x0,"19.2.4"));I.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=g(t),e=e!==null?w(e):null,e=e===null?null:e.stateNode,e};var I1={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:z,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var _r=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_r.isDisabled&&_r.supportsFiber)try{Et=_r.inject(I1),ht=_r}catch{}}return Gi.createRoot=function(e,t){if(!u(e))throw Error(r(299));var n=!1,a="",c=Mh,o=_h,m=Ch;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(a=t.identifierPrefix),t.onUncaughtError!==void 0&&(c=t.onUncaughtError),t.onCaughtError!==void 0&&(o=t.onCaughtError),t.onRecoverableError!==void 0&&(m=t.onRecoverableError)),t=r0(e,1,!1,null,null,n,a,null,c,o,m,v0),e[nl]=t.current,nu(e),new wu(t)},Gi.hydrateRoot=function(e,t,n){if(!u(e))throw Error(r(299));var a=!1,c="",o=Mh,m=_h,v=Ch,M=null;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(c=n.identifierPrefix),n.onUncaughtError!==void 0&&(o=n.onUncaughtError),n.onCaughtError!==void 0&&(m=n.onCaughtError),n.onRecoverableError!==void 0&&(v=n.onRecoverableError),n.formState!==void 0&&(M=n.formState)),t=r0(e,1,!0,t,n??null,a,c,M,o,m,v,v0),t.context=c0(null),n=t.current,a=$t(),a=uc(a),c=sa(a),c.callback=null,ra(n,c,a),n=a,t.current.lanes=n,Ae(t,n),_n(t),e[nl]=t.current,nu(e),new Mr(t)},Gi.version="19.2.4",Gi}var j0;function tv(){if(j0)return Eu.exports;j0=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(i){console.error(i)}}return l(),Eu.exports=ev(),Eu.exports}var nv=tv();const av=Eg(nv),Mg=x.createContext(void 0),lv=()=>{const l=x.useContext(Mg);if(!l)throw new Error("useToast must be used within a ToastProvider");return l};var it=(l=>(l[l.PAUSED=0]="PAUSED",l[l.PLAYING=1]="PLAYING",l))(it||{}),en=(l=>(l[l.LOOP_ALL=0]="LOOP_ALL",l[l.LOOP_ONE=1]="LOOP_ONE",l[l.SHUFFLE=2]="SHUFFLE",l))(en||{});const iv=1024,_g=()=>typeof window>"u"||typeof window.matchMedia!="function"?!1:window.matchMedia(`(max-width: ${iv}px)`).matches,of=l=>{const i=new Map;let s=0;const r=()=>{for(;s>l&&i.size>0;){const u=i.keys().next().value;if(!u)break;const f=i.get(u);i.delete(u),f&&(s-=f.size)}};return{get(u){const f=i.get(u);return f?(i.delete(u),i.set(u,f),f.blob):null},set(u,f){const h=f.size||0;if(!(h<=0||h>l)){if(i.has(u)){const p=i.get(u);p&&(s-=p.size),i.delete(u)}i.set(u,{blob:f,size:h}),s+=h,r()}},delete(u){const f=i.get(u);f&&(s-=f.size,i.delete(u))},clear(){i.clear(),s=0},getLimit(){return l}}},sv=_g()?50*1024*1024:100*1024*1024,rv=_g()?100*1024*1024:200*1024*1024,cv=50*1024*1024,N0=of(cv),z0=of(sv),Or=of(rv),Cg=async l=>{const i=N0.get(l);if(i)return i;const s=await fetch(l);if(!s.ok)throw new Error(`Failed to fetch image: ${s.status}`);const r=await s.blob();return N0.set(l,r),r},jg=async l=>{const i=await Cg(l);return new Promise((s,r)=>{const u=new Image;u.crossOrigin="anonymous";const f=URL.createObjectURL(i);u.onload=()=>{URL.revokeObjectURL(f),s(u)},u.onerror=h=>{URL.revokeObjectURL(f),r(h)},u.src=f})},Ng=["#8b5cf6","#ec4899","#f97316","#3b82f6"],R0=[-.2351,-.0967,.2135,-.1414,.9221,-.0908,.9221,-.0685,1.3027,.0253,1.2351,.1786,-.3768,.1851,.2,.2,.6615,.3146,.9543,0,.6969,.1911,1,.2,0,.4,.2,.4,.0776,.2318,.6,.4,.6615,.3851,1,.4,0,.6,.1291,.6,.4,.6,.4,.4304,.4264,.5792,1.2029,.8188,-.1192,1,.6,.8,.4264,.8104,.6,.8,.8,.8,1,.8,0,1,.0776,1.0283,.4,1,.6,1,.8,1,1.1868,1.0283],L0=(l,i,s)=>{const r=document.createElement("canvas");r.width=i,r.height=s;const u=r.getContext("2d",{willReadFrequently:!0});return u?(u.imageSmoothingEnabled=!0,u.imageSmoothingQuality="high",u.drawImage(l,0,0,i,s),r):l},O0=(l,i)=>{const s=document.createElement("canvas");s.width=l.width,s.height=l.height;const r=s.getContext("2d");return r?(r.filter=`blur(${i}px)`,r.drawImage(l,0,0),s):l},D0=(l,i)=>{const s=document.createElement("canvas");s.width=l.width,s.height=l.height;const r=s.getContext("2d");if(!r)return l;const u=5,f=5,h=[];for(let p=0;p<i.length;p+=2)h.push(i[p]*l.width),h.push(i[p+1]*l.height);for(let p=0;p<f;p++)for(let y=0;y<u;y++){const g=p*6+y,w=g+1,b=(p+1)*6+y,_=b+1,O=y/u*l.width,R=p/f*l.height,A=l.width/u,T=l.height/f,N=h[g*2],q=h[g*2+1],Q=h[w*2],S=h[w*2+1],j=h[_*2],U=h[_*2+1],k=h[b*2],J=h[b*2+1];r.save(),r.beginPath(),r.moveTo(N,q),r.lineTo(Q,S),r.lineTo(k,J),r.closePath(),r.clip();const Y=Q-N,P=S-q,F=k-N,ee=J-q;Math.abs(Y*ee-F*P)>1&&(r.transform(Y/A,P/A,F/T,ee/T,N,q),r.drawImage(l,O,R,A,T,0,0,A,T)),r.restore(),r.save(),r.beginPath(),r.moveTo(Q,S),r.lineTo(j,U),r.lineTo(k,J),r.closePath(),r.clip();const oe=j-Q,ne=U-S,re=k-Q,z=J-S;Math.abs(oe*z-re*ne)>1&&(r.transform(oe/A,ne/A,re/T,z/T,Q,S),r.drawImage(l,O,R,A,T,0,0,A,T)),r.restore()}return s},ov=(l,i)=>{const s=document.createElement("canvas");s.width=l.width,s.height=l.height;const r=s.getContext("2d");return r?(r.filter=`saturate(${i})`,r.drawImage(l,0,0),s):l},uv=l=>{const i=l.getContext("2d",{willReadFrequently:!0});if(!i)return .5;const s=Math.floor(l.width/2),r=Math.floor(l.height/2),u=i.getImageData(s,r,1,1).data,f=u[0]/255,h=u[1]/255,p=u[2]/255;return .299*f+.587*h+.114*p},fv=l=>{const i=uv(l),s=l.getContext("2d");return s&&(i>.8?(s.fillStyle="rgba(0, 0, 0, 0.31)",s.fillRect(0,0,l.width,l.height)):i<.2&&(s.fillStyle="rgba(255, 255, 255, 0.31)",s.fillRect(0,0,l.width,l.height))),l},dv=l=>{const s=Math.floor(l.height/l.width*150);let r=L0(l,150,s);r=O0(r,25),r=D0(r,R0);const u=1e3,f=Math.floor(r.height/r.width*u);return r=L0(r,u,f),r=D0(r,R0),r=O0(r,12),r=ov(r,1.8),r=fv(r),r},hv=async(l,i)=>{const r=document.createElement("canvas");r.width=600,r.height=600;const u=r.getContext("2d");if(!u)return r;const f=u.createLinearGradient(0,0,600,600);if(l.forEach((h,p)=>{f.addColorStop(p/Math.max(1,l.length-1),h)}),u.fillStyle=f,u.fillRect(0,0,600,600),i)try{const h=await jg(i),p=Math.max(600/h.width,600/h.height),y=h.width*p,g=h.height*p,w=(600-y)/2,b=(600-g)/2;u.globalAlpha=.9,u.drawImage(h,w,b,y,g),u.globalAlpha=1}catch(h){console.warn("Failed to load cover",h)}for(let h=0;h<8;h++){const p=Math.random()*600,y=Math.random()*600,g=600*(.3+Math.random()*.4),w=l[Math.floor(Math.random()*l.length)],b=u.createRadialGradient(p,y,0,p,y,g);b.addColorStop(0,w),b.addColorStop(1,"rgba(0,0,0,0)"),u.globalAlpha=.3+Math.random()*.3,u.fillStyle=b,u.fillRect(p-g,y-g,g*2,g*2)}return r},mv=l=>!l||l.length===0?Ng:l,gv=async(l,i,s=4)=>{const r=mv(l),u=[];for(let f=0;f<s;f++){const h=await hv(r,i),p=dv(h);u.push({image:p,startX:(Math.random()-.5)*.2,startY:(Math.random()-.5)*.2,startScale:1.15+Math.random()*.1,duration:2e4+Math.random()*15e3,startTime:-f*5e3})}return u};class zg{constructor(i=60){this.lastRenderTime=0,this.isPaused=!1,this.targetFps=i,this.frameInterval=1e3/i}setTargetFps(i){this.targetFps=i,this.frameInterval=1e3/i}setPaused(i){this.isPaused=i}shouldRender(i){if(this.lastRenderTime===0)return this.lastRenderTime=i,!0;const s=i-this.lastRenderTime;return s<this.frameInterval?!1:(this.lastRenderTime=i-s%this.frameInterval,!0)}resetClock(i){this.lastRenderTime=i}}class U0 extends zg{constructor(i,s,r=60){super(r),this.ctx=null,this.rafId=null,this.running=!1,this.tick=u=>{this.running&&(this.ctx||(this.ctx=this.canvas.getContext("2d")),this.ctx&&(!this.isPaused&&this.shouldRender(u)&&this.renderCallback(this.ctx,u),this.rafId=window.requestAnimationFrame(this.tick)))},this.canvas=i,this.renderCallback=s}start(){if(this.running&&this.stop(),this.ctx=this.canvas.getContext("2d"),!this.ctx){console.error("Failed to get 2D context for UI background renderer");return}this.running=!0,this.resetClock(performance.now()),this.rafId=window.requestAnimationFrame(this.tick)}stop(){this.running=!1,this.rafId&&(window.cancelAnimationFrame(this.rafId),this.rafId=null)}resize(i,s){const r=i??this.canvas.clientWidth,u=s??this.canvas.clientHeight;(this.canvas.width!==r||this.canvas.height!==u)&&(this.canvas.width=r,this.canvas.height=u)}}const pv="/assets/webWorkerBackground.worker-DV7Do3qe.js";class Ea extends zg{constructor(i,s=60){super(s),this.worker=null,this.canvas=i}start(i){if(!Ea.isSupported(this.canvas)){console.warn("WebWorker background renderer requires OffscreenCanvas support");return}this.stop();try{const s=this.canvas.transferControlToOffscreen();this.canvas.dataset.offscreenTransferred="true",this.worker=new Worker(pv,{type:"module"});const r={type:"init",canvas:s,width:this.canvas.clientWidth,height:this.canvas.clientHeight,colors:i};this.worker.postMessage(r,[s])}catch(s){console.error("Failed to initialize web worker renderer",s),this.worker=null}}stop(){this.worker&&(this.worker.terminate(),this.worker=null)}resize(i,s){if(this.worker){const r={type:"resize",width:i,height:s};this.worker.postMessage(r)}}setPaused(i){super.setPaused(i),this.worker&&this.worker.postMessage({type:"pause",paused:i})}setPlaying(i){this.worker&&this.worker.postMessage({type:"play",isPlaying:i})}setColors(i){this.worker&&this.worker.postMessage({type:"colors",colors:i})}static isSupported(i){return typeof window<"u"&&typeof OffscreenCanvas<"u"&&typeof i.transferControlToOffscreen=="function"}}const yv=["rgb(60, 20, 80)","rgb(100, 40, 60)","rgb(20, 20, 40)","rgb(40, 40, 90)"],vv=l=>-(Math.cos(Math.PI*l)-1)/2,xv=(l,i)=>{const s=(i+l.startTime)%l.duration/l.duration,r=vv(s),u=l.startX+Math.sin(s*Math.PI*2)*.15,f=l.startY+Math.cos(s*Math.PI*2)*.12,h=l.startScale+Math.sin(s*Math.PI*2)*.08,p=Math.sin(s*Math.PI*2)*.08;return{x:u,y:f,scale:h,rotation:p,eased:r}},bv=({colors:l,isPlaying:i=!0,coverUrl:s,isMobileLayout:r=!1,theme:u="dark"})=>{const f=x.useRef(null),h=x.useRef(null),p=x.useRef([]),y=x.useRef(i),g=x.useRef(0),w=x.useRef(0),b=x.useRef(l),[_,O]=x.useState(0),R=x.useRef(r),A=x.useRef(u),T=x.useRef({progress:1,startTime:0}),N=x.useRef(u);x.useEffect(()=>{A.current!==u&&(N.current=A.current,A.current=u,T.current={progress:0,startTime:performance.now()})},[u]);const q=x.useMemo(()=>l&&l.length>0?l:Ng,[l]),Q=x.useMemo(()=>q.join("|"),[q]);x.useEffect(()=>{b.current=l},[l]),x.useEffect(()=>{y.current=i},[i]),x.useEffect(()=>{R.current!==r&&(O(Y=>Y+1),R.current=r)},[r]),x.useEffect(()=>{if(!r){p.current=[];return}let Y=!1;return(async()=>{const F=navigator.deviceMemory||4,ee=F<4?2:F<8?3:4,oe=await gv(q,s,ee);Y||(p.current=oe)})(),()=>{Y=!0}},[Q,s,q,r]);const S=x.useCallback((Y,P)=>{const F=Y.canvas.width,ee=Y.canvas.height;let oe=P;if(y.current?w.current>0&&(g.current=oe,w.current=0):(w.current=P,oe=g.current),Y.fillStyle="#000",Y.fillRect(0,0,F,ee),p.current.length===0){Y.fillStyle="#222",Y.fillRect(0,0,F,ee),Y.fillStyle="#666",Y.font="16px sans-serif",Y.textAlign="center",Y.fillText("Loading layers...",F/2,ee/2);return}p.current.forEach((ne,re)=>{const z=xv(ne,oe);Y.save(),Y.translate(F/2,ee/2),Y.rotate(z.rotation),Y.scale(z.scale,z.scale),Y.translate(F*z.x,ee*z.y),Y.globalCompositeOperation="screen",Y.globalAlpha=.5+re*.05,Y.filter="blur(35px)";const I=F*1.5,Z=ee*1.5;Y.drawImage(ne.image,-I/2,-Z/2,I,Z),Y.restore()})},[]),j=x.useCallback(Y=>{const P=Y.match(/rgb\((\d+),\s*(\d+),\s*(\d+)\)/);if(!P)return Y;const F=255-parseInt(P[1]),ee=255-parseInt(P[2]),oe=255-parseInt(P[3]);return`rgb(${F}, ${ee}, ${oe})`},[]),U=x.useCallback((Y,P,F)=>{const ee=Y.match(/rgb\((\d+),\s*(\d+),\s*(\d+)\)/),oe=P.match(/rgb\((\d+),\s*(\d+),\s*(\d+)\)/);if(!ee||!oe)return P;const ne=parseInt(ee[1]),re=parseInt(ee[2]),z=parseInt(ee[3]),I=parseInt(oe[1]),Z=parseInt(oe[2]),fe=parseInt(oe[3]),le=1-Math.pow(1-F,3),E=Math.round(ne+(I-ne)*le),D=Math.round(re+(Z-re)*le),ie=Math.round(z+(fe-z)*le);return`rgb(${E}, ${D}, ${ie})`},[]),k=x.useCallback((Y,P)=>{const F=Y.canvas.width,ee=Y.canvas.height;let oe=b.current&&b.current.length>0?b.current:yv;if(P&&T.current.progress<1){const le=P-T.current.startTime,E=1200;T.current.progress=Math.min(1,le/E)}const ne=oe,re=oe.map(j),z=N.current==="light"?re:ne,I=A.current==="light"?re:ne,Z=T.current.progress<1?z.map((le,E)=>U(le,I[E],T.current.progress)):I,fe=Y.createLinearGradient(0,0,F,ee);Z.forEach((le,E)=>{fe.addColorStop(E/Math.max(1,Z.length-1),le)}),Y.fillStyle=fe,Y.fillRect(0,0,F,ee)},[j,U]);x.useEffect(()=>{const Y=()=>{const P=window.innerWidth,F=window.innerHeight,ee=f.current;if(ee){if(ee.dataset.offscreenTransferred==="true"){h.current instanceof Ea&&h.current.resize(P,F);return}if(h.current instanceof Ea){h.current.resize(P,F);return}ee.width=P,ee.height=F,h.current?.resize(P,F)}};return Y(),window.addEventListener("resize",Y),()=>window.removeEventListener("resize",Y)},[r,_]),x.useEffect(()=>{const Y=f.current;if(!Y)return;if(Y.dataset.offscreenTransferred==="true"){O(oe=>oe+1);return}const P=!r&&Ea.isSupported(Y);if(P&&h.current instanceof Ea)return;if(h.current&&(h.current.stop(),h.current=null),P){Y.width=window.innerWidth,Y.height=window.innerHeight;const oe=new Ea(Y);return oe.start(b.current??[]),h.current=oe,()=>{oe.stop(),h.current=null}}const F=r?S:k,ee=new U0(Y,F);return ee.resize(window.innerWidth,window.innerHeight),ee.setPaused(!i),ee.start(),h.current=ee,()=>{ee.stop(),h.current=null}},[r,k,S,_]),x.useEffect(()=>{const Y=h.current;Y instanceof Ea?(Y.setColors(l??[]),Y.setPlaying(i)):Y instanceof U0&&Y.setPaused(!i)},[l,i]);const J=`${r?"mobile":"desktop"}-${_}`;return d.jsxs(d.Fragment,{children:[d.jsx("canvas",{ref:f,className:"fixed inset-0 w-full h-full bg-black block",style:{touchAction:"none"}},J),d.jsx("div",{className:"fixed inset-0 w-full h-full pointer-events-none opacity-[0.03] mix-blend-overlay",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)'/%3E%3C/svg%3E")`}})]})};var uf=hs(),Re=l=>ds(l,uf),ff=hs();Re.write=l=>ds(l,ff);var Wr=hs();Re.onStart=l=>ds(l,Wr);var df=hs();Re.onFrame=l=>ds(l,df);var hf=hs();Re.onFinish=l=>ds(l,hf);var Ql=[];Re.setTimeout=(l,i)=>{const s=Re.now()+i,r=()=>{const f=Ql.findIndex(h=>h.cancel==r);~f&&Ql.splice(f,1),Ca-=~f?1:0},u={time:s,handler:l,cancel:r};return Ql.splice(Rg(s),0,u),Ca+=1,Lg(),u};var Rg=l=>~(~Ql.findIndex(i=>i.time>l)||~Ql.length);Re.cancel=l=>{Wr.delete(l),df.delete(l),hf.delete(l),uf.delete(l),ff.delete(l)};Re.sync=l=>{Vu=!0,Re.batchedUpdates(l),Vu=!1};Re.throttle=l=>{let i;function s(){try{l(...i)}finally{i=null}}function r(...u){i=u,Re.onStart(s)}return r.handler=l,r.cancel=()=>{Wr.delete(s),i=null},r};var mf=typeof window<"u"?window.requestAnimationFrame:(()=>{});Re.use=l=>mf=l;Re.now=typeof performance<"u"?()=>performance.now():Date.now;Re.batchedUpdates=l=>l();Re.catch=console.error;Re.frameLoop="always";Re.advance=()=>{Re.frameLoop!=="demand"?console.warn("Cannot call the manual advancement of rafz whilst frameLoop is not set as demand"):Dg()};var _a=-1,Ca=0,Vu=!1;function ds(l,i){Vu?(i.delete(l),l(0)):(i.add(l),Lg())}function Lg(){_a<0&&(_a=0,Re.frameLoop!=="demand"&&mf(Og))}function wv(){_a=-1}function Og(){~_a&&(mf(Og),Re.batchedUpdates(Dg))}function Dg(){const l=_a;_a=Re.now();const i=Rg(_a);if(i&&(Ug(Ql.splice(0,i),s=>s.handler()),Ca-=i),!Ca){wv();return}Wr.flush(),uf.flush(l?Math.min(64,_a-l):16.667),df.flush(),ff.flush(),hf.flush()}function hs(){let l=new Set,i=l;return{add(s){Ca+=i==l&&!l.has(s)?1:0,l.add(s)},delete(s){return Ca-=i==l&&l.has(s)?1:0,l.delete(s)},flush(s){i.size&&(l=new Set,Ca-=i.size,Ug(i,r=>r(s)&&l.add(r)),Ca+=l.size,i=l)}}}function Ug(l,i){l.forEach(s=>{try{i(s)}catch(r){Re.catch(r)}})}var Sv=Object.defineProperty,Tv=(l,i)=>{for(var s in i)Sv(l,s,{get:i[s],enumerable:!0})},Sn={};Tv(Sn,{assign:()=>Av,colors:()=>ja,createStringInterpolator:()=>pf,skipAnimation:()=>Hg,to:()=>kg,willAdvance:()=>yf});function Qu(){}var Ev=(l,i,s)=>Object.defineProperty(l,i,{value:s,writable:!0,configurable:!0}),se={arr:Array.isArray,obj:l=>!!l&&l.constructor.name==="Object",fun:l=>typeof l=="function",str:l=>typeof l=="string",num:l=>typeof l=="number",und:l=>l===void 0};function Fn(l,i){if(se.arr(l)){if(!se.arr(i)||l.length!==i.length)return!1;for(let s=0;s<l.length;s++)if(l[s]!==i[s])return!1;return!0}return l===i}var Ne=(l,i)=>l.forEach(i);function Nn(l,i,s){if(se.arr(l)){for(let r=0;r<l.length;r++)i.call(s,l[r],`${r}`);return}for(const r in l)l.hasOwnProperty(r)&&i.call(s,l[r],r)}var Lt=l=>se.und(l)?[]:se.arr(l)?l:[l];function Fi(l,i){if(l.size){const s=Array.from(l);l.clear(),Ne(s,i)}}var Ii=(l,...i)=>Fi(l,s=>s(...i)),gf=()=>typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),pf,kg,ja=null,Hg=!1,yf=Qu,Av=l=>{l.to&&(kg=l.to),l.now&&(Re.now=l.now),l.colors!==void 0&&(ja=l.colors),l.skipAnimation!=null&&(Hg=l.skipAnimation),l.createStringInterpolator&&(pf=l.createStringInterpolator),l.requestAnimationFrame&&Re.use(l.requestAnimationFrame),l.batchedUpdates&&(Re.batchedUpdates=l.batchedUpdates),l.willAdvance&&(yf=l.willAdvance),l.frameLoop&&(Re.frameLoop=l.frameLoop)},Wi=new Set,mn=[],Cu=[],qr=0,$r={get idle(){return!Wi.size&&!mn.length},start(l){qr>l.priority?(Wi.add(l),Re.onStart(Mv)):(Bg(l),Re(Xu))},advance:Xu,sort(l){if(qr)Re.onFrame(()=>$r.sort(l));else{const i=mn.indexOf(l);~i&&(mn.splice(i,1),qg(l))}},clear(){mn=[],Wi.clear()}};function Mv(){Wi.forEach(Bg),Wi.clear(),Re(Xu)}function Bg(l){mn.includes(l)||qg(l)}function qg(l){mn.splice(_v(mn,i=>i.priority>l.priority),0,l)}function Xu(l){const i=Cu;for(let s=0;s<mn.length;s++){const r=mn[s];qr=r.priority,r.idle||(yf(r),r.advance(l),r.idle||i.push(r))}return qr=0,Cu=mn,Cu.length=0,mn=i,mn.length>0}function _v(l,i){const s=l.findIndex(i);return s<0?l.length:s}var Cv={transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199},wn="[-+]?\\d*\\.?\\d+",Yr=wn+"%";function Jr(...l){return"\\(\\s*("+l.join(")\\s*,\\s*(")+")\\s*\\)"}var jv=new RegExp("rgb"+Jr(wn,wn,wn)),Nv=new RegExp("rgba"+Jr(wn,wn,wn,wn)),zv=new RegExp("hsl"+Jr(wn,Yr,Yr)),Rv=new RegExp("hsla"+Jr(wn,Yr,Yr,wn)),Lv=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,Ov=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,Dv=/^#([0-9a-fA-F]{6})$/,Uv=/^#([0-9a-fA-F]{8})$/;function kv(l){let i;return typeof l=="number"?l>>>0===l&&l>=0&&l<=4294967295?l:null:(i=Dv.exec(l))?parseInt(i[1]+"ff",16)>>>0:ja&&ja[l]!==void 0?ja[l]:(i=jv.exec(l))?(ql(i[1])<<24|ql(i[2])<<16|ql(i[3])<<8|255)>>>0:(i=Nv.exec(l))?(ql(i[1])<<24|ql(i[2])<<16|ql(i[3])<<8|B0(i[4]))>>>0:(i=Lv.exec(l))?parseInt(i[1]+i[1]+i[2]+i[2]+i[3]+i[3]+"ff",16)>>>0:(i=Uv.exec(l))?parseInt(i[1],16)>>>0:(i=Ov.exec(l))?parseInt(i[1]+i[1]+i[2]+i[2]+i[3]+i[3]+i[4]+i[4],16)>>>0:(i=zv.exec(l))?(k0(H0(i[1]),Cr(i[2]),Cr(i[3]))|255)>>>0:(i=Rv.exec(l))?(k0(H0(i[1]),Cr(i[2]),Cr(i[3]))|B0(i[4]))>>>0:null}function ju(l,i,s){return s<0&&(s+=1),s>1&&(s-=1),s<1/6?l+(i-l)*6*s:s<1/2?i:s<2/3?l+(i-l)*(2/3-s)*6:l}function k0(l,i,s){const r=s<.5?s*(1+i):s+i-s*i,u=2*s-r,f=ju(u,r,l+1/3),h=ju(u,r,l),p=ju(u,r,l-1/3);return Math.round(f*255)<<24|Math.round(h*255)<<16|Math.round(p*255)<<8}function ql(l){const i=parseInt(l,10);return i<0?0:i>255?255:i}function H0(l){return(parseFloat(l)%360+360)%360/360}function B0(l){const i=parseFloat(l);return i<0?0:i>1?255:Math.round(i*255)}function Cr(l){const i=parseFloat(l);return i<0?0:i>100?1:i/100}function q0(l){let i=kv(l);if(i===null)return l;i=i||0;const s=(i&4278190080)>>>24,r=(i&16711680)>>>16,u=(i&65280)>>>8,f=(i&255)/255;return`rgba(${s}, ${r}, ${u}, ${f})`}var ls=(l,i,s)=>{if(se.fun(l))return l;if(se.arr(l))return ls({range:l,output:i,extrapolate:s});if(se.str(l.output[0]))return pf(l);const r=l,u=r.output,f=r.range||[0,1],h=r.extrapolateLeft||r.extrapolate||"extend",p=r.extrapolateRight||r.extrapolate||"extend",y=r.easing||(g=>g);return g=>{const w=Bv(g,f);return Hv(g,f[w],f[w+1],u[w],u[w+1],y,h,p,r.map)}};function Hv(l,i,s,r,u,f,h,p,y){let g=y?y(l):l;if(g<i){if(h==="identity")return g;h==="clamp"&&(g=i)}if(g>s){if(p==="identity")return g;p==="clamp"&&(g=s)}return r===u?r:i===s?l<=i?r:u:(i===-1/0?g=-g:s===1/0?g=g-i:g=(g-i)/(s-i),g=f(g),r===-1/0?g=-g:u===1/0?g=g+r:g=g*(u-r)+r,g)}function Bv(l,i){for(var s=1;s<i.length-1&&!(i[s]>=l);++s);return s-1}var qv={linear:l=>l},is=Symbol.for("FluidValue.get"),Kl=Symbol.for("FluidValue.observers"),hn=l=>!!(l&&l[is]),Gt=l=>l&&l[is]?l[is]():l,Y0=l=>l[Kl]||null;function Yv(l,i){l.eventObserved?l.eventObserved(i):l(i)}function ss(l,i){const s=l[Kl];s&&s.forEach(r=>{Yv(r,i)})}var Yg=class{constructor(l){if(!l&&!(l=this.get))throw Error("Unknown getter");Gv(this,l)}},Gv=(l,i)=>Gg(l,is,i);function Wl(l,i){if(l[is]){let s=l[Kl];s||Gg(l,Kl,s=new Set),s.has(i)||(s.add(i),l.observerAdded&&l.observerAdded(s.size,i))}return i}function rs(l,i){const s=l[Kl];if(s&&s.has(i)){const r=s.size-1;r?s.delete(i):l[Kl]=null,l.observerRemoved&&l.observerRemoved(r,i)}}var Gg=(l,i,s)=>Object.defineProperty(l,i,{value:s,writable:!0,configurable:!0}),Dr=/[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,Vv=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,G0=new RegExp(`(${Dr.source})(%|[a-z]+)`,"i"),Qv=/rgba\(([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+)\)/gi,Pr=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/,Vg=l=>{const[i,s]=Xv(l);if(!i||gf())return l;const r=window.getComputedStyle(document.documentElement).getPropertyValue(i);if(r)return r.trim();if(s&&s.startsWith("--")){const u=window.getComputedStyle(document.documentElement).getPropertyValue(s);return u||l}else{if(s&&Pr.test(s))return Vg(s);if(s)return s}return l},Xv=l=>{const i=Pr.exec(l);if(!i)return[,];const[,s,r]=i;return[s,r]},Nu,Iv=(l,i,s,r,u)=>`rgba(${Math.round(i)}, ${Math.round(s)}, ${Math.round(r)}, ${u})`,Qg=l=>{Nu||(Nu=ja?new RegExp(`(${Object.keys(ja).join("|")})(?!\\w)`,"g"):/^\b$/);const i=l.output.map(f=>Gt(f).replace(Pr,Vg).replace(Vv,q0).replace(Nu,q0)),s=i.map(f=>f.match(Dr).map(Number)),u=s[0].map((f,h)=>s.map(p=>{if(!(h in p))throw Error('The arity of each "output" value must be equal');return p[h]})).map(f=>ls({...l,output:f}));return f=>{const h=!G0.test(i[0])&&i.find(y=>G0.test(y))?.replace(Dr,"");let p=0;return i[0].replace(Dr,()=>`${u[p++](f)}${h||""}`).replace(Qv,Iv)}},vf="react-spring: ",Xg=l=>{const i=l;let s=!1;if(typeof i!="function")throw new TypeError(`${vf}once requires a function parameter`);return(...r)=>{s||(i(...r),s=!0)}},Zv=Xg(console.warn);function Kv(){Zv(`${vf}The "interpolate" function is deprecated in v9 (use "to" instead)`)}var Fv=Xg(console.warn);function Wv(){Fv(`${vf}Directly calling start instead of using the api object is deprecated in v9 (use ".start" instead), this will be removed in later 0.X.0 versions`)}function ec(l){return se.str(l)&&(l[0]=="#"||/\d/.test(l)||!gf()&&Pr.test(l)||l in(ja||{}))}var Wa=gf()?x.useEffect:x.useLayoutEffect,$v=()=>{const l=x.useRef(!1);return Wa(()=>(l.current=!0,()=>{l.current=!1}),[]),l};function xf(){const l=x.useState()[1],i=$v();return()=>{i.current&&l(Math.random())}}var bf=l=>x.useEffect(l,Jv),Jv=[];function Iu(l){const i=x.useRef(void 0);return x.useEffect(()=>{i.current=l}),i.current}var cs=Symbol.for("Animated:node"),Pv=l=>!!l&&l[cs]===l,Cn=l=>l&&l[cs],wf=(l,i)=>Ev(l,cs,i),tc=l=>l&&l[cs]&&l[cs].getPayload(),Ig=class{constructor(){wf(this,this)}getPayload(){return this.payload||[]}},nc=class Zg extends Ig{constructor(i){super(),this._value=i,this.done=!0,this.durationProgress=0,se.num(this._value)&&(this.lastPosition=this._value)}static create(i){return new Zg(i)}getPayload(){return[this]}getValue(){return this._value}setValue(i,s){return se.num(i)&&(this.lastPosition=i,s&&(i=Math.round(i/s)*s,this.done&&(this.lastPosition=i))),this._value===i?!1:(this._value=i,!0)}reset(){const{done:i}=this;this.done=!1,se.num(this._value)&&(this.elapsedTime=0,this.durationProgress=0,this.lastPosition=this._value,i&&(this.lastVelocity=null),this.v0=null)}},Gr=class Kg extends nc{constructor(i){super(0),this._string=null,this._toString=ls({output:[i,i]})}static create(i){return new Kg(i)}getValue(){const i=this._string;return i??(this._string=this._toString(this._value))}setValue(i){if(se.str(i)){if(i==this._string)return!1;this._string=i,this._value=1}else if(super.setValue(i))this._string=null;else return!1;return!0}reset(i){i&&(this._toString=ls({output:[this.getValue(),i]})),this._value=0,super.reset()}},Vr={dependencies:null},ac=class extends Ig{constructor(l){super(),this.source=l,this.setValue(l)}getValue(l){const i={};return Nn(this.source,(s,r)=>{Pv(s)?i[r]=s.getValue(l):hn(s)?i[r]=Gt(s):l||(i[r]=s)}),i}setValue(l){this.source=l,this.payload=this._makePayload(l)}reset(){this.payload&&Ne(this.payload,l=>l.reset())}_makePayload(l){if(l){const i=new Set;return Nn(l,this._addToPayload,i),Array.from(i)}}_addToPayload(l){Vr.dependencies&&hn(l)&&Vr.dependencies.add(l);const i=tc(l);i&&Ne(i,s=>this.add(s))}},ex=class Fg extends ac{constructor(i){super(i)}static create(i){return new Fg(i)}getValue(){return this.source.map(i=>i.getValue())}setValue(i){const s=this.getPayload();return i.length==s.length?s.map((r,u)=>r.setValue(i[u])).some(Boolean):(super.setValue(i.map(tx)),!0)}};function tx(l){return(ec(l)?Gr:nc).create(l)}function Zu(l){const i=Cn(l);return i?i.constructor:se.arr(l)?ex:ec(l)?Gr:nc}var V0=(l,i)=>{const s=!se.fun(l)||l.prototype&&l.prototype.isReactComponent;return x.forwardRef((r,u)=>{const f=x.useRef(null),h=s&&x.useCallback(R=>{f.current=lx(u,R)},[u]),[p,y]=ax(r,i),g=xf(),w=()=>{const R=f.current;if(s&&!R)return;(R?i.applyAnimatedValues(R,p.getValue(!0)):!1)===!1&&g()},b=new nx(w,y),_=x.useRef(void 0);Wa(()=>(_.current=b,Ne(y,R=>Wl(R,b)),()=>{_.current&&(Ne(_.current.deps,R=>rs(R,_.current)),Re.cancel(_.current.update))})),x.useEffect(w,[]),bf(()=>()=>{const R=_.current;Ne(R.deps,A=>rs(A,R))});const O=i.getComponentProps(p.getValue());return x.createElement(l,{...O,ref:h})})},nx=class{constructor(l,i){this.update=l,this.deps=i}eventObserved(l){l.type=="change"&&Re.write(this.update)}};function ax(l,i){const s=new Set;return Vr.dependencies=s,l.style&&(l={...l,style:i.createAnimatedStyle(l.style)}),l=new ac(l),Vr.dependencies=null,[l,s]}function lx(l,i){return l&&(se.fun(l)?l(i):l.current=i),i}var Q0=Symbol.for("AnimatedComponent"),ix=(l,{applyAnimatedValues:i=()=>!1,createAnimatedStyle:s=u=>new ac(u),getComponentProps:r=u=>u}={})=>{const u={applyAnimatedValues:i,createAnimatedStyle:s,getComponentProps:r},f=h=>{const p=X0(h)||"Anonymous";return se.str(h)?h=f[h]||(f[h]=V0(h,u)):h=h[Q0]||(h[Q0]=V0(h,u)),h.displayName=`Animated(${p})`,h};return Nn(l,(h,p)=>{se.arr(l)&&(p=X0(h)),f[p]=f(h)}),{animated:f}},X0=l=>se.str(l)?l:l&&se.str(l.displayName)?l.displayName:se.fun(l)&&l.name||null;function Vt(l,...i){return se.fun(l)?l(...i):l}var $i=(l,i)=>l===!0||!!(i&&l&&(se.fun(l)?l(i):Lt(l).includes(i))),Wg=(l,i)=>se.obj(l)?i&&l[i]:l,$g=(l,i)=>l.default===!0?l[i]:l.default?l.default[i]:void 0,sx=l=>l,lc=(l,i=sx)=>{let s=rx;l.default&&l.default!==!0&&(l=l.default,s=Object.keys(l));const r={};for(const u of s){const f=i(l[u],u);se.und(f)||(r[u]=f)}return r},rx=["config","onProps","onStart","onChange","onPause","onResume","onRest"],cx={config:1,from:1,to:1,ref:1,loop:1,reset:1,pause:1,cancel:1,reverse:1,immediate:1,default:1,delay:1,onProps:1,onStart:1,onChange:1,onPause:1,onResume:1,onRest:1,onResolve:1,items:1,trail:1,sort:1,expires:1,initial:1,enter:1,update:1,leave:1,children:1,onDestroyed:1,keys:1,callId:1,parentId:1};function ox(l){const i={};let s=0;if(Nn(l,(r,u)=>{cx[u]||(i[u]=r,s++)}),s)return i}function Sf(l){const i=ox(l);if(i){const s={to:i};return Nn(l,(r,u)=>u in i||(s[u]=r)),s}return{...l}}function os(l){return l=Gt(l),se.arr(l)?l.map(os):ec(l)?Sn.createStringInterpolator({range:[0,1],output:[l,l]})(1):l}function Jg(l){for(const i in l)return!0;return!1}function Ku(l){return se.fun(l)||se.arr(l)&&se.obj(l[0])}function Fu(l,i){l.ref?.delete(l),i?.delete(l)}function Pg(l,i){i&&l.ref!==i&&(l.ref?.delete(l),i.add(l),l.ref=i)}var ux={default:{tension:170,friction:26}},Wu={...ux.default,mass:1,damping:1,easing:qv.linear,clamp:!1},fx=class{constructor(){this.velocity=0,Object.assign(this,Wu)}};function dx(l,i,s){s&&(s={...s},I0(s,i),i={...s,...i}),I0(l,i),Object.assign(l,i);for(const h in Wu)l[h]==null&&(l[h]=Wu[h]);let{frequency:r,damping:u}=l;const{mass:f}=l;return se.und(r)||(r<.01&&(r=.01),u<0&&(u=0),l.tension=Math.pow(2*Math.PI/r,2)*f,l.friction=4*Math.PI*u*f/r),l}function I0(l,i){if(!se.und(i.decay))l.duration=void 0;else{const s=!se.und(i.tension)||!se.und(i.friction);(s||!se.und(i.frequency)||!se.und(i.damping)||!se.und(i.mass))&&(l.duration=void 0,l.decay=void 0),s&&(l.frequency=void 0)}}var Z0=[],hx=class{constructor(){this.changed=!1,this.values=Z0,this.toValues=null,this.fromValues=Z0,this.config=new fx,this.immediate=!1}};function ep(l,{key:i,props:s,defaultProps:r,state:u,actions:f}){return new Promise((h,p)=>{let y,g,w=$i(s.cancel??r?.cancel,i);if(w)O();else{se.und(s.pause)||(u.paused=$i(s.pause,i));let R=r?.pause;R!==!0&&(R=u.paused||$i(R,i)),y=Vt(s.delay||0,i),R?(u.resumeQueue.add(_),f.pause()):(f.resume(),_())}function b(){u.resumeQueue.add(_),u.timeouts.delete(g),g.cancel(),y=g.time-Re.now()}function _(){y>0&&!Sn.skipAnimation?(u.delayed=!0,g=Re.setTimeout(O,y),u.pauseQueue.add(b),u.timeouts.add(g)):O()}function O(){u.delayed&&(u.delayed=!1),u.pauseQueue.delete(b),u.timeouts.delete(g),l<=(u.cancelId||0)&&(w=!0);try{f.start({...s,callId:l,cancel:w},h)}catch(R){p(R)}}})}var Tf=(l,i)=>i.length==1?i[0]:i.some(s=>s.cancelled)?Xl(l.get()):i.every(s=>s.noop)?tp(l.get()):bn(l.get(),i.every(s=>s.finished)),tp=l=>({value:l,noop:!0,finished:!0,cancelled:!1}),bn=(l,i,s=!1)=>({value:l,finished:i,cancelled:s}),Xl=l=>({value:l,cancelled:!0,finished:!1});function np(l,i,s,r){const{callId:u,parentId:f,onRest:h}=i,{asyncTo:p,promise:y}=s;return!f&&l===p&&!i.reset?y:s.promise=(async()=>{s.asyncId=u,s.asyncTo=l;const g=lc(i,(T,N)=>N==="onRest"?void 0:T);let w,b;const _=new Promise((T,N)=>(w=T,b=N)),O=T=>{const N=u<=(s.cancelId||0)&&Xl(r)||u!==s.asyncId&&bn(r,!1);if(N)throw T.result=N,b(T),T},R=(T,N)=>{const q=new K0,Q=new F0;return(async()=>{if(Sn.skipAnimation)throw us(s),Q.result=bn(r,!1),b(Q),Q;O(q);const S=se.obj(T)?{...T}:{...N,to:T};S.parentId=u,Nn(g,(U,k)=>{se.und(S[k])&&(S[k]=U)});const j=await r.start(S);return O(q),s.paused&&await new Promise(U=>{s.resumeQueue.add(U)}),j})()};let A;if(Sn.skipAnimation)return us(s),bn(r,!1);try{let T;se.arr(l)?T=(async N=>{for(const q of N)await R(q)})(l):T=Promise.resolve(l(R,r.stop.bind(r))),await Promise.all([T.then(w),_]),A=bn(r.get(),!0,!1)}catch(T){if(T instanceof K0)A=T.result;else if(T instanceof F0)A=T.result;else throw T}finally{u==s.asyncId&&(s.asyncId=f,s.asyncTo=f?p:void 0,s.promise=f?y:void 0)}return se.fun(h)&&Re.batchedUpdates(()=>{h(A,r,r.item)}),A})()}function us(l,i){Fi(l.timeouts,s=>s.cancel()),l.pauseQueue.clear(),l.resumeQueue.clear(),l.asyncId=l.asyncTo=l.promise=void 0,i&&(l.cancelId=i)}var K0=class extends Error{constructor(){super("An async animation has been interrupted. You see this error because you forgot to use `await` or `.catch(...)` on its returned promise.")}},F0=class extends Error{constructor(){super("SkipAnimationSignal")}},$u=l=>l instanceof Ef,mx=1,Ef=class extends Yg{constructor(){super(...arguments),this.id=mx++,this._priority=0}get priority(){return this._priority}set priority(l){this._priority!=l&&(this._priority=l,this._onPriorityChange(l))}get(){const l=Cn(this);return l&&l.getValue()}to(...l){return Sn.to(this,l)}interpolate(...l){return Kv(),Sn.to(this,l)}toJSON(){return this.get()}observerAdded(l){l==1&&this._attach()}observerRemoved(l){l==0&&this._detach()}_attach(){}_detach(){}_onChange(l,i=!1){ss(this,{type:"change",parent:this,value:l,idle:i})}_onPriorityChange(l){this.idle||$r.sort(this),ss(this,{type:"priority",parent:this,priority:l})}},$a=Symbol.for("SpringPhase"),ap=1,Ju=2,Pu=4,zu=l=>(l[$a]&ap)>0,Ta=l=>(l[$a]&Ju)>0,Vi=l=>(l[$a]&Pu)>0,W0=(l,i)=>i?l[$a]|=Ju|ap:l[$a]&=~Ju,$0=(l,i)=>i?l[$a]|=Pu:l[$a]&=~Pu,gx=class extends Ef{constructor(l,i){if(super(),this.animation=new hx,this.defaultProps={},this._state={paused:!1,delayed:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._pendingCalls=new Set,this._lastCallId=0,this._lastToId=0,this._memoizedDuration=0,!se.und(l)||!se.und(i)){const s=se.obj(l)?{...l}:{...i,from:l};se.und(s.default)&&(s.default=!0),this.start(s)}}get idle(){return!(Ta(this)||this._state.asyncTo)||Vi(this)}get goal(){return Gt(this.animation.to)}get velocity(){const l=Cn(this);return l instanceof nc?l.lastVelocity||0:l.getPayload().map(i=>i.lastVelocity||0)}get hasAnimated(){return zu(this)}get isAnimating(){return Ta(this)}get isPaused(){return Vi(this)}get isDelayed(){return this._state.delayed}advance(l){let i=!0,s=!1;const r=this.animation;let{toValues:u}=r;const{config:f}=r,h=tc(r.to);!h&&hn(r.to)&&(u=Lt(Gt(r.to))),r.values.forEach((g,w)=>{if(g.done)return;const b=g.constructor==Gr?1:h?h[w].lastPosition:u[w];let _=r.immediate,O=b;if(!_){if(O=g.lastPosition,f.tension<=0){g.done=!0;return}let R=g.elapsedTime+=l;const A=r.fromValues[w],T=g.v0!=null?g.v0:g.v0=se.arr(f.velocity)?f.velocity[w]:f.velocity;let N;const q=f.precision||(A==b?.005:Math.min(1,Math.abs(b-A)*.001));if(se.und(f.duration))if(f.decay){const Q=f.decay===!0?.998:f.decay,S=Math.exp(-(1-Q)*R);O=A+T/(1-Q)*(1-S),_=Math.abs(g.lastPosition-O)<=q,N=T*S}else{N=g.lastVelocity==null?T:g.lastVelocity;const Q=f.restVelocity||q/10,S=f.clamp?0:f.bounce,j=!se.und(S),U=A==b?g.v0>0:A<b;let k,J=!1;const Y=1,P=Math.ceil(l/Y);for(let F=0;F<P&&(k=Math.abs(N)>Q,!(!k&&(_=Math.abs(b-O)<=q,_)));++F){j&&(J=O==b||O>b==U,J&&(N=-N*S,O=b));const ee=-f.tension*1e-6*(O-b),oe=-f.friction*.001*N,ne=(ee+oe)/f.mass;N=N+ne*Y,O=O+N*Y}}else{let Q=1;f.duration>0&&(this._memoizedDuration!==f.duration&&(this._memoizedDuration=f.duration,g.durationProgress>0&&(g.elapsedTime=f.duration*g.durationProgress,R=g.elapsedTime+=l)),Q=(f.progress||0)+R/this._memoizedDuration,Q=Q>1?1:Q<0?0:Q,g.durationProgress=Q),O=A+f.easing(Q)*(b-A),N=(O-g.lastPosition)/l,_=Q==1}g.lastVelocity=N,Number.isNaN(O)&&(console.warn("Got NaN while animating:",this),_=!0)}h&&!h[w].done&&(_=!1),_?g.done=!0:i=!1,g.setValue(O,f.round)&&(s=!0)});const p=Cn(this),y=p.getValue();if(i){const g=Gt(r.to);(y!==g||s)&&!f.decay?(p.setValue(g),this._onChange(g)):s&&f.decay&&this._onChange(y),this._stop()}else s&&this._onChange(y)}set(l){return Re.batchedUpdates(()=>{this._stop(),this._focus(l),this._set(l)}),this}pause(){this._update({pause:!0})}resume(){this._update({pause:!1})}finish(){if(Ta(this)){const{to:l,config:i}=this.animation;Re.batchedUpdates(()=>{this._onStart(),i.decay||this._set(l,!1),this._stop()})}return this}update(l){return(this.queue||(this.queue=[])).push(l),this}start(l,i){let s;return se.und(l)?(s=this.queue||[],this.queue=[]):s=[se.obj(l)?l:{...i,to:l}],Promise.all(s.map(r=>this._update(r))).then(r=>Tf(this,r))}stop(l){const{to:i}=this.animation;return this._focus(this.get()),us(this._state,l&&this._lastCallId),Re.batchedUpdates(()=>this._stop(i,l)),this}reset(){this._update({reset:!0})}eventObserved(l){l.type=="change"?this._start():l.type=="priority"&&(this.priority=l.priority+1)}_prepareNode(l){const i=this.key||"";let{to:s,from:r}=l;s=se.obj(s)?s[i]:s,(s==null||Ku(s))&&(s=void 0),r=se.obj(r)?r[i]:r,r==null&&(r=void 0);const u={to:s,from:r};return zu(this)||(l.reverse&&([s,r]=[r,s]),r=Gt(r),se.und(r)?Cn(this)||this._set(s):this._set(r)),u}_update({...l},i){const{key:s,defaultProps:r}=this;l.default&&Object.assign(r,lc(l,(h,p)=>/^on/.test(p)?Wg(h,s):h)),P0(this,l,"onProps"),Xi(this,"onProps",l,this);const u=this._prepareNode(l);if(Object.isFrozen(this))throw Error("Cannot animate a `SpringValue` object that is frozen. Did you forget to pass your component to `animated(...)` before animating its props?");const f=this._state;return ep(++this._lastCallId,{key:s,props:l,defaultProps:r,state:f,actions:{pause:()=>{Vi(this)||($0(this,!0),Ii(f.pauseQueue),Xi(this,"onPause",bn(this,Qi(this,this.animation.to)),this))},resume:()=>{Vi(this)&&($0(this,!1),Ta(this)&&this._resume(),Ii(f.resumeQueue),Xi(this,"onResume",bn(this,Qi(this,this.animation.to)),this))},start:this._merge.bind(this,u)}}).then(h=>{if(l.loop&&h.finished&&!(i&&h.noop)){const p=lp(l);if(p)return this._update(p,!0)}return h})}_merge(l,i,s){if(i.cancel)return this.stop(!0),s(Xl(this));const r=!se.und(l.to),u=!se.und(l.from);if(r||u)if(i.callId>this._lastToId)this._lastToId=i.callId;else return s(Xl(this));const{key:f,defaultProps:h,animation:p}=this,{to:y,from:g}=p;let{to:w=y,from:b=g}=l;u&&!r&&(!i.default||se.und(w))&&(w=b),i.reverse&&([w,b]=[b,w]);const _=!Fn(b,g);_&&(p.from=b),b=Gt(b);const O=!Fn(w,y);O&&this._focus(w);const R=Ku(i.to),{config:A}=p,{decay:T,velocity:N}=A;(r||u)&&(A.velocity=0),i.config&&!R&&dx(A,Vt(i.config,f),i.config!==h.config?Vt(h.config,f):void 0);let q=Cn(this);if(!q||se.und(w))return s(bn(this,!0));const Q=se.und(i.reset)?u&&!i.default:!se.und(b)&&$i(i.reset,f),S=Q?b:this.get(),j=os(w),U=se.num(j)||se.arr(j)||ec(j),k=!R&&(!U||$i(h.immediate||i.immediate,f));if(O){const F=Zu(w);if(F!==q.constructor)if(k)q=this._set(j);else throw Error(`Cannot animate between ${q.constructor.name} and ${F.name}, as the "to" prop suggests`)}const J=q.constructor;let Y=hn(w),P=!1;if(!Y){const F=Q||!zu(this)&&_;(O||F)&&(P=Fn(os(S),j),Y=!P),(!Fn(p.immediate,k)&&!k||!Fn(A.decay,T)||!Fn(A.velocity,N))&&(Y=!0)}if(P&&Ta(this)&&(p.changed&&!Q?Y=!0:Y||this._stop(y)),!R&&((Y||hn(y))&&(p.values=q.getPayload(),p.toValues=hn(w)?null:J==Gr?[1]:Lt(j)),p.immediate!=k&&(p.immediate=k,!k&&!Q&&this._set(y)),Y)){const{onRest:F}=p;Ne(yx,oe=>P0(this,i,oe));const ee=bn(this,Qi(this,y));Ii(this._pendingCalls,ee),this._pendingCalls.add(s),p.changed&&Re.batchedUpdates(()=>{p.changed=!Q,F?.(ee,this),Q?Vt(h.onRest,ee):p.onStart?.(ee,this)})}Q&&this._set(S),R?s(np(i.to,i,this._state,this)):Y?this._start():Ta(this)&&!O?this._pendingCalls.add(s):s(tp(S))}_focus(l){const i=this.animation;l!==i.to&&(Y0(this)&&this._detach(),i.to=l,Y0(this)&&this._attach())}_attach(){let l=0;const{to:i}=this.animation;hn(i)&&(Wl(i,this),$u(i)&&(l=i.priority+1)),this.priority=l}_detach(){const{to:l}=this.animation;hn(l)&&rs(l,this)}_set(l,i=!0){const s=Gt(l);if(!se.und(s)){const r=Cn(this);if(!r||!Fn(s,r.getValue())){const u=Zu(s);!r||r.constructor!=u?wf(this,u.create(s)):r.setValue(s),r&&Re.batchedUpdates(()=>{this._onChange(s,i)})}}return Cn(this)}_onStart(){const l=this.animation;l.changed||(l.changed=!0,Xi(this,"onStart",bn(this,Qi(this,l.to)),this))}_onChange(l,i){i||(this._onStart(),Vt(this.animation.onChange,l,this)),Vt(this.defaultProps.onChange,l,this),super._onChange(l,i)}_start(){const l=this.animation;Cn(this).reset(Gt(l.to)),l.immediate||(l.fromValues=l.values.map(i=>i.lastPosition)),Ta(this)||(W0(this,!0),Vi(this)||this._resume())}_resume(){Sn.skipAnimation?this.finish():$r.start(this)}_stop(l,i){if(Ta(this)){W0(this,!1);const s=this.animation;Ne(s.values,u=>{u.done=!0}),s.toValues&&(s.onChange=s.onPause=s.onResume=void 0),ss(this,{type:"idle",parent:this});const r=i?Xl(this.get()):bn(this.get(),Qi(this,l??s.to));Ii(this._pendingCalls,r),s.changed&&(s.changed=!1,Xi(this,"onRest",r,this))}}};function Qi(l,i){const s=os(i),r=os(l.get());return Fn(r,s)}function lp(l,i=l.loop,s=l.to){const r=Vt(i);if(r){const u=r!==!0&&Sf(r),f=(u||l).reverse,h=!u||u.reset;return fs({...l,loop:i,default:!1,pause:void 0,to:!f||Ku(s)?s:void 0,from:h?l.from:void 0,reset:h,...u})}}function fs(l){const{to:i,from:s}=l=Sf(l),r=new Set;return se.obj(i)&&J0(i,r),se.obj(s)&&J0(s,r),l.keys=r.size?Array.from(r):null,l}function px(l){const i=fs(l);return se.und(i.default)&&(i.default=lc(i)),i}function J0(l,i){Nn(l,(s,r)=>s!=null&&i.add(r))}var yx=["onStart","onRest","onChange","onPause","onResume"];function P0(l,i,s){l.animation[s]=i[s]!==$g(i,s)?Wg(i[s],l.key):void 0}function Xi(l,i,...s){l.animation[i]?.(...s),l.defaultProps[i]?.(...s)}var vx=["onStart","onChange","onRest"],xx=1,ip=class{constructor(l,i){this.id=xx++,this.springs={},this.queue=[],this._lastAsyncId=0,this._active=new Set,this._changed=new Set,this._started=!1,this._state={paused:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._events={onStart:new Map,onChange:new Map,onRest:new Map},this._onFrame=this._onFrame.bind(this),i&&(this._flush=i),l&&this.start({default:!0,...l})}get idle(){return!this._state.asyncTo&&Object.values(this.springs).every(l=>l.idle&&!l.isDelayed&&!l.isPaused)}get item(){return this._item}set item(l){this._item=l}get(){const l={};return this.each((i,s)=>l[s]=i.get()),l}set(l){for(const i in l){const s=l[i];se.und(s)||this.springs[i].set(s)}}update(l){return l&&this.queue.push(fs(l)),this}start(l){let{queue:i}=this;return l?i=Lt(l).map(fs):this.queue=[],this._flush?this._flush(this,i):(up(this,i),ef(this,i))}stop(l,i){if(l!==!!l&&(i=l),i){const s=this.springs;Ne(Lt(i),r=>s[r].stop(!!l))}else us(this._state,this._lastAsyncId),this.each(s=>s.stop(!!l));return this}pause(l){if(se.und(l))this.start({pause:!0});else{const i=this.springs;Ne(Lt(l),s=>i[s].pause())}return this}resume(l){if(se.und(l))this.start({pause:!1});else{const i=this.springs;Ne(Lt(l),s=>i[s].resume())}return this}each(l){Nn(this.springs,l)}_onFrame(){const{onStart:l,onChange:i,onRest:s}=this._events,r=this._active.size>0,u=this._changed.size>0;(r&&!this._started||u&&!this._started)&&(this._started=!0,Fi(l,([p,y])=>{y.value=this.get(),p(y,this,this._item)}));const f=!r&&this._started,h=u||f&&s.size?this.get():null;u&&i.size&&Fi(i,([p,y])=>{y.value=h,p(y,this,this._item)}),f&&(this._started=!1,Fi(s,([p,y])=>{y.value=h,p(y,this,this._item)}))}eventObserved(l){if(l.type=="change")this._changed.add(l.parent),l.idle||this._active.add(l.parent);else if(l.type=="idle")this._active.delete(l.parent);else return;Re.onFrame(this._onFrame)}};function ef(l,i){return Promise.all(i.map(s=>sp(l,s))).then(s=>Tf(l,s))}async function sp(l,i,s){const{keys:r,to:u,from:f,loop:h,onRest:p,onResolve:y}=i,g=se.obj(i.default)&&i.default;h&&(i.loop=!1),u===!1&&(i.to=null),f===!1&&(i.from=null);const w=se.arr(u)||se.fun(u)?u:void 0;w?(i.to=void 0,i.onRest=void 0,g&&(g.onRest=void 0)):Ne(vx,A=>{const T=i[A];if(se.fun(T)){const N=l._events[A];i[A]=({finished:q,cancelled:Q})=>{const S=N.get(T);S?(q||(S.finished=!1),Q&&(S.cancelled=!0)):N.set(T,{value:null,finished:q||!1,cancelled:Q||!1})},g&&(g[A]=i[A])}});const b=l._state;i.pause===!b.paused?(b.paused=i.pause,Ii(i.pause?b.pauseQueue:b.resumeQueue)):b.paused&&(i.pause=!0);const _=(r||Object.keys(l.springs)).map(A=>l.springs[A].start(i)),O=i.cancel===!0||$g(i,"cancel")===!0;(w||O&&b.asyncId)&&_.push(ep(++l._lastAsyncId,{props:i,state:b,actions:{pause:Qu,resume:Qu,start(A,T){O?(us(b,l._lastAsyncId),T(Xl(l))):(A.onRest=p,T(np(w,A,b,l)))}}})),b.paused&&await new Promise(A=>{b.resumeQueue.add(A)});const R=Tf(l,await Promise.all(_));if(h&&R.finished&&!(s&&R.noop)){const A=lp(i,h,u);if(A)return up(l,[A]),sp(l,A,!0)}return y&&Re.batchedUpdates(()=>y(R,l,l.item)),R}function tf(l,i){const s={...l.springs};return i&&Ne(Lt(i),r=>{se.und(r.keys)&&(r=fs(r)),se.obj(r.to)||(r={...r,to:void 0}),op(s,r,u=>cp(u))}),rp(l,s),s}function rp(l,i){Nn(i,(s,r)=>{l.springs[r]||(l.springs[r]=s,Wl(s,l))})}function cp(l,i){const s=new gx;return s.key=l,i&&Wl(s,i),s}function op(l,i,s){i.keys&&Ne(i.keys,r=>{(l[r]||(l[r]=s(r)))._prepareNode(i)})}function up(l,i){Ne(i,s=>{op(l.springs,s,r=>cp(r,l))})}var fp=x.createContext({pause:!1,immediate:!1}),dp=()=>{const l=[],i=function(r){Wv();const u=[];return Ne(l,(f,h)=>{if(se.und(r))u.push(f.start());else{const p=s(r,f,h);p&&u.push(f.start(p))}}),u};i.current=l,i.add=function(r){l.includes(r)||l.push(r)},i.delete=function(r){const u=l.indexOf(r);~u&&l.splice(u,1)},i.pause=function(){return Ne(l,r=>r.pause(...arguments)),this},i.resume=function(){return Ne(l,r=>r.resume(...arguments)),this},i.set=function(r){Ne(l,(u,f)=>{const h=se.fun(r)?r(f,u):r;h&&u.set(h)})},i.start=function(r){const u=[];return Ne(l,(f,h)=>{if(se.und(r))u.push(f.start());else{const p=this._getProps(r,f,h);p&&u.push(f.start(p))}}),u},i.stop=function(){return Ne(l,r=>r.stop(...arguments)),this},i.update=function(r){return Ne(l,(u,f)=>u.update(this._getProps(r,u,f))),this};const s=function(r,u,f){return se.fun(r)?r(f,u):r};return i._getProps=s,i};function bx(l,i,s){const r=se.fun(i)&&i;r&&!s&&(s=[]);const u=x.useMemo(()=>r||arguments.length==3?dp():void 0,[]),f=x.useRef(0),h=xf(),p=x.useMemo(()=>({ctrls:[],queue:[],flush(N,q){const Q=tf(N,q);return f.current>0&&!p.queue.length&&!Object.keys(Q).some(j=>!N.springs[j])?ef(N,q):new Promise(j=>{rp(N,Q),p.queue.push(()=>{j(ef(N,q))}),h()})}}),[]),y=x.useRef([...p.ctrls]),g=x.useRef([]),w=Iu(l)||0;x.useMemo(()=>{Ne(y.current.slice(l,w),N=>{Fu(N,u),N.stop(!0)}),y.current.length=l,b(w,l)},[l]),x.useMemo(()=>{b(0,Math.min(w,l))},s);function b(N,q){for(let Q=N;Q<q;Q++){const S=y.current[Q]||(y.current[Q]=new ip(null,p.flush)),j=r?r(Q,S):i[Q];j&&(g.current[Q]=px(j))}}const _=y.current.map((N,q)=>tf(N,g.current[q])),O=x.useContext(fp),R=Iu(O),A=O!==R&&Jg(O);Wa(()=>{f.current++,p.ctrls=y.current;const{queue:N}=p;N.length&&(p.queue=[],Ne(N,q=>q())),Ne(y.current,(q,Q)=>{u?.add(q),A&&q.start({default:O});const S=g.current[Q];S&&(Pg(q,S.ref),q.ref?q.queue.push(S):q.start(S))})}),bf(()=>()=>{Ne(p.ctrls,N=>N.stop(!0))});const T=_.map(N=>({...N}));return u?[T,u]:T}function Il(l,i){const s=se.fun(l),[[r],u]=bx(1,s?l:[l],s?[]:i);return s||arguments.length==2?[r,u]:r}function Qr(l,i,s){const r=se.fun(i)&&i,{reset:u,sort:f,trail:h=0,expires:p=!0,exitBeforeEnter:y=!1,onDestroyed:g,ref:w,config:b}=r?r():i,_=x.useMemo(()=>r||arguments.length==3?dp():void 0,[]),O=Lt(l),R=[],A=x.useRef(null),T=u?null:A.current;Wa(()=>{A.current=R}),bf(()=>(Ne(R,ne=>{_?.add(ne.ctrl),ne.ctrl.ref=_}),()=>{Ne(A.current,ne=>{ne.expired&&clearTimeout(ne.expirationId),Fu(ne.ctrl,_),ne.ctrl.stop(!0)})}));const N=Sx(O,r?r():i,T),q=u&&A.current||[];Wa(()=>Ne(q,({ctrl:ne,item:re,key:z})=>{Fu(ne,_),Vt(g,re,z)}));const Q=[];if(T&&Ne(T,(ne,re)=>{ne.expired?(clearTimeout(ne.expirationId),q.push(ne)):(re=Q[re]=N.indexOf(ne.key),~re&&(R[re]=ne))}),Ne(O,(ne,re)=>{R[re]||(R[re]={key:N[re],item:ne,phase:"mount",ctrl:new ip},R[re].ctrl.item=ne)}),Q.length){let ne=-1;const{leave:re}=r?r():i;Ne(Q,(z,I)=>{const Z=T[I];~z?(ne=R.indexOf(Z),R[ne]={...Z,item:O[z]}):re&&R.splice(++ne,0,Z)})}se.fun(f)&&R.sort((ne,re)=>f(ne.item,re.item));let S=-h;const j=xf(),U=lc(i),k=new Map,J=x.useRef(new Map),Y=x.useRef(!1);Ne(R,(ne,re)=>{const z=ne.key,I=ne.phase,Z=r?r():i;let fe,le;const E=Vt(Z.delay||0,z);if(I=="mount")fe=Z.enter,le="enter";else{const W=N.indexOf(z)<0;if(I!="leave")if(W)fe=Z.leave,le="leave";else if(fe=Z.update)le="update";else return;else if(!W)fe=Z.enter,le="enter";else return}if(fe=Vt(fe,ne.item,re),fe=se.obj(fe)?Sf(fe):{to:fe},!fe.config){const W=b||U.config;fe.config=Vt(W,ne.item,re,le)}S+=h;const D={...U,delay:E+S,ref:w,immediate:Z.immediate,reset:!1,...fe};if(le=="enter"&&se.und(D.from)){const W=r?r():i,he=se.und(W.initial)||T?W.from:W.initial;D.from=Vt(he,ne.item,re)}const{onResolve:ie}=D;D.onResolve=W=>{Vt(ie,W);const he=A.current,ae=he.find(ue=>ue.key===z);if(ae&&!(W.cancelled&&ae.phase!="update")&&ae.ctrl.idle){const ue=he.every(me=>me.ctrl.idle);if(ae.phase=="leave"){const me=Vt(p,ae.item);if(me!==!1){const Oe=me===!0?0:me;if(ae.expired=!0,!ue&&Oe>0){Oe<=2147483647&&(ae.expirationId=setTimeout(j,Oe));return}}}ue&&he.some(me=>me.expired)&&(J.current.delete(ae),y&&(Y.current=!0),j())}};const ce=tf(ne.ctrl,D);le==="leave"&&y?J.current.set(ne,{phase:le,springs:ce,payload:D}):k.set(ne,{phase:le,springs:ce,payload:D})});const P=x.useContext(fp),F=Iu(P),ee=P!==F&&Jg(P);Wa(()=>{ee&&Ne(R,ne=>{ne.ctrl.start({default:P})})},[P]),Ne(k,(ne,re)=>{if(J.current.size){const z=R.findIndex(I=>I.key===re.key);R.splice(z,1)}}),Wa(()=>{Ne(J.current.size?J.current:k,({phase:ne,payload:re},z)=>{const{ctrl:I}=z;z.phase=ne,_?.add(I),ee&&ne=="enter"&&I.start({default:P}),re&&(Pg(I,re.ref),(I.ref||_)&&!Y.current?I.update(re):(I.start(re),Y.current&&(Y.current=!1)))})},u?void 0:s);const oe=ne=>x.createElement(x.Fragment,null,R.map((re,z)=>{const{springs:I}=k.get(re)||re.ctrl,Z=ne({...I},re.item,re,z),fe=se.str(re.key)||se.num(re.key)?re.key:re.ctrl.id,le=x.version<"19.0.0",E=Z?.props??{},D=le?Z?.ref:E?.ref;return Z&&Z.type?x.createElement(Z.type,{...E,key:fe,ref:D}):Z}));return _?[oe,_]:oe}var wx=1;function Sx(l,{key:i,keys:s=i},r){if(s===null){const u=new Set;return l.map(f=>{const h=r&&r.find(p=>p.item===f&&p.phase!=="leave"&&!u.has(p));return h?(u.add(h),h.key):wx++})}return se.und(s)?l:se.fun(s)?l.map(s):Lt(s)}var hp=class extends Ef{constructor(l,i){super(),this.source=l,this.idle=!0,this._active=new Set,this.calc=ls(...i);const s=this._get(),r=Zu(s);wf(this,r.create(s))}advance(l){const i=this._get(),s=this.get();Fn(i,s)||(Cn(this).setValue(i),this._onChange(i,this.idle)),!this.idle&&eg(this._active)&&Ru(this)}_get(){const l=se.arr(this.source)?this.source.map(Gt):Lt(Gt(this.source));return this.calc(...l)}_start(){this.idle&&!eg(this._active)&&(this.idle=!1,Ne(tc(this),l=>{l.done=!1}),Sn.skipAnimation?(Re.batchedUpdates(()=>this.advance()),Ru(this)):$r.start(this))}_attach(){let l=1;Ne(Lt(this.source),i=>{hn(i)&&Wl(i,this),$u(i)&&(i.idle||this._active.add(i),l=Math.max(l,i.priority+1))}),this.priority=l,this._start()}_detach(){Ne(Lt(this.source),l=>{hn(l)&&rs(l,this)}),this._active.clear(),Ru(this)}eventObserved(l){l.type=="change"?l.idle?this.advance():(this._active.add(l.parent),this._start()):l.type=="idle"?this._active.delete(l.parent):l.type=="priority"&&(this.priority=Lt(this.source).reduce((i,s)=>Math.max(i,($u(s)?s.priority:0)+1),0))}};function Tx(l){return l.idle!==!1}function eg(l){return!l.size||Array.from(l).every(Tx)}function Ru(l){l.idle||(l.idle=!0,Ne(tc(l),i=>{i.done=!0}),ss(l,{type:"idle",parent:l}))}var Ex=(l,...i)=>new hp(l,i);Sn.assign({createStringInterpolator:Qg,to:(l,i)=>new hp(l,i)});var Ja=Ag(),mp=/^--/;function Ax(l,i){return i==null||typeof i=="boolean"||i===""?"":typeof i=="number"&&i!==0&&!mp.test(l)&&!(Ji.hasOwnProperty(l)&&Ji[l])?i+"px":(""+i).trim()}var tg={};function Mx(l,i){if(!l.nodeType||!l.setAttribute)return!1;const s=l.nodeName==="filter"||l.parentNode&&l.parentNode.nodeName==="filter",{className:r,style:u,children:f,scrollTop:h,scrollLeft:p,viewBox:y,...g}=i,w=Object.values(g),b=Object.keys(g).map(_=>s||l.hasAttribute(_)?_:tg[_]||(tg[_]=_.replace(/([A-Z])/g,O=>"-"+O.toLowerCase())));f!==void 0&&(l.textContent=f);for(const _ in u)if(u.hasOwnProperty(_)){const O=Ax(_,u[_]);mp.test(_)?l.style.setProperty(_,O):l.style[_]=O}b.forEach((_,O)=>{l.setAttribute(_,w[O])}),r!==void 0&&(l.className=r),h!==void 0&&(l.scrollTop=h),p!==void 0&&(l.scrollLeft=p),y!==void 0&&l.setAttribute("viewBox",y)}var Ji={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},_x=(l,i)=>l+i.charAt(0).toUpperCase()+i.substring(1),Cx=["Webkit","Ms","Moz","O"];Ji=Object.keys(Ji).reduce((l,i)=>(Cx.forEach(s=>l[_x(s,i)]=l[i]),l),Ji);var jx=/^(matrix|translate|scale|rotate|skew)/,Nx=/^(translate)/,zx=/^(rotate|skew)/,Lu=(l,i)=>se.num(l)&&l!==0?l+i:l,Ur=(l,i)=>se.arr(l)?l.every(s=>Ur(s,i)):se.num(l)?l===i:parseFloat(l)===i,Rx=class extends ac{constructor({x:l,y:i,z:s,...r}){const u=[],f=[];(l||i||s)&&(u.push([l||0,i||0,s||0]),f.push(h=>[`translate3d(${h.map(p=>Lu(p,"px")).join(",")})`,Ur(h,0)])),Nn(r,(h,p)=>{if(p==="transform")u.push([h||""]),f.push(y=>[y,y===""]);else if(jx.test(p)){if(delete r[p],se.und(h))return;const y=Nx.test(p)?"px":zx.test(p)?"deg":"";u.push(Lt(h)),f.push(p==="rotate3d"?([g,w,b,_])=>[`rotate3d(${g},${w},${b},${Lu(_,y)})`,Ur(_,0)]:g=>[`${p}(${g.map(w=>Lu(w,y)).join(",")})`,Ur(g,p.startsWith("scale")?1:0)])}}),u.length&&(r.transform=new Lx(u,f)),super(r)}},Lx=class extends Yg{constructor(l,i){super(),this.inputs=l,this.transforms=i,this._value=null}get(){return this._value||(this._value=this._get())}_get(){let l="",i=!0;return Ne(this.inputs,(s,r)=>{const u=Gt(s[0]),[f,h]=this.transforms[r](se.arr(u)?u:s.map(Gt));l+=" "+f,i=i&&h}),i?"none":l}observerAdded(l){l==1&&Ne(this.inputs,i=>Ne(i,s=>hn(s)&&Wl(s,this)))}observerRemoved(l){l==0&&Ne(this.inputs,i=>Ne(i,s=>hn(s)&&rs(s,this)))}eventObserved(l){l.type=="change"&&(this._value=null),ss(this,l)}},Ox=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"];Sn.assign({batchedUpdates:Ja.unstable_batchedUpdates,createStringInterpolator:Qg,colors:Cv});var Dx=ix(Ox,{applyAnimatedValues:Mx,createAnimatedStyle:l=>new Rx(l),getComponentProps:({scrollTop:l,scrollLeft:i,...s})=>s}),$n=Dx.animated;const Ux=["by:","offset:"],kx=["","","","","","",""],Pi=l=>{if(!l)return!1;if(l.trim().startsWith("{")&&l.trim().endsWith("}"))return!0;const i=l.replace(/\s+/g,"").toLowerCase();return Ux.some(s=>i.includes(s.toLowerCase()))?!0:kx.some(s=>i.includes(s))},es="...",Hx=10,Bx=3,qx=4,gp=10,ng=l=>{const i=l.match(/(\d{2}):(\d{2})\.(\d{2,3})/);if(!i)return 0;const s=parseInt(i[1],10),r=parseInt(i[2],10),u=i[3],f=parseInt(u,10),h=u.length===3?f/1e3:f/100;return s*60+r+h},Yx=l=>l?!/[\p{L}\p{N}\p{Script=Han}\p{Script=Hiragana}\p{Script=Katakana}]/u.test(l):!0,pp=(l,i,s)=>({text:l,startTime:i,endTime:s}),Aa=(l,i,s)=>({time:l,text:i,...s?.words?.length&&{words:s.words},...s?.translation&&{translation:s.translation},...s?.isPreciseTiming&&{isPreciseTiming:!0},...s?.isInterlude&&{isInterlude:!0}}),Wn=l=>l?l.toLowerCase().replace(/['`]/g,"").replace(/\s+/g,"").replace(/[.,!?:;""\[\]()\-_/\\]/g,""):"",yp=l=>{if(l.length<=1)return l;const i=[];let s=null;for(const r of l){if(Yx(r.text)){if(i.length>0){const f=i[i.length-1];f.text+=r.text,f.endTime=r.endTime}else s?s={...s,text:`${s.text}${r.text}`,endTime:r.endTime}:s={...r};continue}let u={...r};s&&(u={...u,text:`${s.text}${u.text}`,startTime:Math.min(s.startTime,u.startTime)},s=null),i.push(u)}return s&&i.push(s),i},vp=(l,i=1/0)=>{if(l.words?.length){const s=l.words[l.words.length-1];if(s.endTime>l.time)return Math.min(s.endTime,i)}return Math.min(l.time+qx,i)},nf=l=>l.map((i,s)=>{const r=l.slice(s+1).find(kr),u=r?.time??l[s+1]?.time??i.time+5;let f=vp(i,u);return Xr(i)&&(r&&r.time>i.time?f=r.time:r||(f=Math.max(f,i.time+gp))),f<=i.time&&(f=i.time+3),{...i,_endTime:f}});function Xr(l){return l?!!(l.isInterlude||l.text?.trim()===es):!1}function kr(l){return Xr(l)?!1:!!l.text?.trim()}const ag=l=>Aa(Math.max(l,0),es,{isInterlude:!0}),xp=l=>{if(l.length===0)return l;const i=[],s=l.find(kr),r=l.some(u=>Xr(u)&&s&&u.time>=0&&u.time<s.time);s&&s.time>Bx&&!r&&i.push(ag(0));for(let u=0;u<l.length;u++){const f=l[u];if(i.push(f),!kr(f))continue;let h,p=!1;for(let w=u+1;w<l.length;w++){if(kr(l[w])){h=l[w];break}Xr(l[w])&&(p=!0)}if(!h||p)continue;const y=vp(f,h.time),g=h.time-y;g>Hx&&g>=gp&&i.push(ag(y))}return i},Gx=l=>{const i=l.trim();if(!i)return[];const s=[];let r=0;const u=/\[(\d{2}):(\d{2})\.(\d{2,3})\]/g;let f;for(;(f=u.exec(i))!==null;){const w=`${f[1]}:${f[2]}.${f[3]}`;s.push({type:"time",value:ng(w),raw:f[0]}),r=f.index+f[0].length}if(s.length===0)return[];const h=i.slice(r).trim(),p=i.match(/^\[([a-z]+):(.+)\]$/);if(p&&s.length===0)return s.push({type:"metadata",key:p[1],value:p[2]}),s;const y=/<(\d{2}):(\d{2})\.(\d{2,3})>([^<]*)/g,g=[...h.matchAll(y)];if(g.length>0)for(const w of g)s.push({type:"word_time",value:ng(`${w[1]}:${w[2]}.${w[3]}`),raw:w[4]});else h&&s.push({type:"text",value:h});return s},Vx=l=>{const i=l.filter(u=>u.type==="word_time");if(i.length===0)return{words:[],text:""};const s=[];let r="";for(let u=0;u<i.length;u++){const f=i[u],h=f.raw,p=f.value,y=i[u+1],g=y?y.value:p+1;r+=h,h&&s.push(pp(h,p,g))}return{words:yp(s),text:r}},Qx=l=>{const i=l.split(`
`),s=[];return i.forEach((r,u)=>{const f=Gx(r);if(f.length===0||f[0].type==="metadata")return;const h=f.filter(w=>w.type==="time");if(h.length===0)return;const{words:p,text:y}=Vx(f),g=y||f.find(w=>w.type==="text")?.value||"";for(const w of h)s.push({time:w.value,text:g,words:p.map(b=>({...b})),hasWordTiming:p.length>0,originalIndex:u,isMetadata:Pi(g)})}),s.sort((r,u)=>{const f=r.time-u.time;return Math.abs(f)>.01?f:r.originalIndex-u.originalIndex}),Xx(s)},Xx=l=>{const i=[];let s=0;for(;s<l.length;){const r=l[s],u=[r];let f=s+1;for(;f<l.length&&Math.abs(l[f].time-r.time)<.1;)u.push(l[f]),f++;u.sort((g,w)=>g.hasWordTiming!==w.hasWordTiming?g.hasWordTiming?-1:1:g.originalIndex-w.originalIndex);const h=u.find(g=>!g.isMetadata&&g.text.trim())??u[0];if(h.isMetadata){s=f;continue}if(!h.text.trim()){s=f;continue}const p=h.text.toLowerCase(),y=u.filter(g=>g!==h&&!g.isMetadata&&g.text.trim()).map(g=>g.text.trim()).filter(g=>g&&g.toLowerCase()!==p);i.push(Aa(h.time,h.text,{words:h.words.length>0?h.words:void 0,translation:y.length>0?y.join(`
`):void 0,isPreciseTiming:!1})),s=f}return i},Ix=l=>{for(let i=0;i<l.length;i++){const s=l[i];if(s.isPreciseTiming||!s.words?.length)continue;const r=l[i+1]?.time??s.time+5,u=s.words[s.words.length-1],f=r-u.startTime;u.endTime=u.startTime+Math.min(f,5)}},Af=l=>{if(!l?.trim())return[];const i=Qx(l);Ix(i);const s=xp(i);return nf(s)},Ou=10,Zx=l=>{try{const i=JSON.parse(l);if(i.c&&Array.isArray(i.c)){const s=i.c.map(r=>r.tx).join("");return{type:"json",time:(i.t||0)/1e3,text:s}}}catch{}return null},Kx=l=>{const i=l.match(/^\[(\d+),(\d+)\](.*)/);if(!i)return null;const s=parseInt(i[1],10)/1e3,r=parseInt(i[2],10)/1e3,u=i[3],f=[];let h="";const p=/\((\d+),(\d+),(\d+)\)([^\(]*)/g,y=[...u.matchAll(p)];if(y.length>0)for(const g of y){const w=parseInt(g[1],10)/1e3,b=parseInt(g[2],10)/1e3,_=g[4];h+=_,f.push(pp(_,w,w+b))}else h=u;return{type:"yrc",time:s,duration:r,words:yp(f),text:h}},Fx=l=>{const i=l.split(`
`),s=[];for(const r of i){const u=r.trim();if(!u)continue;if(u.startsWith("{")&&u.endsWith("}")){const p=Zx(u);if(p){s.push(p);continue}}const f=Kx(u);if(f){s.push(f);continue}const h=u.match(/\[(\d{2}):(\d{2})\.(\d{2,3})\](.*)/);if(h){const p=parseInt(h[1],10),y=parseInt(h[2],10),g=h[3],w=parseInt(g,10),b=g.length===3?w/1e3:w/100,_=p*60+y+b;s.push({type:"lrc",time:_,text:h[4].trim()})}}return s.sort((r,u)=>r.time-u.time),s},Wx=l=>{for(let i=0;i<l.length;i++){const s=l[i];if(s.type!=="yrc"||!s.words.length)continue;const r=l[i+1];for(let u=0;u<s.words.length;u++){const f=s.words[u],h=s.words[u+1],p=h?h.startTime:r?r.time:f.startTime+Ou;f.endTime-f.startTime>Ou&&(f.endTime=Math.min(f.startTime+Ou,p)),f.endTime>p&&(f.endTime=p),f.endTime<=f.startTime&&(f.endTime=f.startTime+.1)}}},$x=l=>{const i=l.filter(h=>h.type==="yrc"),s=l.filter(h=>h.type!=="yrc"),r=h=>i.some(p=>p.type!=="yrc"||!p.words.length?!1:p.words.some(y=>y.startTime<=h&&y.endTime>h));if(i.length===0)return l.filter(h=>!Pi(h.text)).map(h=>h.text.trim()?Aa(h.time,h.text,{words:h.type==="yrc"&&h.words.length>0?h.words:void 0,isPreciseTiming:h.type==="yrc"}):Aa(h.time,es,{isInterlude:!0}));const u=[],f=new Set;for(const h of i){const p=[];for(let y=0;y<s.length;y++){if(f.has(y))continue;const g=s[y];if(Pi(g.text))continue;if(Math.abs(g.time-h.time)<3){const b=Wn(g.text),_=Wn(h.text);b&&b!==_&&(p.push(g.text.trim()),f.add(y))}}h.text.trim()?u.push(Aa(h.time,h.text,{words:h.words.length>0?h.words:void 0,translation:p.length>0?p.join(`
`):void 0,isPreciseTiming:!0})):u.push(Aa(h.time,es,{isInterlude:!0}))}for(let h=0;h<s.length;h++){if(f.has(h))continue;const p=s[h];if(!Pi(p.text))if(p.text.trim())u.push(Aa(p.time,p.text,{isPreciseTiming:!1}));else{if(r(p.time))continue;u.push(Aa(p.time,es,{isInterlude:!0}))}}return u.sort((h,p)=>h.time-p.time),u},Jx=l=>{const i=[];for(const s of l){const r=i[i.length-1];r&&Wn(r.text)===Wn(s.text)&&Math.abs(s.time-r.time)<=1.5?((s.words?.length??0)>(r.words?.length??0)&&(r.words=s.words),!r.translation&&s.translation&&(r.translation=s.translation)):i.push(s)}return i},Px=(l,i)=>{const s=i.filter(r=>r.type==="yrc"&&r.words.length>0&&!Pi(r.text)).map(r=>({token:r,normalized:Wn(r.text),used:!1})).filter(r=>r.normalized);return l.map(r=>{if(!r.text||r.isInterlude)return r;const u=Wn(r.text);if(!u)return r;let f=null;for(let h=0;h<s.length;h++){if(s[h].used)continue;const p=Math.abs(s[h].token.time-r.time);if(p>2.5||!u.startsWith(s[h].normalized))continue;let y=s[h].normalized;const g=[h];for(;y.length<u.length&&g[g.length-1]+1<s.length&&!s[g[g.length-1]+1].used;){const w=s[g[g.length-1]+1],b=y+w.normalized;if(!u.startsWith(b))break;y=b,g.push(g[g.length-1]+1)}if(y===u){const w=p;(!f||w<f.score)&&(f={indexes:g,score:w})}}if(f){const h=[];for(const y of f.indexes){s[y].used=!0;const g=s[y].token;h.push(...g.words.map(w=>({...w})))}const p=eb(r.text,h);return{...r,words:p,isPreciseTiming:!0}}return r})},eb=(l,i)=>{if(!l||!i.length)return i;const s=Array.from(l);let r=0;const u=i.map(f=>{const h=Wn(f.text);if(!h)return{...f};let p="",y="";for(;r<s.length&&y.length<h.length;){const g=s[r];p+=g;const w=Wn(g);w&&(y+=w),r++}for(;r<s.length;){const g=s[r];if(Wn(g))break;p+=g,r++}return p?{...f,text:p}:{...f}});return r<s.length&&u.length&&(u[u.length-1]={...u[u.length-1],text:`${u[u.length-1].text}${s.slice(r).join("")}`}),u},tb=l=>l.split(`
`).some(i=>{const s=i.trim();return/^\[\d+,\d+\]/.test(s)||s.startsWith("{")&&s.includes('"c":[')}),lg=(l,i)=>{if(!l?.trim())return[];const s=Fx(l);if(Wx(s),i?.trim()){const h=Af(i);return nf(Px(h,s))}const r=$x(s),u=Jx(r),f=xp(u);return nf(f)},bp=l=>Math.round(l*100)/100,nb=l=>{if(!l?.trim())return new Map;const i=Af(l),s=new Map;for(const r of i){if(r.isInterlude||!r.text?.trim())continue;const u=bp(r.time),f=s.get(u);f?s.set(u,`${f}
${r.text.trim()}`):s.set(u,r.text.trim())}return s},ab=(l,i)=>{const s=bp(i.time),r=l.get(s);if(r)return l.delete(s),r;const u=!!i.isPreciseTiming,f=u?1:.35,h=u?.35:.2;let p=null,y=1/0;for(const[g,w]of l.entries()){const b=g-s;b>=0&&b<=f?b<y&&(y=b,p=g):b<0&&-b<=h&&-b<y&&(y=-b,p=g)}if(p!==null){const g=l.get(p);return l.delete(p),g}},lb=(l,i)=>{if(!i?.trim())return l;const s=nb(i);return s.size===0?l:l.map(r=>{if(r.isInterlude)return r;const u=ab(s,r);if(!u)return r;const f=u.trim();return!f||r.translation?r:{...r,translation:f}})},Ir=(l,i,s)=>{if(!l?.trim())return[];let r;return s?.yrcContent?r=lg(s.yrcContent,l):tb(l)?r=lg(l):r=Af(l),i?.trim()&&(r=lb(r,i)),r},ig=l=>{if(isNaN(l))return"0:00";const i=Math.floor(l/60),s=Math.floor(l%60);return`${i}:${s.toString().padStart(2,"0")}`},ib=l=>{const i=[...l];for(let s=i.length-1;s>0;s--){const r=Math.floor(Math.random()*(s+1));[i[s],i[r]]=[i[r],i[s]]}return i},jn=async l=>{let i;try{const s=await fetch(l,{method:"GET",headers:{Accept:"application/json"},mode:"cors"});if(!s.ok)throw new Error(`Direct fetch failed with status: ${s.status} ${l}`);return i=await s.text(),JSON.parse(i)}catch(s){console.warn("Direct fetch failed (likely CORS), trying proxy:",s);const r=[`https://api.allorigins.win/raw?url=${encodeURIComponent(l)}`,`https://corsproxy.io/?${encodeURIComponent(l)}`];for(const u of r)try{const f=await fetch(u,{method:"GET",headers:{Accept:"application/json"}});if(!f.ok)throw new Error(`Proxy fetch failed with status: ${f.status}`);return i=await f.text(),JSON.parse(i)}catch(f){console.warn(`Proxy ${u} failed:`,f);continue}throw console.error("All proxy requests failed for:",l),new Error("All proxy requests failed")}},sb=l=>{try{const i=new URL(l),s=new URLSearchParams(i.search);if(i.hash.includes("/song")||i.hash.includes("/playlist")){const u=i.hash.split("?");if(u.length>1){const h=new URLSearchParams(u[1]).get("id");if(h){if(i.hash.includes("/song"))return{type:"song",id:h};if(i.hash.includes("/playlist"))return{type:"playlist",id:h}}}}const r=s.get("id");if(r){if(i.pathname.includes("song"))return{type:"song",id:r};if(i.pathname.includes("playlist"))return{type:"playlist",id:r}}return null}catch{return null}},rb=l=>new Promise(i=>{if(typeof jsmediatags>"u"){console.warn("jsmediatags not loaded"),i({});return}try{jsmediatags.read(l,{onSuccess:s=>{try{const r=s.tags;let u,f;if(r.picture){const{data:h,format:p}=r.picture;let y="";const g=h.length;for(let w=0;w<g;w++)y+=String.fromCharCode(h[w]);u=`data:${p};base64,${window.btoa(y)}`}r.USLT?f=typeof r.USLT=="object"?r.USLT.lyrics||r.USLT.text:r.USLT:r.lyrics?f=r.lyrics:r.LYRICS&&(f=r.LYRICS),i({title:r.title,artist:r.artist,picture:u,lyrics:f})}catch(r){console.error("Error parsing tags structure:",r),i({})}},onError:s=>{console.warn("Error reading tags:",s),i({})}})}catch(s){console.error("jsmediatags crashed:",s),i({})}}),af=async l=>{if(typeof ColorThief>"u")return console.warn("ColorThief not loaded"),["#4f46e5","#db2777","#1f2937"];try{const i=await jg(l),r=new ColorThief().getPalette(i,5);if(!r||r.length===0)return[];const u=r.filter(p=>.2126*p[0]+.7152*p[1]+.0722*p[2]>30),f=u.length>0?u:r;return f.sort((p,y)=>{const g=Math.max(...p)-Math.min(...p);return Math.max(...y)-Math.min(...y)-g}),f.slice(0,4).map(p=>`rgb(${p[0]}, ${p[1]}, ${p[2]})`)}catch(i){return console.warn("Color extraction failed",i),[]}},dn=l=>{const s=document.createElement("audio").canPlayType(l);return s==="probably"||s==="maybe"},cb=()=>({mp3:dn("audio/mpeg"),wav:dn("audio/wav")||dn("audio/wave"),flac:dn("audio/flac"),m4a:dn("audio/mp4")||dn("audio/x-m4a"),aac:dn("audio/aac"),ogg:dn("audio/ogg"),opus:dn("audio/opus"),webm:dn("audio/webm"),aiff:dn("audio/aiff")||dn("audio/x-aiff")}),ob=()=>{const l=cb();console.log(" Supported Audio Formats:"),Object.entries(l).forEach(([i,s])=>{console.log(`   ${s?"":""} ${i.toUpperCase()}`)})},ub={music:{eq:{sub:2,bass:1,mid:0,highMid:1,treble:2},spatial:{width:.7,depth:.3,height:.5,roomSize:.4,distance:.5},enhancement:{exciter:.3,clarity:.4,warmth:.3}},cinema:{eq:{sub:4,bass:2,mid:0,highMid:2,treble:1},spatial:{width:.9,depth:.6,height:.7,roomSize:.8,distance:.6},enhancement:{exciter:.5,clarity:.6,warmth:.4}},vocal:{eq:{sub:-2,bass:0,mid:2,highMid:3,treble:1},spatial:{width:.4,depth:.2,height:.3,roomSize:.3,distance:.4},enhancement:{exciter:.2,clarity:.7,warmth:.2}}};class ts{constructor(i){this.source=null,this.audioElement=null,this.isConnected=!1,ts.instanceCount++,this.instanceId=ts.instanceCount,console.log(`[SpatialAudioEngine #${this.instanceId}] Creating new instance (total: ${ts.instanceCount})`),this.ctx=i||new AudioContext,this.config={enabled:!1,preset:"music",eq:{sub:0,bass:0,mid:0,highMid:0,treble:0},spatial:{width:.5,depth:.3,height:.5,roomSize:.5,distance:.5},enhancement:{exciter:.3,clarity:.3,warmth:.3},dynamics:{normalize:!0,limiterThreshold:-1}},this.listenerPosition={x:0,y:0,z:0},this.inputGain=this.ctx.createGain(),this.outputGain=this.ctx.createGain(),this.eqNodes={sub:this.createEQBand("lowshelf",60),bass:this.createEQBand("peaking",200),mid:this.createEQBand("peaking",1e3),highMid:this.createEQBand("peaking",4e3),treble:this.createEQBand("highshelf",12e3)},this.splitter=this.ctx.createChannelSplitter(2),this.merger=this.ctx.createChannelMerger(2),this.leftDelay=this.ctx.createDelay(.1),this.rightDelay=this.ctx.createDelay(.1),this.haasGain=this.ctx.createGain(),this.panner=this.ctx.createPanner(),this.panner.panningModel="HRTF",this.panner.distanceModel="inverse",this.panner.refDistance=1,this.panner.maxDistance=1e4,this.panner.rolloffFactor=1,this.panner.coneInnerAngle=360,this.panner.coneOuterAngle=0,this.panner.coneOuterGain=0,this.convolver=this.ctx.createConvolver(),this.reverbGain=this.ctx.createGain(),this.dryGain=this.ctx.createGain(),this.exciterGain=this.ctx.createGain(),this.exciterWaveShaper=this.ctx.createWaveShaper(),this.exciterWaveShaper.curve=this.createExciterCurve(),this.exciterWaveShaper.oversample="4x",this.compressor=this.ctx.createDynamicsCompressor(),this.compressor.threshold.value=-24,this.compressor.knee.value=30,this.compressor.ratio.value=12,this.compressor.attack.value=.003,this.compressor.release.value=.25,this.limiter=this.ctx.createDynamicsCompressor(),this.limiter.threshold.value=-1,this.limiter.knee.value=0,this.limiter.ratio.value=20,this.limiter.attack.value=.001,this.limiter.release.value=.01,this.analyzer=this.ctx.createAnalyser(),this.analyzer.fftSize=2048,this.analyzer.smoothingTimeConstant=.8,this.inputGain.gain.value=1,this.outputGain.gain.value=1,this.dryGain.gain.value=1,this.haasGain.gain.value=0,this.reverbGain.gain.value=0,this.exciterGain.gain.value=0,this.generateImpulseResponse()}static{this.instanceCount=0}createEQBand(i,s){const r=this.ctx.createBiquadFilter();return r.type=i,r.frequency.value=s,r.Q.value=1,r.gain.value=0,r}createExciterCurve(){const s=new Float32Array(1024),r=Math.PI/180;for(let u=0;u<1024;u++){const f=u*2/1024-1;s[u]=(3+.5)*f*20*r/(Math.PI+.5*Math.abs(f))}return s}generateImpulseResponse(){const i=this.ctx.sampleRate,s=i*2,r=this.ctx.createBuffer(2,s,i);for(let u=0;u<2;u++){const f=r.getChannelData(u);for(let h=0;h<s;h++){const p=Math.exp(-h/(i*.5)),y=(Math.random()*2-1)*p,g=h<i*.05?Math.sin(h/100)*p*.5:0;f[h]=y+g}}this.convolver.buffer=r}connectNodes(){if(this.isConnected)return;this.inputGain.connect(this.eqNodes.sub),this.eqNodes.sub.connect(this.eqNodes.bass),this.eqNodes.bass.connect(this.eqNodes.mid),this.eqNodes.mid.connect(this.eqNodes.highMid),this.eqNodes.highMid.connect(this.eqNodes.treble);const i=this.eqNodes.treble;i.connect(this.dryGain),i.connect(this.splitter),this.splitter.connect(this.leftDelay,0),this.splitter.connect(this.rightDelay,1),this.leftDelay.connect(this.merger,0,0),this.rightDelay.connect(this.merger,0,1),this.merger.connect(this.haasGain),i.connect(this.convolver),this.convolver.connect(this.reverbGain),i.connect(this.exciterWaveShaper),this.exciterWaveShaper.connect(this.exciterGain),this.dryGain.connect(this.panner),this.haasGain.connect(this.panner),this.reverbGain.connect(this.panner),this.exciterGain.connect(this.panner),this.panner.connect(this.compressor),this.compressor.connect(this.limiter),this.limiter.connect(this.outputGain),this.outputGain.connect(this.analyzer),this.analyzer.connect(this.ctx.destination),this.isConnected=!0}attachToAudioElement(i){if(console.log(`[SpatialAudioEngine #${this.instanceId}] Attempting to attach to audio element`),this.audioElement===i&&this.source){console.warn(`[SpatialAudioEngine #${this.instanceId}] Already attached to this audio element`);return}this.source&&(console.log(`[SpatialAudioEngine #${this.instanceId}] Disconnecting previous source`),this.source.disconnect(),this.source=null);try{this.audioElement=i,this.source=this.ctx.createMediaElementSource(i),this.source.connect(this.inputGain),this.connectNodes(),console.log(`[SpatialAudioEngine #${this.instanceId}] Successfully attached to audio element`)}catch(s){if(console.error(`[SpatialAudioEngine #${this.instanceId}] Failed to attach to audio element:`,s),s instanceof DOMException&&s.name==="InvalidStateError")console.warn(`[SpatialAudioEngine #${this.instanceId}] Audio element already has a source node.`),console.warn(`[SpatialAudioEngine #${this.instanceId}] Audio will play without spatial effects.`),this.source=null,this.audioElement=null;else throw s}}applyPreset(i){const s=ub[i];s&&(this.config.preset=i,s.eq&&Object.assign(this.config.eq,s.eq),s.spatial&&Object.assign(this.config.spatial,s.spatial),s.enhancement&&Object.assign(this.config.enhancement,s.enhancement),this.updateAllParameters())}updateAllParameters(){const i=this.ctx.currentTime,s=.1;this.eqNodes.sub.gain.setTargetAtTime(this.config.eq.sub,i,s),this.eqNodes.bass.gain.setTargetAtTime(this.config.eq.bass,i,s),this.eqNodes.mid.gain.setTargetAtTime(this.config.eq.mid,i,s),this.eqNodes.highMid.gain.setTargetAtTime(this.config.eq.highMid,i,s),this.eqNodes.treble.gain.setTargetAtTime(this.config.eq.treble,i,s);const r=this.config.spatial.width*.03;this.leftDelay.delayTime.setTargetAtTime(r,i,s),this.rightDelay.delayTime.setTargetAtTime(r,i,s),this.haasGain.gain.setTargetAtTime(this.config.spatial.width*.3,i,s),this.reverbGain.gain.setTargetAtTime(this.config.spatial.depth*.4,i,s),this.dryGain.gain.setTargetAtTime(1-this.config.spatial.depth*.3,i,s);const u=1+this.config.spatial.distance*4,f=(this.config.spatial.height-.5)*2;this.panner.setPosition(0,f,-u),this.exciterGain.gain.setTargetAtTime(this.config.enhancement.exciter*.15,i,s),this.limiter.threshold.setTargetAtTime(this.config.dynamics.limiterThreshold,i,s)}setEnabled(i){this.config.enabled=i;const s=this.ctx.currentTime;this.outputGain.gain.setTargetAtTime(1,s,.05),i?(this.haasGain.gain.setTargetAtTime(this.config.spatial.width*.3,s,.05),this.reverbGain.gain.setTargetAtTime(this.config.spatial.depth*.4,s,.05),this.exciterGain.gain.setTargetAtTime(this.config.enhancement.exciter*.15,s,.05),this.dryGain.gain.setTargetAtTime(1-this.config.spatial.depth*.3,s,.05)):(this.haasGain.gain.setTargetAtTime(0,s,.05),this.reverbGain.gain.setTargetAtTime(0,s,.05),this.exciterGain.gain.setTargetAtTime(0,s,.05),this.dryGain.gain.setTargetAtTime(1,s,.05))}setEQBand(i,s){this.config.eq[i]=s;const r=this.eqNodes[i],u=this.ctx.currentTime;r.gain.setTargetAtTime(s,u,.1)}setSpatialParameter(i,s){this.config.spatial[i]=Math.max(0,Math.min(1,s)),this.updateAllParameters()}getAnalyzer(){return this.analyzer}getFrequencyData(){const i=new Uint8Array(this.analyzer.frequencyBinCount);return this.analyzer.getByteFrequencyData(i),i}getTimeDomainData(){const i=new Uint8Array(this.analyzer.fftSize);return this.analyzer.getByteTimeDomainData(i),i}animateSpatialPosition(i){const s=Date.now()/1e3,r=.5+i*1.5,u=Math.cos(s)*r,f=-2-Math.sin(s)*r,h=Math.sin(s*2)*.5*i;this.panner.setPosition(u,h,f)}getConfig(){return{...this.config}}async resume(){this.ctx.state==="suspended"&&await this.ctx.resume()}destroy(){console.log(`[SpatialAudioEngine #${this.instanceId}] Destroying instance`),this.source&&this.source.disconnect(),this.inputGain.disconnect(),this.outputGain.disconnect(),Object.values(this.eqNodes).forEach(i=>i.disconnect()),this.splitter.disconnect(),this.merger.disconnect(),this.leftDelay.disconnect(),this.rightDelay.disconnect(),this.haasGain.disconnect(),this.panner.disconnect(),this.convolver.disconnect(),this.reverbGain.disconnect(),this.dryGain.disconnect(),this.exciterGain.disconnect(),this.exciterWaveShaper.disconnect(),this.compressor.disconnect(),this.limiter.disconnect(),this.analyzer.disconnect(),this.isConnected=!1}}const fb=({audioRef:l,isPlaying:i,spatialEngine:s})=>{const r=x.useRef(null);x.useRef(null);const u=x.useRef(null),f=x.useRef(null);return x.useEffect(()=>{if(!i||!s){u.current=null;return}try{const h=s.getAnalyzer();h&&(h.fftSize=2048,h.smoothingTimeConstant=.75,u.current=h)}catch(h){console.error("Visualizer: Failed to get analyser",h)}return()=>{u.current=null}},[i,s]),x.useEffect(()=>{if(!i||!u.current){f.current&&(cancelAnimationFrame(f.current),f.current=null);return}const h=r.current;if(!h)return;const p=h.getContext("2d");if(!p)return;const y=u.current,g=y.frequencyBinCount,w=new Uint8Array(g),b=64,_=new Array(b).fill(0),O=()=>{if(!i||!u.current)return;y.getByteFrequencyData(w);const R=h.width,A=h.height;p.clearRect(0,0,R,A);const T=R/b,N=Math.floor(g/b);for(let q=0;q<b;q++){let Q=0;for(let U=0;U<N;U++){const k=q*N+U;k<g&&(Q+=w[k])}const j=Q/N/255*A*2.5;_[q]+=(j-_[q])*.35}p.fillStyle="#ffffff";for(let q=0;q<b;q++){const Q=Math.min(_[q],A),S=q*T,j=A-Q,U=T/3;p.beginPath(),p.roundRect(S+1,j,T-2,Q,U),p.fill()}f.current=requestAnimationFrame(O)};return O(),()=>{f.current&&(cancelAnimationFrame(f.current),f.current=null)}},[i]),i?d.jsx("canvas",{ref:r,width:320,height:32,className:"w-full max-w-[320px] h-8 transition-opacity duration-500"}):d.jsx("div",{className:"h-8 w-full"})},db=(l,i,s)=>{const r=typeof window>"u"?1:window.devicePixelRatio||1,u=(i/s).toFixed(3);return`${l}|${u}|${i}x${s}@${Math.round(r*100)}`},hb=d.jsx("div",{className:"w-full h-full flex items-center justify-center bg-white/5 text-white/30 text-[10px] font-semibold tracking-widest",children:d.jsx("span",{children:""})}),Zr=({src:l,containerClassName:i,containerStyle:s,imgClassName:r,imgStyle:u,placeholder:f,alt:h="",targetWidth:p,targetHeight:y,loading:g="lazy",...w})=>{const[b,_]=x.useState(g==="eager"),O=x.useRef(null),[R,A]=x.useState(null),[T,N]=x.useState(null),q=x.useRef(null),Q=x.useRef(!1),S=x.useCallback(()=>{q.current&&Q.current&&URL.revokeObjectURL(q.current)},[]),j=x.useCallback(()=>{S(),q.current=null,Q.current=!1,N(null)},[S]),U=x.useCallback((Y,P)=>{S(),q.current=Y,Q.current=P,N(Y)},[S]);x.useEffect(()=>{if(g==="eager"){_(!0);return}const Y=O.current;if(!Y){_(!1);return}if(typeof IntersectionObserver>"u"){_(!0);return}const P=new IntersectionObserver(F=>{const ee=F[0];_(ee?.isIntersecting??!1)},{rootMargin:"200px",threshold:.01});return P.observe(Y),()=>{P.disconnect()}},[g]),x.useLayoutEffect(()=>{if(typeof p=="number"&&typeof y=="number"){A({width:p,height:y});return}const Y=O.current;if(!Y){A(null);return}const P=()=>{const ee=Y.getBoundingClientRect();A(oe=>{const ne=Math.round(ee.width),re=Math.round(ee.height);return oe&&Math.round(oe.width)===ne&&Math.round(oe.height)===re?oe:{width:ee.width,height:ee.height}})};if(P(),typeof ResizeObserver>"u")return;const F=new ResizeObserver(()=>{P()});return F.observe(Y),()=>F.disconnect()},[y,p]);const k=x.useMemo(()=>{if(!R)return null;const Y=Math.max(1,Math.round(R.width)),P=Math.max(1,Math.round(R.height));return Y<=0||P<=0?null:{width:Y,height:P}},[R]),J=x.useMemo(()=>!k||!l?null:db(l,k.width,k.height),[k,l]);return x.useEffect(()=>{if(!k||!l||!J){j();return}if(!b)return;let Y=!1;const P=z0.get(J);if(P){const ne=URL.createObjectURL(P);return U(ne,!0),()=>{Y=!0,URL.revokeObjectURL(ne)}}const F=new Image,ee=()=>{Y||j()},oe=()=>{if(Y)return;const ne=Math.min(k.width/F.naturalWidth,k.height/F.naturalHeight,1),re=Math.max(1,Math.round(F.naturalWidth*ne)),z=Math.max(1,Math.round(F.naturalHeight*ne)),I=document.createElement("canvas");I.width=re,I.height=z;const Z=I.getContext("2d");if(!Z){ee();return}Z.drawImage(F,0,0,re,z);try{I.toBlob(fe=>{if(!fe||Y){ee();return}try{z0.set(J,fe)}catch{}const le=URL.createObjectURL(fe);if(Y){URL.revokeObjectURL(le);return}U(le,!0)},"image/jpeg",.78)}catch{ee()}};return F.crossOrigin="anonymous",F.onload=()=>{if(!Y){if(!F.naturalWidth||!F.naturalHeight){ee();return}oe()}},F.onerror=()=>{Y||ee()},F.src=l,()=>{Y=!0,F.onload=null,F.onerror=null,F.src=""}},[J,k,j,U,l,b]),d.jsx("div",{ref:O,className:`relative w-full h-full overflow-hidden ${i??""}`,style:s,children:T?d.jsx("img",{src:T,alt:h,className:r,style:u,loading:g,...w}):f??hb})},mb=({className:l})=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:l,children:[d.jsx("path",{d:"M17 2l4 4-4 4"}),d.jsx("path",{d:"M3 11v-1a4 4 0 014-4h14"}),d.jsx("path",{d:"M7 22l-4-4 4-4"}),d.jsx("path",{d:"M21 13v1a4 4 0 01-4 4H3"})]}),gb=({className:l})=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:l,children:[d.jsx("path",{d:"M16 3h5v5"}),d.jsx("path",{d:"M4 20L21 3"}),d.jsx("path",{d:"M21 16v5h-5"}),d.jsx("path",{d:"M15 15l6 6"}),d.jsx("path",{d:"M4 4l5 5"})]}),pb=({className:l})=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:l,children:[d.jsx("path",{d:"M17 2l4 4-4 4"}),d.jsx("path",{d:"M3 11v-1a4 4 0 014-4h14"}),d.jsx("path",{d:"M7 22l-4-4 4-4"}),d.jsx("path",{d:"M21 13v1a4 4 0 01-4 4H3"})]}),yb=({className:l})=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:l,children:[d.jsx("polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5"}),d.jsx("line",{x1:"23",y1:"9",x2:"17",y2:"15"}),d.jsx("line",{x1:"17",y1:"9",x2:"23",y2:"15"})]}),vb=({className:l})=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:l,children:[d.jsx("polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5"}),d.jsx("path",{d:"M15.54 8.46a5 5 0 0 1 0 7.07"})]}),xb=({className:l})=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:l,children:[d.jsx("polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5"}),d.jsx("path",{d:"M19.07 4.93a10 10 0 0 1 0 14.14"}),d.jsx("path",{d:"M15.54 8.46a5 5 0 0 1 0 7.07"})]}),bb=({className:l})=>d.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",className:l,children:d.jsx("path",{d:"M11 5L6 9H2v6h4l5 4V5zM23 9l-6 6M17 9l6 6",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),wb=({className:l})=>d.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",className:l,children:d.jsx("path",{d:"M11 5L6 9H2v6h4l5 4V5zM15.54 8.46a5 5 0 0 1 0 7.07"})}),Sb=({className:l})=>d.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",className:l,children:d.jsx("path",{d:"M11 5L6 9H2v6h4l5 4V5zM19.07 4.93a10 10 0 0 1 0 14.14M15.54 8.46a5 5 0 0 1 0 7.07"})}),Tb=({className:l})=>d.jsxs("svg",{viewBox:"0 0 24 24",fill:"currentColor",className:l,children:[d.jsx("path",{d:"M8 5C7.4 5 7 5.4 7 6V18C7 18.6 7.4 19 8 19H10C10.6 19 11 18.6 11 18V6C11 5.4 10.6 5 10 5H8Z"}),d.jsx("path",{d:"M14 5C13.4 5 13 5.4 13 6V18C13 18.6 13.4 19 14 19H16C16.6 19 17 18.6 17 18V6C17 5.4 16.6 5 16 5H14Z"})]}),Zi=({className:l})=>d.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",className:l,children:d.jsx("path",{transform:"translate(1, 0)",d:"M7 6.8C7 5.2 8.8 4.3 10.1 5.1L18.5 10.6C19.7 11.4 19.7 13.1 18.5 13.9L10.1 19.4C8.8 20.2 7 19.3 7 17.7V6.8Z"})}),Eb=({className:l})=>d.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",className:l,children:d.jsx("path",{d:"M19,6c0-0.88-0.96-1.42-1.72-0.98L8.7,10.78C8.08,11.14,7.7,11.8,7.7,12.5s0.38,1.36,1,1.72l8.58,5.76 c0.76,0.44,1.72-0.1,1.72-0.98V6z M6,6C5.45,6,5,6.45,5,7v10c0,0.55,0.45,1,1,1s1-0.45,1-1V7C7,6.45,6.55,6,6,6z"})}),Ab=({className:l})=>d.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",className:l,children:d.jsx("path",{d:"M5,18c0,0.88,0.96,1.42,1.72,0.98l8.58-5.76C15.92,12.86,16.3,12.2,16.3,11.5s-0.38-1.36-1-1.72L6.72,4.02 C5.96,3.58,5,4.12,5,5V18z M18,18c0.55,0,1-0.45,1-1V7c0-0.55-0.45-1-1-1s-1,0.45-1,1v10C17,17.55,17.45,18,18,18z"})}),wp=({className:l})=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:l,children:[d.jsx("line",{x1:"8",y1:"6",x2:"21",y2:"6"}),d.jsx("line",{x1:"8",y1:"12",x2:"21",y2:"12"}),d.jsx("line",{x1:"8",y1:"18",x2:"21",y2:"18"}),d.jsx("line",{x1:"3",y1:"6",x2:"3.01",y2:"6"}),d.jsx("line",{x1:"3",y1:"12",x2:"3.01",y2:"12"}),d.jsx("line",{x1:"3",y1:"18",x2:"3.01",y2:"18"})]}),Sp=({className:l})=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",className:l,children:[d.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),d.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),lf=({className:l})=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:l,children:d.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),Mb=({className:l})=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:l,children:d.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19.902 4.098a3.75 3.75 0 00-5.304 0l-4.5 4.5a3.75 3.75 0 001.035 6.037.75.75 0 01-.646 1.353 5.25 5.25 0 01-1.449-8.45l4.5-4.5a5.25 5.25 0 117.424 7.424l-1.757 1.757a.75.75 0 11-1.06-1.06l1.757-1.757a3.75 3.75 0 000-5.304zm-7.389 4.267a.75.75 0 011-.353 5.25 5.25 0 011.449 8.45l-4.5 4.5a5.25 5.25 0 11-7.424-7.424l1.757-1.757a.75.75 0 111.06 1.06l-1.757 1.757a3.75 3.75 0 105.304 5.304l4.5-4.5a3.75 3.75 0 00-1.035-6.037.75.75 0 01-.354-1z"})}),Ki=({className:l})=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",className:l,children:[d.jsx("circle",{cx:"11",cy:"11",r:"8"}),d.jsx("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"})]}),_b=({className:l})=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:l,children:[d.jsx("path",{d:"M4 14.899a7 7 0 1 1 15.718 -2.908a4.5 4.5 0 0 1 5.836 6.302"}),d.jsx("line",{x1:"12",y1:"10",x2:"12",y2:"19"}),d.jsx("line",{x1:"9",y1:"16",x2:"12",y2:"19"}),d.jsx("line",{x1:"15",y1:"16",x2:"12",y2:"19"})]}),Cb=({className:l})=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:l,children:[d.jsx("polyline",{points:"3 6 5 6 21 6"}),d.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}),d.jsx("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),d.jsx("line",{x1:"14",y1:"11",x2:"14",y2:"17"})]}),jb=({className:l})=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:l,children:[d.jsx("path",{d:"M8 6h13"}),d.jsx("path",{d:"M8 12h13"}),d.jsx("path",{d:"M8 18h13"}),d.jsx("path",{d:"M3 6h.01"}),d.jsx("path",{d:"M3 12h.01"}),d.jsx("path",{d:"M3 18h.01"})]}),Nb=({className:l})=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:l,children:[d.jsx("circle",{cx:"12",cy:"12",r:"10"}),d.jsx("line",{x1:"12",y1:"16",x2:"12",y2:"12"}),d.jsx("line",{x1:"12",y1:"8",x2:"12.01",y2:"8"})]}),Tp=({className:l})=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:l,children:[d.jsx("path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.09a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z"}),d.jsx("circle",{cx:"12",cy:"12",r:"3"})]}),zb=({className:l,isFullscreen:i})=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:l,children:i?d.jsxs(d.Fragment,{children:[d.jsx("path",{d:"M8 3v3a2 2 0 0 1-2 2H3"}),d.jsx("path",{d:"M21 8h-3a2 2 0 0 1-2-2V3"}),d.jsx("path",{d:"M3 16h3a2 2 0 0 1 2 2v3"}),d.jsx("path",{d:"M16 21v-3a2 2 0 0 1 2-2h3"})]}):d.jsxs(d.Fragment,{children:[d.jsx("path",{d:"M8 3H5a2 2 0 0 0-2 2v3"}),d.jsx("path",{d:"M16 3h3a2 2 0 0 1 2 2v3"}),d.jsx("path",{d:"M8 21H5a2 2 0 0 1-2-2v-3"}),d.jsx("path",{d:"M16 21h3a2 2 0 0 1 2-2v-3"})]})}),Rb=({className:l})=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:l,children:[d.jsx("circle",{cx:"12",cy:"12",r:"5"}),d.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"3"}),d.jsx("line",{x1:"12",y1:"21",x2:"12",y2:"23"}),d.jsx("line",{x1:"4.22",y1:"4.22",x2:"5.64",y2:"5.64"}),d.jsx("line",{x1:"18.36",y1:"18.36",x2:"19.78",y2:"19.78"}),d.jsx("line",{x1:"1",y1:"12",x2:"3",y2:"12"}),d.jsx("line",{x1:"21",y1:"12",x2:"23",y2:"12"}),d.jsx("line",{x1:"4.22",y1:"19.78",x2:"5.64",y2:"18.36"}),d.jsx("line",{x1:"18.36",y1:"5.64",x2:"19.78",y2:"4.22"})]}),Lb=({className:l})=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:l,children:d.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})}),Ob=({className:l})=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:l,children:d.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"})}),Db=({className:l})=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:l,children:[d.jsx("rect",{x:"3",y:"3",width:"14",height:"14",rx:"2",ry:"2"}),d.jsx("path",{d:"M7 21h10a2 2 0 0 0 2-2V9"})]}),Ub=({className:l})=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:l,children:[d.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),d.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]}),Ep=x.createContext(void 0),kb=({children:l})=>{const[i,s]=x.useState(()=>localStorage.getItem("lumison-theme")||"dark");x.useEffect(()=>{localStorage.setItem("lumison-theme",i),document.documentElement.setAttribute("data-theme",i)},[i]);const r=()=>{s(u=>u==="dark"?"light":"dark")};return d.jsx(Ep.Provider,{value:{theme:i,toggleTheme:r},children:l})},ms=()=>{const l=x.useContext(Ep);if(!l)throw new Error("useTheme must be used within ThemeProvider");return l},Hb={common:{confirm:"Confirm",cancel:"Cancel",close:"Close",save:"Save",delete:"Delete",edit:"Edit",search:"Search",loading:"Loading...",error:"Error",success:"Success",done:"Done"},about:{description:"A high-fidelity, immersive music player",inspiredBy:"inspired by Apple Music.",viewOnGitHub:"View on GitHub",createdBy:"Created by SalixJFrost"},audioEffect:{none:"None",noEffect:"No Effect",reverb:"Reverb",reverbEffect:"Reverb Effect",echo:"Echo",echoEffect:"Echo Effect",bass:"Bass",bassBoost:"Bass Boost",off:"Off"},spatialAudio:{title:"3D Spatial Audio",subtitle:"Cinema-style immersion",on:"ON",off:"OFF",active:"ACTIVE",inactive:"INACTIVE",presets:"Presets",music:"Music",cinema:"Cinema",vocal:"Vocal",advanced:"Advanced Settings",equalizer:"5-Band Equalizer",spatial:"Spatial Parameters",sub:"Sub",bass:"Bass",mid:"Mid",highMid:"High-Mid",treble:"Treble",width:"Width",depth:"Depth",height:"Height",roomSize:"Room Size",distance:"Distance",disclaimer:" This is NOT real Dolby Atmos. This is a simulated spatial enhancement system for immersive headphone listening."},player:{play:"Play",pause:"Pause",next:"Next",previous:"Previous",shuffle:"Shuffle",repeat:"Repeat",repeatOne:"Repeat One",volume:"Volume",speed:"Speed",settings:"Settings",queue:"Queue",lyrics:"Lyrics",noMusicLoaded:"No Music Loaded",welcomeTitle:"Welcome to Lumison",selectSong:"Select a song"},speed:{title:"Playback Speed",slow:"Slow",normal:"Normal",fast:"Fast",veryFast:"Very Fast",ultraFast:"Ultra Fast",digital:"Digital",vinyl:"Vinyl",preservePitch:"Tone Preserved",vinylMode:"Vinyl Mode",presets:"Quick Presets"},playlist:{title:"Playlist",playingNext:"Playing Next",songs:"Songs",empty:"Queue is empty",addSongs:"Add songs to get started",importUrl:"Import from URL",importLocal:"Import Local Files",remove:"Remove",clear:"Clear All",songCount:"{count} songs",selectAll:"Select All",deleteSelected:"Delete Selected",done:"Done",addFromUrl:"Add from URL",editList:"Edit List"},search:{title:"Search Music",placeholder:"Search songs, artists, or albums...",noResults:"No results found",searching:"Searching...",netease:"Netease Music",bilibili:"Bilibili",queue:"Current Queue",playNow:"Play Now",addToQueue:"Add to Queue"},lyrics:{noLyrics:"No lyrics available",loading:"Loading lyrics...",failed:"Failed to load lyrics",importLyrics:"Import Lyrics File",fontSize:"Font Size",effects:"Lyrics Effects",gradient:"Gradient",glow:"Glow",shadow:"Shadow"},visualizer:{label:"Audio Visualizer",toggle:"Visualizer",memoryHint:"Disable to save 5-10MB memory"},shortcuts:{title:"Keyboard Shortcuts",subtitle:"Quick controls for playback",playPause:"Play / Pause",loopMode:"Loop Mode",seek:"Seek 5s",prevNext:"Prev / Next Song",volumeControl:"Volume Control",speedControl:"Speed 0.25x",speedPreset:"Speed Preset",resetSpeed:"Reset Speed (1x)",volumeDialog:"Volume Dialog",speedDialog:"Speed Dialog",searchDialog:"Search",togglePlaylist:"Toggle Playlist",toggleShortcuts:"Toggle Shortcuts",closeHint:"to close",pressEsc:"Press"},import:{title:"Import Music",description:"Paste a",netease:"Netease Cloud Music",or:"or",internetArchive:"Internet Archive",directAudio:"direct audio URL",linkToAdd:"link to add to queue.",placeholder:"https://music.163.com/... or https://archive.org/details/... or direct audio URL",cancel:"Cancel",import:"Import",importing:"Importing..."},toast:{importSuccess:"Successfully imported {count} songs",importFailed:"Failed to load songs from URL",fileImportSuccess:"Files imported successfully",lyricsLoaded:"Lyrics loaded",lyricsFailed:"Failed to load lyrics",speedChanged:"Speed changed to {speed}x"},topBar:{import:"Import",search:"Search",settings:"Settings",theme:"Theme",language:"Language",about:"About",enterFullscreen:"Enter Fullscreen",exitFullscreen:"Exit Fullscreen"},theme:{light:"Light",dark:"Dark",auto:"Auto"}},Bb={common:{confirm:"",cancel:"",close:"",save:"",delete:"",edit:"",search:"",loading:"...",error:"",success:"",done:""},about:{description:"",inspiredBy:" Apple Music",viewOnGitHub:" GitHub ",createdBy:" SalixJFrost "},audioEffect:{none:"",noEffect:"",reverb:"",reverbEffect:"",echo:"",echoEffect:"",bass:"",bassBoost:"",off:""},spatialAudio:{title:"3D ",subtitle:"",on:"",off:"",active:"",inactive:"",presets:"",music:"",cinema:"",vocal:"",advanced:"",equalizer:"5",spatial:"",sub:"",bass:"",mid:"",highMid:"",treble:"",width:"",depth:"",height:"",roomSize:"",distance:"",disclaimer:" "},player:{play:"",pause:"",next:"",previous:"",shuffle:"",repeat:"",repeatOne:"",volume:"",speed:"",settings:"",queue:"",lyrics:"",noMusicLoaded:"",welcomeTitle:" Lumison",selectSong:""},speed:{title:"",slow:"",normal:"",fast:"",veryFast:"",ultraFast:"",digital:"",vinyl:"",preservePitch:"",vinylMode:"",presets:""},playlist:{title:"",playingNext:"",songs:"",empty:"",addSongs:"",importUrl:"",importLocal:"",remove:"",clear:"",songCount:"{count} ",selectAll:"",deleteSelected:"",done:"",addFromUrl:"",editList:""},search:{title:"",placeholder:"...",noResults:"",searching:"...",netease:"",bilibili:"",queue:"",playNow:"",addToQueue:""},lyrics:{noLyrics:"",loading:"...",failed:"",importLyrics:"",fontSize:"",effects:"",gradient:"",glow:"",shadow:""},visualizer:{label:"",toggle:"",memoryHint:" 5-10MB "},shortcuts:{title:"",subtitle:"",playPause:" / ",loopMode:"",seek:"/ 5",prevNext:" / ",volumeControl:"",speedControl:" 0.25x",speedPreset:"",resetSpeed:" (1x)",volumeDialog:"",speedDialog:"",searchDialog:"",togglePlaylist:"",toggleShortcuts:"",closeHint:"",pressEsc:""},import:{title:"",description:"",netease:"",or:"",internetArchive:"",directAudio:"",linkToAdd:"",placeholder:"https://music.163.com/...  https://archive.org/details/... ",cancel:"",import:"",importing:"..."},toast:{importSuccess:" {count} ",importFailed:"",fileImportSuccess:"",lyricsLoaded:"",lyricsFailed:"",speedChanged:" {speed}x"},topBar:{import:"",search:"",settings:"",theme:"",language:"",about:"",enterFullscreen:"",exitFullscreen:""},theme:{light:"",dark:"",auto:""}},qb={common:{confirm:"",cancel:"",close:"",save:"",delete:"",edit:"",search:"",loading:"...",error:"",success:"",done:""},about:{description:"",inspiredBy:"Apple Music",viewOnGitHub:"GitHub",createdBy:"SalixJFrost "},audioEffect:{none:"",noEffect:"",reverb:"",reverbEffect:"",echo:"",echoEffect:"",bass:"",bassBoost:"",off:""},spatialAudio:{title:"3D ",subtitle:"",on:"",off:"",active:"",inactive:"",presets:"",music:"",cinema:"",vocal:"",advanced:"",equalizer:"5",spatial:"",sub:"",bass:"",mid:"",highMid:"",treble:"",width:"",depth:"",height:"",roomSize:"",distance:"",disclaimer:" Dolby Atmos"},player:{play:"",pause:"",next:"",previous:"",shuffle:"",repeat:"",repeatOne:"1",volume:"",speed:"",settings:"",queue:"",lyrics:"",noMusicLoaded:"",welcomeTitle:"Lumison",selectSong:""},speed:{title:"",slow:"",normal:"",fast:"",veryFast:"",ultraFast:"",digital:"",vinyl:"",preservePitch:"",vinylMode:"",presets:""},playlist:{title:"",playingNext:"",songs:"",empty:"",addSongs:"",importUrl:"URL",importLocal:"",remove:"",clear:"",songCount:"{count} ",selectAll:"",deleteSelected:"",done:"",addFromUrl:"URL",editList:""},search:{title:"",placeholder:"...",noResults:"",searching:"...",netease:"Netease Music",bilibili:"Bilibili",queue:"",playNow:"",addToQueue:""},lyrics:{noLyrics:"",loading:"...",failed:"",importLyrics:"",fontSize:"",effects:"",gradient:"",glow:"",shadow:""},visualizer:{label:"",toggle:"",memoryHint:"5-10MB"},shortcuts:{title:"",subtitle:"",playPause:" / ",loopMode:"",seek:" 5",prevNext:" / ",volumeControl:"",speedControl:" 0.25x",speedPreset:"",resetSpeed:" (1x)",volumeDialog:"",speedDialog:"",searchDialog:"",togglePlaylist:"",toggleShortcuts:"",closeHint:"",pressEsc:""},import:{title:"",description:"",netease:"Netease Cloud Music",or:"",internetArchive:"Internet Archive",directAudio:"URL",linkToAdd:"",placeholder:"https://music.163.com/...  https://archive.org/details/... URL",cancel:"",import:"",importing:"..."},toast:{importSuccess:"{count} ",importFailed:"URL",fileImportSuccess:"",lyricsLoaded:"",lyricsFailed:"",speedChanged:" {speed}x "},topBar:{import:"",search:"",settings:"",theme:"",language:"",about:"",enterFullscreen:"",exitFullscreen:""},theme:{light:"",dark:"",auto:""}},sg={en:Hb,zh:Bb,ja:qb},jr={en:"English",zh:"",ja:""},Du=l=>sg[l]||sg.en,Yb=(l,i)=>l.replace(/\{(\w+)\}/g,(s,r)=>i[r]?.toString()||s),Gb=(l,i)=>{const s=i.split(".");let r=l;for(const u of s)if(r&&typeof r=="object"&&u in r)r=r[u];else return i;return typeof r=="string"?r:i},Vb=()=>{if(typeof navigator>"u")return"en";const l=navigator.language.toLowerCase();return l.startsWith("zh")?"zh":l.startsWith("ja")?"ja":"en"},Qb=()=>{if(typeof localStorage>"u")return null;const l=localStorage.getItem("lumison-locale");return l&&(l==="en"||l==="zh"||l==="ja")?l:null},Xb=l=>{typeof localStorage<"u"&&localStorage.setItem("lumison-locale",l)},Ap=x.createContext(void 0),Ib=({children:l})=>{const[i,s]=x.useState(()=>Qb()||Vb()),[r,u]=x.useState(()=>Du(i)),f=x.useCallback(p=>{s(p),u(Du(p)),Xb(p)},[]),h=x.useCallback((p,y)=>{const g=Gb(r,p);return y?Yb(g,y):g},[r]);return x.useEffect(()=>{u(Du(i))},[i]),d.jsx(Ap.Provider,{value:{locale:i,setLocale:f,t:h,translations:r},children:l})},Jn=()=>{const l=x.useContext(Ap);if(!l)throw new Error("useI18n must be used within an I18nProvider");return l},Zb=({isPlaying:l,onPlayPause:i,currentTime:s,duration:r,onSeek:u,title:f,artist:h,audioRef:p,onNext:y,onPrev:g,playMode:w,onToggleMode:b,onTogglePlaylist:_,accentColor:O,volume:R,onVolumeChange:A,speed:T,preservesPitch:N,onSpeedChange:q,onTogglePreservesPitch:Q,coverUrl:S,showVolumePopup:j,setShowVolumePopup:U,showSettingsPopup:k,setShowSettingsPopup:J,isBuffering:Y})=>{const{theme:P}=ms(),{t:F}=Jn(),ee=x.useRef(null),oe=x.useRef(null),ne=x.useRef(null),re=x.useRef(null),[z,I]=x.useState(!1),Z=x.useRef(!1),[{rotateX:fe,rotateY:le},E]=Il(()=>({rotateX:0,rotateY:0,config:{tension:300,friction:40}}));x.useEffect(()=>{if(p.current){if(re.current||Z.current){console.log("[Controls] Skipping spatial audio initialization - already initialized");return}Z.current=!0;try{const pe=new ts;pe.attachToAudioElement(p.current),pe.applyPreset("music"),pe.setEnabled(!1),re.current=pe;const Se=()=>{pe.resume()};document.addEventListener("click",Se,{once:!0})}catch(pe){console.error("[Controls] Failed to initialize spatial audio:",pe),Z.current=!1}return()=>{console.log("[Controls] Spatial audio cleanup (keeping engine for remount)")}}},[p]);const D=()=>{if(!re.current)return;const pe=!z;I(pe),re.current.setEnabled(pe)},ie=Qr(j,{from:{opacity:0,transform:"translate(-50%, 10px) scale(0.9)"},enter:{opacity:1,transform:"translate(-50%, 0px) scale(1)"},leave:{opacity:0,transform:"translate(-50%, 10px) scale(0.9)"},config:{tension:300,friction:20}}),ce=Qr(k,{from:{opacity:0,transform:"translate(-50%, 10px) scale(0.9)"},enter:{opacity:1,transform:"translate(-50%, 0px) scale(1)"},leave:{opacity:0,transform:"translate(-50%, 10px) scale(0.9)"},config:{tension:300,friction:20}}),[W,he]=x.useState(!1),[ae,ue]=x.useState(0),[me,Oe]=x.useState(!1),Me=x.useRef(0),[we,be]=x.useState(s),X=x.useRef(Date.now()),[ge,xe]=x.useState(0);x.useEffect(()=>{if(W||(me?Math.abs(s-Me.current)<.5&&(Oe(!1),be(s)):be(s),!l))return;let pe;const Se=()=>{const st=Date.now(),tt=(st-X.current)/1e3;X.current=st,l&&!W&&!me?be(nt=>{const Tt=nt+tt*T;return Math.min(Tt,r)}):l&&me&&be(nt=>{const Tt=nt+tt*T;return Math.min(Tt,r)}),pe=requestAnimationFrame(Se)};return X.current=Date.now(),pe=requestAnimationFrame(Se),()=>cancelAnimationFrame(pe)},[s,l,W,T,r,me]),x.useEffect(()=>{const pe=p.current;if(!pe)return;const Se=()=>{const tt=pe.duration;if(pe.buffered.length>0&&Number.isFinite(tt)&&tt>0){let nt=0;for(let Tt=0;Tt<pe.buffered.length;Tt++){const Et=pe.buffered.end(Tt);Et>nt&&(nt=Et)}xe(Math.min(nt,tt))}else xe(0)},st=()=>{xe(0)};return Se(),pe.addEventListener("progress",Se),pe.addEventListener("loadeddata",Se),pe.addEventListener("canplaythrough",Se),pe.addEventListener("durationchange",Se),pe.addEventListener("emptied",st),pe.addEventListener("loadstart",st),()=>{pe.removeEventListener("progress",Se),pe.removeEventListener("loadeddata",Se),pe.removeEventListener("canplaythrough",Se),pe.removeEventListener("durationchange",Se),pe.removeEventListener("emptied",st),pe.removeEventListener("loadstart",st)}},[p]);const _e=W?ae:we,[Ce,je]=Il(()=>({scale:l?1.04:.94,boxShadow:l?"0 20px 35px rgba(0,0,0,0.55)":"0 10px 20px rgba(0,0,0,0.45)",config:{tension:300,friction:28}}));x.useEffect(()=>{je.start({scale:l?1.04:.94,boxShadow:l?"0 20px 35px rgba(0,0,0,0.55)":"0 10px 20px rgba(0,0,0,0.45)",config:{tension:300,friction:28}})},[l,je]),x.useEffect(()=>{if(!S)return;je.start({scale:.96,config:{tension:320,friction:24}});const pe=window.setTimeout(()=>{je.start({scale:l?1.04:.94,boxShadow:l?"0 20px 35px rgba(0,0,0,0.55)":"0 10px 20px rgba(0,0,0,0.45)",config:{tension:260,friction:32}})},180);return()=>clearTimeout(pe)},[S,l,je]),x.useEffect(()=>{const pe=Se=>{ee.current&&!ee.current.contains(Se.target)&&U(!1),oe.current&&!oe.current.contains(Se.target)&&J(!1)};return document.addEventListener("mousedown",pe),()=>document.removeEventListener("mousedown",pe)},[U,J]),x.useEffect(()=>{if(!j&&!k)return;const pe=Se=>{Se.preventDefault();const st=Se.deltaY>0?-1:1;if(j){const nt=Math.min(Math.max(R+st*.05,0),1);A(Number(nt.toFixed(2)))}else if(k){const nt=Math.min(Math.max(T+st*.01,.5),3);q(Number(nt.toFixed(2)))}};return window.addEventListener("wheel",pe,{passive:!1}),()=>window.removeEventListener("wheel",pe)},[j,k,R,T,A,q]);const Ge=()=>{const pe=P==="light"?"w-5 h-5 text-black/60 hover:text-black transition-colors":"w-5 h-5 text-white/60 hover:text-white transition-colors";switch(w){case en.LOOP_ONE:return d.jsxs("div",{className:"relative",children:[d.jsx(mb,{className:pe}),d.jsx("span",{className:`absolute -top-1 -right-1 text-[8px] font-bold rounded-[2px] px-0.5 leading-none ${P==="light"?"bg-black text-white":"bg-white text-black"}`,children:"1"})]});case en.SHUFFLE:return d.jsx(gb,{className:pe});default:return d.jsx(pb,{className:pe})}},Ue=()=>R===0?d.jsx(yb,{className:"w-5 h-5"}):R<.5?d.jsx(vb,{className:"w-5 h-5"}):d.jsx(xb,{className:"w-5 h-5"}),Pe=()=>R===0?d.jsx(bb,{className:"w-4 h-4"}):R<.5?d.jsx(wb,{className:"w-4 h-4"}):d.jsx(Sb,{className:"w-4 h-4"}),bt=Il({scale:l?1.02:.97,config:{tension:l?320:260,friction:l?22:30},immediate:!1}),et=pe=>{if(!ne.current)return;const Se=ne.current.getBoundingClientRect(),st=pe.clientX-Se.left,tt=pe.clientY-Se.top,nt=Se.width/2,Tt=Se.height/2,Et=(tt-Tt)/Tt*-10,ht=(st-nt)/nt*10;E.start({rotateX:Et,rotateY:ht,config:{tension:300,friction:40}})},dt=()=>{E.start({rotateX:0,rotateY:0,config:{tension:200,friction:30}})},pn=r>0?Math.min(100,Math.max(0,ge/r*100)):0;return d.jsxs("div",{className:"w-full flex flex-col items-center justify-center gap-2 theme-text-primary select-none",children:[d.jsx("div",{ref:ne,onMouseMove:et,onMouseLeave:dt,style:{perspective:"1000px"},className:"mb-6",children:d.jsxs($n.div,{style:{boxShadow:Ce.boxShadow,transform:Ex([Ce.scale,bt.scale,fe,le],(pe,Se,st,tt)=>`scale(${pe*Se}) rotateX(${st}deg) rotateY(${tt}deg)`),transformStyle:"preserve-3d"},className:"relative aspect-square w-64 md:w-72 lg:w-80 rounded-3xl bg-gradient-to-br from-gray-800 to-gray-900 shadow-lg shadow-black/30 ring-1 ring-white/10 overflow-hidden",children:[S?d.jsx(Zr,{src:S,alt:"Album Art",containerClassName:"absolute inset-0",imgClassName:"w-full h-full object-cover",loading:"eager"}):d.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center theme-text-tertiary",children:[d.jsx("div",{className:"text-8xl mb-4 opacity-50",children:""}),d.jsx("p",{className:"text-sm",children:F("player.noMusicLoaded")})]}),d.jsx("div",{className:"absolute inset-0 bg-gradient-to-tr from-white/10 to-transparent pointer-events-none"})]})}),d.jsxs("div",{className:"text-center mb-2 px-4 select-text cursor-text",children:[d.jsx("h2",{className:"text-3xl font-bold tracking-tight drop-shadow-md line-clamp-1 theme-text-primary",children:f}),d.jsx("p",{className:"text-xl font-medium line-clamp-1 theme-text-secondary",children:h})]}),visualizerEnabled&&d.jsx("div",{className:"w-full max-w-xl flex justify-center h-12 mb-3",children:d.jsx(fb,{audioRef:p,isPlaying:l,spatialEngine:re.current})}),d.jsxs("div",{className:"w-full max-w-xl flex items-center gap-3 text-sm font-medium theme-text-secondary group/bar relative",children:[d.jsx("span",{className:"w-12 text-right font-mono tracking-wide",children:ig(_e)}),d.jsxs("div",{className:"relative flex-1 h-10 flex items-center cursor-pointer group",children:[d.jsx("div",{className:"absolute inset-x-0 h-1 theme-bg-overlay rounded-full group-hover:h-1.5 transition-[height] duration-200 ease-out"}),d.jsx("div",{className:"absolute left-0 h-1 rounded-full group-hover:h-1.5 transition-[height] duration-200 ease-out",style:{width:pn+"%",backgroundColor:P==="light"?"rgba(0,0,0,0.4)":"rgba(255,255,255,0.4)",transition:"background-color 1.2s cubic-bezier(0.25, 0.1, 0.25, 1), height 0.2s ease-out"}}),d.jsx("div",{className:"absolute left-0 h-1 rounded-full group-hover:h-1.5 transition-[height] duration-200 ease-out",style:{width:`${_e/(r||1)*100}%`,backgroundColor:P==="light"?"rgba(0,0,0,1)":"rgba(255,255,255,1)",transition:"background-color 1.2s cubic-bezier(0.25, 0.1, 0.25, 1), height 0.2s ease-out"}}),d.jsx("input",{id:"progress-range",type:"range",min:0,max:r||0,value:_e,onMouseDown:()=>he(!0),onTouchStart:()=>he(!0),onChange:pe=>{const Se=parseFloat(pe.target.value);ue(Se),u(Se,!1,!0)},onMouseUp:pe=>{const Se=parseFloat(pe.target.value);u(Se,!1,!1),he(!1),be(Se),Me.current=Se,Oe(!0),setTimeout(()=>Oe(!1),1e3)},onTouchEnd:pe=>{const Se=parseFloat(pe.target.value);u(Se,!1,!1),he(!1),be(Se),Me.current=Se,Oe(!0),setTimeout(()=>Oe(!1),1e3)},className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer z-20"})]}),d.jsx("span",{className:"w-12 font-mono tracking-wide",children:r>0?`-${ig(Math.max(0,r-_e))}`:"0:00"})]}),d.jsx("div",{className:"w-full max-w-[440px] mt-6 px-2",children:d.jsxs("div",{className:"flex items-center justify-between w-full",children:[d.jsx("button",{onClick:b,className:"p-2.5 rounded-full theme-bg-overlay hover:theme-bg-overlay-hover transition-colors",title:F("player.repeat"),children:Ge()}),d.jsxs("div",{className:"relative",ref:ee,children:[d.jsx("button",{onClick:()=>U(!j),className:`p-2.5 rounded-full transition-colors ${j?P==="light"?"text-black theme-bg-overlay":"text-white theme-bg-overlay":P==="light"?"text-black/60 hover:text-black theme-bg-overlay hover:theme-bg-overlay-hover":"text-white/60 hover:text-white theme-bg-overlay hover:theme-bg-overlay-hover"}`,title:F("player.volume"),children:Ue()}),ie((pe,Se)=>Se?d.jsx(Kb,{style:pe,volume:R,onVolumeChange:A,getVolumePopupIcon:Pe}):null)]}),d.jsx("button",{onClick:g,className:"w-14 h-14 flex items-center justify-center rounded-full theme-bg-overlay hover:theme-bg-overlay-hover active:scale-95 transition-all duration-200","aria-label":F("player.previous"),children:d.jsx(Eb,{className:"w-7 h-7"})}),d.jsx("button",{onClick:i,className:`w-16 h-16 flex items-center justify-center rounded-full hover:scale-105 active:scale-95 shadow-lg ${P==="light"?"bg-black text-white shadow-black/10":"bg-white text-black shadow-white/10"}`,style:{transition:"background-color 1.2s cubic-bezier(0.25, 0.1, 0.25, 1), color 1.2s cubic-bezier(0.25, 0.1, 0.25, 1), transform 0.2s"},"aria-label":F(l?"player.pause":"player.play"),children:d.jsxs("div",{className:"relative w-7 h-7",children:[d.jsx(Tb,{className:`absolute inset-0 w-full h-full transition-all duration-300 ease-[cubic-bezier(0.34,1.56,0.64,1)] ${l?"opacity-100 scale-100 rotate-0":"opacity-0 scale-50 -rotate-90"}`}),d.jsx(Zi,{className:`absolute inset-0 w-full h-full transition-all duration-300 ease-[cubic-bezier(0.34,1.56,0.64,1)] ${l?"opacity-0 scale-50 rotate-90":"opacity-100 scale-100 rotate-0"}`})]})}),d.jsx("button",{onClick:y,className:"w-14 h-14 flex items-center justify-center rounded-full theme-bg-overlay hover:theme-bg-overlay-hover active:scale-95 transition-all duration-200","aria-label":F("player.next"),children:d.jsx(Ab,{className:"w-7 h-7"})}),d.jsxs("div",{className:"relative",ref:oe,children:[d.jsx("button",{onClick:()=>J(!k),className:`p-2.5 rounded-full transition-colors ${k?P==="light"?"text-black theme-bg-overlay":"text-white theme-bg-overlay":P==="light"?"text-black/60 hover:text-black theme-bg-overlay hover:theme-bg-overlay-hover":"text-white/60 hover:text-white theme-bg-overlay hover:theme-bg-overlay-hover"}`,title:F("player.settings"),children:d.jsx(Tp,{className:"w-5 h-5"})}),ce((pe,Se)=>Se?d.jsx(Fb,{style:pe,speed:T,preservesPitch:N,onTogglePreservesPitch:Q,onSpeedChange:q,audioRef:p,isPlaying:l,spatialAudioEnabled:z,onToggleSpatialAudio:D}):null)]}),d.jsx("button",{onClick:_,className:`p-2.5 rounded-full transition-colors ${P==="light"?"text-black/60 hover:text-black theme-bg-overlay hover:theme-bg-overlay-hover":"text-white/60 hover:text-white theme-bg-overlay hover:theme-bg-overlay-hover"}`,title:F("player.queue"),children:d.jsx(wp,{className:"w-5 h-5"})})]})})]})},Kb=({style:l,volume:i,onVolumeChange:s,getVolumePopupIcon:r})=>{const{height:u}=Il({height:i*100,config:{tension:210,friction:20,clamp:!0}});return d.jsx($n.div,{style:l,className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-8 z-50 w-[52px] h-[150px] rounded-[26px] p-1.5 bg-black/10 backdrop-blur-[100px] saturate-150 shadow-[0_20px_50px_rgba(0,0,0,0.3)] border border-white/5 flex flex-col cursor-auto",children:d.jsxs("div",{className:"relative w-full flex-1 rounded-[20px] bg-white/20 overflow-hidden backdrop-blur-[28px]",children:[d.jsx($n.div,{className:"absolute bottom-0 w-full bg-white",style:{height:u.to(f=>`${f}%`)}}),d.jsx("input",{id:"volume-slider",type:"range",min:"0",max:"1",step:"0.01",value:i,onChange:f=>s(parseFloat(f.target.value)),className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer touch-none",style:{WebkitAppearance:"slider-vertical",appearance:"slider-vertical"}}),d.jsx("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 pointer-events-none text-white mix-blend-difference",children:r()})]})})},Fb=({style:l,preservesPitch:i,onTogglePreservesPitch:s,speed:r,onSpeedChange:u,spatialAudioEnabled:f,onToggleSpatialAudio:h})=>{const{t:p}=Jn(),{speedH:y}=Il({speedH:(r-.5)/2.5*100,config:{tension:210,friction:20}}),[g,w]=Gl.useState("none"),b=[.5,.75,1,1.25,1.5,2,2.5,3],[_,O]=Gl.useState(!1),[R,A]=Gl.useState(!1),T=Gl.useRef(0),N=Gl.useRef(r),q=j=>{A(!0),T.current=j.touches[0].clientY,N.current=r},Q=j=>{if(!R)return;const k=(T.current-j.touches[0].clientY)/150*2.5,J=Math.min(Math.max(N.current+k,.5),3);u(Number(J.toFixed(2)))},S=()=>{A(!1)};return d.jsxs($n.div,{style:l,className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-8 z-50 p-4 rounded-[26px] bg-black/10 backdrop-blur-[100px] saturate-150 shadow-[0_20px_50px_rgba(0,0,0,0.3)] border border-white/5 flex gap-4 cursor-auto",children:[d.jsxs("div",{className:"flex flex-col items-center gap-2 w-12 relative",children:[d.jsxs("div",{className:"h-[150px] w-full relative rounded-[20px] bg-white/20 overflow-hidden backdrop-blur-[28px]",onTouchStart:q,onTouchMove:Q,onTouchEnd:S,children:[d.jsx($n.div,{className:"absolute bottom-0 w-full bg-white",style:{height:y.to(j=>`${j}%`)}}),d.jsx("input",{id:"speed-slider",type:"range",min:"0.5",max:"3",step:"0.01",value:r,onChange:j=>u(parseFloat(j.target.value)),className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer touch-none",style:{WebkitAppearance:"slider-vertical",appearance:"slider-vertical"}}),d.jsxs("div",{className:"absolute bottom-2 left-1/2 -translate-x-1/2 pointer-events-none text-[10px] font-bold text-white mix-blend-difference",children:[r.toFixed(2),"x"]})]}),d.jsx("button",{onClick:()=>O(!_),className:"text-[10px] font-medium text-white/60 hover:text-white/90 transition-colors",children:p("player.speed")}),_&&d.jsx("div",{className:"absolute top-0 left-full ml-2 p-2 rounded-2xl bg-black/10 backdrop-blur-[100px] saturate-150 shadow-[0_20px_50px_rgba(0,0,0,0.3)] border border-white/5 flex flex-col gap-1 max-h-[200px] overflow-y-auto",children:b.map(j=>d.jsxs("button",{onClick:()=>{u(j),O(!1)},className:`px-3 py-1.5 rounded-lg text-[10px] font-bold transition-colors whitespace-nowrap ${Math.abs(r-j)<.01?"bg-white text-black":"bg-white/10 text-white hover:bg-white/20"}`,children:[j,"x"]},j))})]}),d.jsxs("div",{className:"flex flex-col items-center justify-end gap-2 w-12 pb-6",children:[d.jsx("button",{onClick:s,className:`w-12 h-12 rounded-full flex items-center justify-center transition-colors duration-200 ${i?"bg-white text-black":"bg-white/20 text-white"}`,title:p(i?"speed.preservePitch":"speed.vinylMode"),children:d.jsx("span",{className:"text-xs font-bold",children:i?p("speed.digital").substring(0,3):p("speed.vinyl").substring(0,3)})}),d.jsx("span",{className:"text-[10px] font-medium text-white/60 text-center leading-tight",children:p(i?"speed.digital":"speed.vinyl")})]}),d.jsxs("div",{className:"flex flex-col items-center justify-end gap-2 w-12 pb-6",children:[d.jsx("button",{onClick:()=>{const j=["none","reverb","echo","bass"],k=(j.indexOf(g)+1)%j.length;w(j[k]),console.log("Audio effect changed to:",j[k])},className:`w-12 h-12 rounded-full flex items-center justify-center transition-colors duration-200 ${g==="none"?"bg-white/20 text-white":"bg-white text-black"}`,title:p(g==="none"?"audioEffect.noEffect":g==="reverb"?"audioEffect.reverbEffect":g==="echo"?"audioEffect.echoEffect":"audioEffect.bassBoost"),children:d.jsx("span",{className:"text-xs font-bold",children:g==="none"?p("audioEffect.off").substring(0,3):g==="reverb"?p("audioEffect.reverb").substring(0,3):g==="echo"?p("audioEffect.echo").substring(0,3):p("audioEffect.bass").substring(0,3)})}),d.jsx("span",{className:"text-[10px] font-medium text-white/60 text-center leading-tight",children:p(g==="none"?"audioEffect.none":g==="reverb"?"audioEffect.reverb":g==="echo"?"audioEffect.echo":"audioEffect.bass")})]}),d.jsxs("div",{className:"flex flex-col items-center justify-end gap-2 w-12 pb-6",children:[d.jsx("button",{onClick:h,className:`w-12 h-12 rounded-full flex items-center justify-center transition-colors duration-200 ${f?"bg-white text-black":"bg-white/20 text-white"}`,title:p("spatialAudio.title"),children:d.jsx("span",{className:"text-xs font-bold",children:"3D"})}),d.jsx("span",{className:"text-[10px] font-medium text-white/60 text-center leading-tight",children:p(f?"spatialAudio.on":"spatialAudio.off")})]})]})},rg={mass:1,stiffness:120,damping:20,precision:.01},Wb={mass:1,stiffness:100,damping:25,precision:.1},$b={mass:1,stiffness:120,damping:20,precision:.001};class Mp{constructor(i){this.current={},this.target={},this.velocity={},this.config={},this.current={...i},this.target={...i},Object.keys(i).forEach(s=>this.velocity[s]=0)}setTarget(i,s,r=rg){this.target[i]=s,this.config[i]=r,this.velocity[i]===void 0&&(this.velocity[i]=0),this.current[i]===void 0&&(this.current[i]=s)}setValue(i,s){this.current[i]=s,this.target[i]=s,this.velocity[i]=0}setVelocity(i,s){this.velocity[i]=s}getCurrent(i){return this.current[i]||0}getTarget(i){return this.target[i]||0}getVelocity(i){return this.velocity[i]||0}update(i){let s=!1;return Object.keys(this.current).forEach(r=>{const u=this.config[r]||rg,f=this.current[r],h=this.target[r]??f,p=this.velocity[r]??0,y=f-h,g=-u.stiffness*y,w=-u.damping*p,b=(g+w)/u.mass,_=p+b*i,O=f+_*i,R=u.precision??.001;Math.abs(_)<R&&Math.abs(O-h)<R?(this.current[r]=h,this.velocity[r]=0):(this.current[r]=O,this.velocity[r]=_,s=!0)}),s}}const cg=()=>typeof performance<"u"?performance.now():Date.now(),Jb=l=>{if(l<=0)return{mass:1,stiffness:1200,damping:60,precision:.1};const i=l;if(i>8)return{mass:1,stiffness:40,damping:20,precision:.1};const r=Math.max(25,300*Math.pow(.5,i)),u=Math.sqrt(r)*1.15;return{mass:1,stiffness:r,damping:u,precision:.1}},Pb={mass:1,stiffness:120,damping:25,precision:.001},og={mass:.9,stiffness:135,damping:34,precision:.01},Uu=(l,i,s)=>Math.min(Math.max(l,i),s),e2=1.2,t2=8e3,n2=8,Nr=2e3,a2=12,l2=.5,ug=(l,i)=>{const s=Math.abs(l),r=Math.max(i,1);return(1-1/(s*e2/r+1))*r*Math.sign(l)},i2=({lyrics:l,audioRef:i,currentTime:s,isMobile:r,containerHeight:u,linePositions:f,lineHeights:h,marginY:p})=>{const[y,g]=x.useState(-1),w=x.useRef(new Map),b=x.useRef(new Mp({scrollY:0})),_=x.useRef({min:0,max:0}),O=x.useRef(-1),R=3e3,A=x.useRef({isDragging:!1,lastInteractionTime:cg()-R-10,touchStartY:0,touchLastY:0,touchVelocity:0,targetScrollY:0}),T=x.useCallback((j,U=!1)=>{const{min:k,max:J}=_.current;return U?j<k?k-ug(k-j,u||1):j>J?J+ug(j-J,u||1):j:J<=k?k:Uu(j,k,J)},[u]),N=x.useCallback(()=>{A.current.lastInteractionTime=cg()-R-10,A.current.isDragging=!1,A.current.touchVelocity=0;const j=b.current.getCurrent("scrollY"),U=T(j,!1);A.current.targetScrollY=U,b.current.setValue("scrollY",U)},[T]);x.useEffect(()=>{const j=new Map;l.forEach((U,k)=>{const J=f[k]||0;j.set(k,{posY:{current:J,velocity:0,target:J},scale:{current:1,velocity:0,target:1}})}),w.current=j},[l,f]),x.useEffect(()=>{b.current.setValue("scrollY",0),A.current.targetScrollY=0,N()},[l,f,N]),x.useEffect(()=>{if(!l.length){y!==-1&&g(-1);return}let j=-1;for(let U=0;U<l.length;U++){const k=l[U];if(!k.isMetadata)if(s>=k.time)j=U;else break}j!==y&&g(j)},[s,l,y]);const q=(j,U,k)=>{const J=j.current-j.target,Y=-U.stiffness*J,P=-U.damping*j.velocity,F=(Y+P)/U.mass;j.velocity+=F*k,j.current+=j.velocity*k,Math.abs(j.velocity)<(U.precision||.01)&&Math.abs(J)<(U.precision||.01)&&(j.current=j.target,j.velocity=0)},Q=x.useCallback((j,U)=>{const k=performance.now(),J=A.current,Y=b.current,P=U&&U.length>0?U:h,F=O.current;let ee=0;F!==-1&&y!==-1?ee=Math.abs(y-F):F!==-1&&y===-1&&(ee=F+1),O.current=y;const oe=ee>5,ne=k-J.lastInteractionTime,re=J.isDragging||ne<R,{min:z,max:I}=_.current,Z=()=>{if(y===-1)return 0;let we=0;for(let xe=0;xe<y;xe++)we+=P[xe];const be=P[y]||0,X=y*p,ge=be/2;return we+X+ge},fe=Y.getCurrent("scrollY"),le=Math.abs(J.touchVelocity)>n2,E=J.isDragging||le;if(re)if(J.isDragging){const we=T(fe,!0);Y.setValue("scrollY",we),J.targetScrollY=we}else if(le){const we=fe+J.touchVelocity*j,be=T(we,!0);if(Y.setValue("scrollY",be),be!==we)J.touchVelocity=0;else{const X=t2*j;Math.abs(J.touchVelocity)<=X?J.touchVelocity=0:J.touchVelocity-=Math.sign(J.touchVelocity)*X}J.targetScrollY=Y.getCurrent("scrollY")}else{const we=T(fe,!1);J.targetScrollY=we,Y.setTarget("scrollY",we,og)}else{const we=T(Z(),!1);Y.setTarget("scrollY",we,Wb),J.targetScrollY=we}Y.update(j);const D=Y.getCurrent("scrollY"),ie=re,ce=Y.getVelocity("scrollY"),W=E?J.touchVelocity:ce,he=D<z||D>I,ae=!E&&!he?Math.min(Math.max(W*.002,-.5),.5):0;let ue=0;const me=[];let Oe=0;P.forEach((we,be)=>{me.push(ue),ue+=we;const X=be*p,ge=ue+X;ge>Oe&&(Oe=ge)});const Me=Math.max(0,Oe-u*.1);_.current={min:0,max:Number.isFinite(Me)?Me:0},w.current.forEach((we,be)=>{const ge=(be-(y===-1?0:y))*(p*ae),xe=me[be];typeof xe=="number"&&(we.posY.target=-D+xe+be*p+ge);const _e=we.posY.current-we.posY.target;if(E)we.posY.current=we.posY.target,we.posY.velocity=0;else if(oe||Math.abs(_e)>u*.5)we.posY.current=we.posY.target,we.posY.velocity=0;else{let je;const Ge=we.posY.target>we.posY.current+1;if(ie)je={mass:.5,stiffness:400,damping:35,precision:.1};else if(Ge)je={mass:1,stiffness:350,damping:40,precision:.1};else{const Ue=be-y;je=Jb(Ue)}q(we.posY,je,j)}const Ce=be===y?1.03:1;we.scale.target=Ce,E||oe?(we.scale.current=Ce,we.scale.velocity=0):q(we.scale,Pb,j)})},[y,T,u,f,h]);return{activeIndex:y,handlers:{onTouchStart:j=>{A.current.isDragging=!0,A.current.lastInteractionTime=performance.now();const U="touches"in j?j.touches[0].clientY:j.clientY;A.current.touchStartY=U,A.current.touchLastY=U,A.current.touchVelocity=0;const k=b.current.getCurrent("scrollY");A.current.targetScrollY=k,b.current.setValue("scrollY",k)},onTouchMove:j=>{if(!A.current.isDragging)return;const U="touches"in j?j.touches[0].clientY:j.clientY,k=A.current.touchLastY-U,J=b.current,Y=J.getCurrent("scrollY")+k,P=T(Y,!0);J.setValue("scrollY",P),A.current.touchLastY=U,A.current.touchVelocity=k*60,A.current.lastInteractionTime=performance.now(),A.current.targetScrollY=P},onTouchEnd:()=>{A.current.isDragging=!1,A.current.lastInteractionTime=performance.now(),A.current.targetScrollY=b.current.getCurrent("scrollY")},onWheel:j=>{j.preventDefault();const U=b.current,k=performance.now(),J=j.deltaY*l2,Y=A.current.targetScrollY+J,P=T(Y,!0);A.current.targetScrollY=P,U.setTarget("scrollY",P,og),A.current.lastInteractionTime=k,A.current.isDragging=!1;const F=Uu(J*a2,-Nr,Nr),ee=Uu(A.current.touchVelocity+F,-Nr,Nr);A.current.touchVelocity=ee},onClick:()=>{N()}},linesState:w,updatePhysics:Q}},s2=({onRender:l})=>{const i=x.useRef(null),s=x.useRef(0),r=x.useRef(0),u=x.useRef(l);return x.useLayoutEffect(()=>{u.current=l}),x.useEffect(()=>{const f=i.current;if(!f)return;const h=f.getContext("2d",{alpha:!0});if(!h)return;const p=()=>{if(!f)return;const g=f.parentElement;if(g){const w=window.devicePixelRatio||1,b=g.getBoundingClientRect();(f.width!==b.width*w||f.height!==b.height*w)&&(f.width=b.width*w,f.height=b.height*w,f.style.width=`${b.width}px`,f.style.height=`${b.height}px`,h.resetTransform(),h.scale(w,w))}};p(),window.addEventListener("resize",p);const y=g=>{if(r.current!==void 0){const w=g-r.current,b=f.width/(window.devicePixelRatio||1),_=f.height/(window.devicePixelRatio||1);h.clearRect(0,0,b,_),u.current(h,b,_,w)}r.current=g,s.current=requestAnimationFrame(y)};return s.current=requestAnimationFrame(y),()=>{window.removeEventListener("resize",p),cancelAnimationFrame(s.current)}},[]),i},fg={blur:4,intensity:1.3},r2={wavelength:3},c2=.25,dg=l=>/[\u4e00-\u9fa5\u3040-\u30ff\uac00-\ud7af]/.test(l)?"zh":"en",ku=(l,i)=>{const s=i||(l?32:40),r=Math.round(s*.55);return{main:`800 ${s}px "PingFang SC", "Inter", sans-serif`,trans:`500 ${r}px "PingFang SC", "Inter", sans-serif`,mainHeight:s,transHeight:r*1.3}};class o2{constructor(i,s,r,u,f,h,p,y){this.layout=null,this._height=0,this.lastIsActive=!1,this.lastIsHovered=!1,this.isDirty=!0,this.logicalWidth=0,this.logicalHeight=0,this.cachedWordKey="",this.theme="dark",this.enableBlur=!1,this.enableGlow=!1,this.enableShadow=!0,this.lyricLine=i,this.isMobile=r,this.customFontSize=u,this.theme=f||"dark",this.enableBlur=h??!1,this.enableGlow=p??!1,this.enableShadow=y??!0,this.pixelRatio=typeof window<"u"&&window.devicePixelRatio||1,this.canvas=document.createElement("canvas"),this.wordCacheCanvas=document.createElement("canvas");const g=this.canvas.getContext("2d"),w=this.wordCacheCanvas.getContext("2d");if(!g||!w)throw new Error("Could not get canvas context");this.ctx=g,this.wordCacheCtx=w}getThemeColors(){return this.theme==="light"?{active:"#000000",inactive:"rgba(0, 0, 0, 0.3)",translation:"rgba(0, 0, 0, 0.5)",hover:"rgba(0, 0, 0, 0.08)",shadow:"rgba(0, 0, 0, 0.8)"}:{active:"#FFFFFF",inactive:"rgba(255, 255, 255, 0.3)",translation:"rgba(255, 255, 255, 0.5)",hover:"rgba(255, 255, 255, 0.08)",shadow:"rgba(255, 255, 255, 0.8)"}}setTheme(i){this.theme!==i&&(this.theme=i,this.isDirty=!0,this.cachedWordKey="")}drawFullLine({currentTime:i,isActive:s,isHovered:r,hasTimedWords:u,mainFont:f,transFont:h,mainHeight:p,transHeight:y,paddingX:g}){if(!this.layout)return;const w=this.getThemeColors();if(this.ctx.clearRect(0,0,this.logicalWidth,this.logicalHeight),this.ctx.save(),this.ctx.font=f,this.ctx.textBaseline="top",this.ctx.translate(g,0),r){this.ctx.fillStyle=w.hover;const q=Math.max(this.layout.textWidth+32,200);this.roundRect(-16,0,q,this.layout.height,16),this.ctx.fill()}let b=null,_=[];if(s&&u){const q=this.layout.words.findIndex(S=>i>=S.startTime&&i<S.endTime);let Q=null;if(q!==-1)Q=this.layout.words[q];else{const S=this.layout.words.findIndex(j=>j.startTime>i);S>0?Q=this.layout.words[S-1]:S===-1?Q=this.layout.words[this.layout.words.length-1]:Q=this.layout.words[0]}if(Q)if(b=Q.y,_=this.layout.words.filter(S=>Math.abs(S.y-b)<5),q!==-1){const S=this.layout.words[q],j=(i-S.startTime)/(S.endTime-S.startTime);S.x+S.width*j}else{const S=this.layout.words.findIndex(j=>j.startTime>i);if(S>0)this.layout.words[S-1].x+this.layout.words[S-1].width;else if(S===-1){const j=this.layout.words[this.layout.words.length-1];j.x+j.width}}}this.enableShadow&&s?(this.ctx.shadowColor="rgba(0, 0, 0, 0.3)",this.ctx.shadowBlur=8,this.ctx.shadowOffsetX=0,this.ctx.shadowOffsetY=2):(this.ctx.shadowColor="transparent",this.ctx.shadowBlur=0),this.enableBlur&&!s?this.ctx.filter="blur(2px)":this.ctx.filter="none";const O=this.layout.words[0],R=this.layout.words[this.layout.words.length-1];O&&R&&R.endTime-O.startTime;const A=this.layout.words.length;let T=0;for(const q of this.layout.words)q.endTime-q.startTime<.2&&T++;const N=A>0&&T/A>.9;if(s&&(!u||N)?(this.ctx.fillStyle=w.active,this.layout.words.forEach(q=>this.ctx.fillText(q.text,q.x,q.y))):s&&b!==null&&_.length>0?(this.ctx.fillStyle=w.inactive,this.layout.words.forEach(q=>{Math.abs(q.y-b)>=5&&(q.y<b?(this.ctx.fillStyle=w.active,this.ctx.fillText(q.text,q.x,q.y-2)):(this.ctx.fillStyle=w.inactive,this.ctx.fillText(q.text,q.x,q.y)))}),this.drawActiveWords(_,i)):(this.ctx.fillStyle=w.inactive,this.layout.words.forEach(q=>this.ctx.fillText(q.text,q.x,q.y))),this.layout.translationLines&&this.layout.translationLines.length>0){this.ctx.font=h,this.ctx.fillStyle=w.translation;let Q=(this.layout.words.length>0?this.layout.words[this.layout.words.length-1].y:0)+p*1.2;this.layout.translationLines.forEach(S=>{this.ctx.fillText(S,0,Q),Q+=y})}this.ctx.restore()}drawActiveWords(i,s){const f=this.getThemeColors();i.forEach(h=>{const p=h.endTime-h.startTime,y=s-h.startTime,g=y>=0&&y<p;if(h.text.length<=7&&p>1.5&&g){this.ctx.save(),this.ctx.translate(h.x,h.y);let w=1;const b=.2,_=Math.max(0,p-b);if(y<b)w=Math.min(1,y/b),w=1-Math.pow(1-w,3);else if(y>_){const O=(y-_)/b;w=Math.max(0,1-O)}this.drawGlowAnimation(h,y,p,w),this.ctx.restore()}else{let w=0;if(y>0){const b=Math.min(1,y/.25);w=-2*(b<.5?2*b*b:1-Math.pow(-2*b+2,2)/2)}if(this.ctx.save(),this.ctx.translate(h.x,h.y+w),y>=p)this.ctx.fillStyle=f.active,this.ctx.fillText(h.text,0,0);else if(y<0)this.ctx.fillStyle=f.inactive,this.ctx.fillText(h.text,0,0);else{const b=this.ctx.createLinearGradient(0,0,h.width,0),_=y/p;b.addColorStop(Math.max(0,_),f.active),b.addColorStop(Math.min(1,_+.15),f.inactive),this.ctx.fillStyle=b,this.ctx.fillText(h.text,0,0)}this.ctx.restore()}})}easeProgress(i,s){if(i.renderProgress===void 0)i.renderProgress=s;else{const r=s-i.renderProgress,u=.15+Math.abs(r)*.2;i.renderProgress+=r*Math.min(u,.4)}return Math.max(0,Math.min(1,i.renderProgress))}computeBreathEnvelope(i,s,r){if(i<.2){const f=i/.2;return 1-Math.pow(1-f,3)}return 1}computeWaveActivation(i,s,r){const{wavelength:u}=r2,f=r*(s+u*1.5)-u*.5,h=i-f,p=u/2.5,y=Math.exp(-(h*h)/(2*p*p));let g=0;if(h<-u*.5)g=1;else if(h>u)g=0;else{const w=(-h+u)/(1.5*u);g=Math.max(0,Math.min(1,w*w*(3-2*w)))}return{activation:g,waveIntensity:y}}applyGlow(i,s){if(!this.enableGlow||i<.01){this.ctx.shadowBlur=0,this.ctx.shadowColor="transparent";return}const r=this.getThemeColors(),u=s||r.shadow,f=fg.blur*(.4+.6*Math.pow(i,.8)),h=fg.intensity*i;this.ctx.shadowColor=u.replace("0.8",String(h)),this.ctx.shadowBlur=f}drawGlowAnimation(i,s,r,u){const f=i.text.split(""),h=this.getThemeColors();if(f.length===0)return;const p=f.length,y=Math.max(0,Math.min(1,s/r)),{main:g,mainHeight:w}=ku(this.isMobile,this.customFontSize);if(!i.charWidths||!i.charOffsets){const{charWidths:j,charOffsets:U}=this.computeCharMetrics(i.text,w);i.charWidths=j,i.charOffsets=U}if(this.cachedWordKey!==i.text){const U=Math.ceil(i.width*this.pixelRatio)+20,k=Math.ceil(w*1.5*this.pixelRatio);(this.wordCacheCanvas.width<U||this.wordCacheCanvas.height<k)&&(this.wordCacheCanvas.width=U,this.wordCacheCanvas.height=k),this.wordCacheCtx.clearRect(0,0,this.wordCacheCanvas.width,this.wordCacheCanvas.height),this.wordCacheCtx.save(),this.wordCacheCtx.scale(this.pixelRatio,this.pixelRatio),this.wordCacheCtx.font=g,this.wordCacheCtx.textBaseline="top",this.wordCacheCtx.fillStyle=h.active,this.wordCacheCtx.fillText(i.text,0,0),this.wordCacheCtx.restore(),this.cachedWordKey=i.text}const b=[],_=[],O=[];let R=0;const A=-2;f.forEach((j,U)=>{const{activation:k,waveIntensity:J}=this.computeWaveActivation(U,p,y),Y=1,F=(1.1-Y)*J,ee=Y+F;b.push(ee);const oe=i.charWidths?.[U]??0;R+=oe*ee;const ne=.5+.5*k;_.push(ne);let re=k*A;O.push(re)});const T=.5+(y-.5)*.5,N=i.width;let S=-(R-N)*T;this.applyGlow(u),f.forEach((j,U)=>{const k=b[U],J=O[U],Y=i.charWidths?.[U]??0,P=i.charOffsets?.[U]??0,F=Y*k,ee=_[U];if(ee>.01){this.ctx.save(),this.ctx.globalAlpha=ee;const oe=S+F/2,ne=w/2+J;this.ctx.translate(oe,ne),this.ctx.scale(k,k),this.ctx.translate(-oe,-ne);const re=P*this.pixelRatio,z=0,I=Y*this.pixelRatio,Z=this.wordCacheCanvas.height;I>0&&this.ctx.drawImage(this.wordCacheCanvas,re,z,I,Z,S,J,Y,Z/this.pixelRatio),this.ctx.restore()}S+=F})}roundRect(i,s,r,u,f){r<2*f&&(f=r/2),u<2*f&&(f=u/2),this.ctx.beginPath(),this.ctx.moveTo(i+f,s),this.ctx.arcTo(i+r,s,i+r,s+u,f),this.ctx.arcTo(i+r,s+u,i,s+u,f),this.ctx.arcTo(i,s+u,i,s,f),this.ctx.arcTo(i,s,i+r,s,f),this.ctx.closePath()}measure(i,s){const{main:r,trans:u,mainHeight:f,transHeight:h}=ku(this.isMobile,this.customFontSize),p=this.isMobile?32:40,y=18,g=this.isMobile?24:56,w=i-g*2;this.ctx.font=r,this.ctx.textBaseline="top";const b=dg(this.lyricLine.text),_=typeof Intl<"u"&&Intl.Segmenter?new Intl.Segmenter(b,{granularity:"word"}):null,{words:O,textWidth:R,height:A}=this.measureLineText({line:this.lyricLine,segmenter:_,lang:b,maxWidth:w,baseSize:p,mainHeight:f,paddingY:y,mainFont:r,wrapLineGap:f*c2});let T=A,N,q=R,Q=0;if(this.lyricLine.translation){let S=R>0?R:w;s&&s>S&&(S=Math.min(s,w));const j=this.measureTranslationLines({translation:this.lyricLine.translation,maxWidth:S,transHeight:h,transFont:u});N=j.lines,T+=j.height,Q=Math.min(j.width??0,w),q=Math.max(q,Q)}T+=y,this._height=T,this.layout={y:0,height:T,words:O,fullText:this.lyricLine.text,translation:this.lyricLine.translation,translationLines:N,textWidth:Math.max(q,R),translationWidth:Q},this.logicalWidth=i,this.logicalHeight=T,this.canvas.width=i*this.pixelRatio,this.canvas.height=T*this.pixelRatio,this.ctx.resetTransform(),this.pixelRatio!==1&&this.ctx.scale(this.pixelRatio,this.pixelRatio),this.isDirty=!0}getTextWidth(){return this.layout?.textWidth||0}draw(i,s,r){if(!this.layout||!s&&!this.isDirty&&!this.lastIsActive&&this.lastIsHovered===r)return;const{main:f,trans:h,mainHeight:p,transHeight:y}=ku(this.isMobile,this.customFontSize),g=this.isMobile?24:56,w=this.layout.words.some(_=>_.isVerbatim),b=this.lastIsActive!==s||this.lastIsHovered!==r;s&&!w&&!this.isDirty&&!b||(this.drawFullLine({currentTime:i,isActive:s,isHovered:r,hasTimedWords:w,mainFont:f,transFont:h,mainHeight:p,transHeight:y,paddingX:g}),this.lastIsActive=s,this.lastIsHovered=r,this.isDirty=!1)}getCanvas(){return this.canvas}getHeight(){return this._height}getCurrentHeight(){return this._height}getLogicalWidth(){return this.logicalWidth}getLogicalHeight(){return this.logicalHeight}isInterlude(){return!1}measureLineText({line:i,segmenter:s,lang:r,maxWidth:u,baseSize:f,mainHeight:h,paddingY:p,mainFont:y,wrapLineGap:g}){this.ctx.font=y;const w=[];let b=0,_=p,O=0;const R=(A,T,N,q)=>{let S=this.ctx.measureText(A).width;S===0&&A.trim().length>0&&(S=A.length*(f*.5)),b+S>u&&b>0&&(b=0,_+=h+g);const{charWidths:j,charOffsets:U}=this.computeCharMetrics(A,f);w.push({text:A,x:b,y:_,width:S,startTime:T,endTime:N,isVerbatim:q,charWidths:j,charOffsets:U}),b+=S,O=Math.max(O,b)};if(i.words&&i.words.length>0)i.words.forEach(A=>{R(A.text,A.startTime,A.endTime,!0)});else if(s){const A=s.segment(i.text);for(const T of A)R(T.segment,i.time,999999,!1)}else if(r==="zh")i.text.split("").forEach(A=>{R(A,i.time,999999,!1)});else{const A=i.text.split(" ");A.forEach((T,N)=>{R(T,i.time,999999,!1),N<A.length-1&&R(" ",i.time,999999,!1)})}return{words:w,textWidth:O,height:_+h}}measureTranslationLines({translation:i,maxWidth:s,transHeight:r,transFont:u}){this.ctx.font=u;const f=dg(i)==="en",h=f?i.split(" "):i.split(""),p=[];let y="",g=0,w=0;return h.forEach((b,_)=>{const O=f&&_<h.length-1?b+" ":b,R=this.ctx.measureText(O).width;g+R>s&&g>0?(p.push(y),w=Math.max(w,g),y=O,g=R):(y+=O,g+=R)}),y&&(p.push(y),w=Math.max(w,g)),{lines:p,height:p.length?p.length*r+4:0,width:w}}computeCharMetrics(i,s){const r=i.split(""),u=[],f=[];let h=0;return r.forEach(p=>{const y=this.ctx.measureText(p).width||p.length*(s*.5);u.push(y),f.push(h),h+=y}),{charWidths:u,charOffsets:f}}}class u2{constructor(i,s,r,u=0){this.logicalWidth=0,this.logicalHeight=0,this._height=0,this.lastDrawTime=-1,this.textWidth=0,this.duration=0,this.lyricLine=i,this.index=s,this.isMobile=r,this.duration=u,this.pixelRatio=typeof window<"u"&&window.devicePixelRatio||1,this.canvas=document.createElement("canvas");const f=this.canvas.getContext("2d");if(!f)throw new Error("Could not get canvas context");this.ctx=f,this.springSystem=new Mp({expansion:0})}measure(i,s){const r=this.isMobile?32:40,u=18;this._height=r+u*2,this.logicalWidth=i,this.logicalHeight=this._height,this.canvas.width=i*this.pixelRatio,this.canvas.height=this._height*this.pixelRatio,this.ctx.resetTransform(),this.pixelRatio!==1&&this.ctx.scale(this.pixelRatio,this.pixelRatio);const f=this.isMobile?16:24;this.textWidth=f*2+40}draw(i,s,r){const u=performance.now();let f=this.lastDrawTime===-1?.016:(u-this.lastDrawTime)/1e3;this.lastDrawTime=u;const h=this.springSystem.getTarget("expansion")||0,p=s?1:0;h===1&&p===0&&this.springSystem.setVelocity("expansion",8),this.springSystem.setTarget("expansion",p,$b),this.springSystem.update(f);const y=Math.max(0,this.springSystem.getCurrent("expansion"));if(this.ctx.clearRect(0,0,this.logicalWidth,this.logicalHeight),y<.01&&!s)return;const g=this.isMobile?24:56,w=this.isMobile?5:7,b=this.isMobile?16:24,_=b*2;let O=0;if(this.duration>0){const j=i-this.lyricLine.time;O=Math.max(0,Math.min(1,j/this.duration))}else s?O=.5:O=1;if(this.ctx.save(),r){this.ctx.fillStyle=`rgba(255, 255, 255, ${.08*Math.min(1,y)})`;const j=Math.max(_+80,200),U=this._height*Math.min(1,y),k=(this._height-U)/2;this.roundRect(g-16,k,j,U,16*Math.min(1,y)),this.ctx.fill()}const A=g+6+w+b,T=this._height/2;this.ctx.translate(A,T);const Q=1+Math.sin(u/1e3*3)*.12,S=y*Q;this.ctx.scale(S,S);for(let j=0;j<3;j++){const U=j/3,k=(j+1)/3,J=(O-U)/(k-U),P=.5+.5*Math.max(0,Math.min(1,J)),F=Math.min(1,y),ee=P*F;this.ctx.fillStyle=`rgba(255, 255, 255, ${ee})`,this.ctx.beginPath();const oe=(j-1)*b;this.ctx.arc(oe,0,w,0,Math.PI*2),this.ctx.fill()}this.ctx.restore()}roundRect(i,s,r,u,f){r<2*f&&(f=r/2),u<2*f&&(f=u/2),this.ctx.beginPath(),this.ctx.moveTo(i+f,s),this.ctx.arcTo(i+r,s,i+r,s+u,f),this.ctx.arcTo(i+r,s+u,i,s+u,f),this.ctx.arcTo(i,s+u,i,s,f),this.ctx.arcTo(i,s,i+r,s,f),this.ctx.closePath()}getHeight(){return this._height}getCurrentHeight(){const i=Math.max(0,Math.min(1,this.springSystem.getCurrent("expansion")));return this._height*i}isInterlude(){return!0}getCanvas(){return this.canvas}getLogicalWidth(){return this.logicalWidth}getLogicalHeight(){return this.logicalHeight}getTextWidth(){return this.textWidth}}const f2=({lyrics:l,audioRef:i,isPlaying:s,currentTime:r,onSeekRequest:u,matchStatus:f,fontSize:h=48,blur:p=!1,glow:y=!1,shadow:g=!0})=>{const{theme:w}=ms(),[b,_]=x.useState(!1),[O,R]=x.useState([]),[A,T]=x.useState(null),N=x.useRef(null),[q,Q]=x.useState(0),[S,j]=x.useState(0),U=x.useRef(null);x.useEffect(()=>{if(typeof window>"u")return;const ae=window.matchMedia("(max-width: 1024px)"),ue=me=>{_(me.matches),me.matches||T(null)};return ue(ae),ae.addEventListener("change",ue),()=>ae.removeEventListener("change",ue)},[]),x.useEffect(()=>{A!==null&&A>=l.length&&T(null)},[l.length,A]),x.useEffect(()=>{b&&r<.1&&T(null)},[r,b]),x.useEffect(()=>{if(!b){U.current&&(clearTimeout(U.current),U.current=null);return}return U.current&&(clearTimeout(U.current),U.current=null),A!==null&&(U.current=setTimeout(()=>{T(null),U.current=null},5e3)),()=>{U.current&&(clearTimeout(U.current),U.current=null)}},[A,b]),x.useEffect(()=>{if(!N.current)return;const ae=new ResizeObserver(ue=>{for(const me of ue)Q(me.contentRect.width),j(me.contentRect.height)});return ae.observe(N.current),()=>ae.disconnect()},[]),x.useEffect(()=>{if(!l.length||q<=0){R([]);return}const ae=[],ue=[],me=5;l.forEach((Oe,Me)=>{const we=Oe.isInterlude||Oe.text==="...";let be=0;if(we){const _e=l[Me+1];_e&&(be=_e.time-Oe.time)}const X=we?new u2(Oe,Me,b,be):new o2(Oe,Me,b,h,w,p,y,g);let ge=0;ue.length>0&&(ge=Math.max(...ue)),X.measure(q,ge);const xe=X.getTextWidth();ue.push(xe),ue.length>me&&ue.shift(),ae.push(X)}),R(ae)},[l,q,b,h,w]);const{linePositions:k,lineHeights:J}=x.useMemo(()=>{const ae=[],ue=[];let me=0;return O.forEach(Oe=>{const Me=Oe.getHeight();ae.push(me),ue.push(Me),me+=Me}),{linePositions:ae,lineHeights:ue}},[O]),Y=18,{activeIndex:P,handlers:F,linesState:ee,updatePhysics:oe}=i2({lyrics:l,audioRef:i,currentTime:r,isMobile:b,containerHeight:S>0?S:800,linePositions:k,lineHeights:J,marginY:Y}),ne=x.useRef({x:0,y:0}),re=x.useRef(r),z=x.useRef({id:null,startX:0,startY:0,lockedToLyrics:!1,lockDecided:!1}),I=ae=>{const ue=ae.currentTarget.getBoundingClientRect();ne.current={x:ae.clientX-ue.left,y:ae.clientY-ue.top},F.onTouchMove(ae)},Z=ae=>{const ue=z.current,me=ae.touches.length?ae.touches:ae.changedTouches;if(ue.id===null&&me.length>0){const Me=me[0];ue.id=Me.identifier,ue.startX=Me.clientX,ue.startY=Me.clientY,ue.lockDecided=!1,ue.lockedToLyrics=!1}const Oe=Array.from(me).find(Me=>Me.identifier===ue.id);if(!Oe)return ue;if(!ue.lockDecided){const Me=Math.abs(Oe.clientX-ue.startX),we=Math.abs(Oe.clientY-ue.startY),be=8;(Me>be||we>be)&&(ue.lockDecided=!0,ue.lockedToLyrics=we>Me*1.15)}return ue},fe=()=>{z.current={id:null,startX:0,startY:0,lockedToLyrics:!1,lockDecided:!1}},le=ae=>{const ue=ae.touches[0];ue&&(z.current.id=ue.identifier,z.current.startX=ue.clientX,z.current.startY=ue.clientY,z.current.lockDecided=!1,z.current.lockedToLyrics=!1),F.onTouchStart(ae)},E=ae=>{Z(ae).lockedToLyrics&&ae.stopPropagation(),F.onTouchMove(ae)},D=ae=>{Z(ae).lockedToLyrics&&ae.stopPropagation(),F.onTouchEnd(),fe()},ie=ae=>{Z(ae).lockedToLyrics&&ae.stopPropagation(),F.onTouchEnd(),fe()},W=s2({onRender:(ae,ue,me,Oe)=>{const Me=Math.min(Oe,64)/1e3,we=O.map(Ce=>Ce.getCurrentHeight());oe(Me,we);let be=re.current;const X=r;if(s){const Ce=i.current?.playbackRate||1;be+=Me*Ce;const je=X-be;let Ge=.5;Math.abs(je)<1e-4?Ge=1.5:Math.abs(je)<.05?Ge=.4:Ge=.2;const Ue=1-Math.exp(-Me/Ge);be+=je*Ue}else{const Ce=Math.min(1,Me*10);be+=(X-be)*Ce}if((!Number.isFinite(be)||Math.abs(X-be)>1)&&(be=X,F.onClick()),re.current=be,!O.length)return;const ge=b?24:56,xe=me*.25;O.forEach((Ce,je)=>{const Ge=ee.current.get(je);if(!Ge)return;const Ue=Ge.posY.current+xe,Pe=we[je];if(Ue+Pe<-100||Ue>me+100)return;const bt=ne.current.x>=ge-20&&ne.current.x<=ue-ge+20&&ne.current.y>=Ue&&ne.current.y<=Ue+Pe,et=je===P,dt=Ge.scale.current,pn=b?A===je:bt,pe=Ue+Pe/2,Se=me*.35,st=Math.abs(pe-Se);let tt=1,nt=0;if(!et){const ht=Math.min(st,600)/600,Qt=b?.4:.25;tt=Qt+(1-Qt)*(1-Math.pow(ht,.5)),b||(nt=ht*3)}pn&&(tt=Math.max(tt,.8),nt=0),Ce.draw(et?be:r,et,pn),ae.save();const Tt=Ue+Pe/2;ae.translate(0,Tt);const Et=Ce.isInterlude()?1:dt;ae.scale(Et,Et),ae.translate(0,-Pe/2),ae.globalAlpha=tt,nt>.5?ae.filter=`blur(${nt}px)`:ae.filter="none",ae.drawImage(Ce.getCanvas(),0,0,Ce.getLogicalWidth(),Ce.getLogicalHeight()),ae.restore()}),ae.globalCompositeOperation="destination-in";const _e=ae.createLinearGradient(0,0,0,me);_e.addColorStop(0,"rgba(0,0,0,0)"),_e.addColorStop(.15,"rgba(0,0,0,1)"),_e.addColorStop(.85,"rgba(0,0,0,1)"),_e.addColorStop(1,"rgba(0,0,0,0)"),ae.fillStyle=_e,ae.fillRect(0,0,ue,me),ae.globalCompositeOperation="source-over"}}),he=ae=>{const ue=ae.currentTarget.getBoundingClientRect(),me=ae.clientY-ue.top,Me=ue.height*.25;let we=!1;for(let be=0;be<O.length;be++){if(l[be]?.isMetadata)continue;const X=ee.current.get(be);if(!X)continue;const ge=X.posY.current+Me,xe=O[be].getCurrentHeight();if(me>=ge&&me<=ge+xe){u(l[be].time,!0),b&&T(be),F.onClick(),we=!0;break}}b&&!we&&T(null)};return l.length?(x.useEffect(()=>{const ae=N.current;if(!ae)return;const ue=me=>{F.onWheel(me)};return ae.addEventListener("wheel",ue,{passive:!1}),()=>ae.removeEventListener("wheel",ue)},[F]),d.jsx("div",{ref:N,className:"relative h-[85vh] lg:h-[65vh] w-full overflow-hidden cursor-grab active:cursor-grabbing touch-none select-none",onTouchStart:le,onTouchMove:E,onTouchEnd:D,onTouchCancel:ie,onMouseDown:F.onTouchStart,onMouseMove:I,onMouseUp:F.onTouchEnd,onMouseLeave:ae=>{ne.current={x:-1e3,y:-1e3},F.onTouchEnd()},onClick:he,children:d.jsx("canvas",{ref:W,className:"w-full h-full block"})})):d.jsx("div",{className:"h-[85vh] lg:h-[65vh] flex flex-col items-center justify-center theme-text-tertiary select-none",children:f==="matching"?d.jsx("div",{className:"animate-pulse",children:"Syncing Lyrics..."}):d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"text-4xl mb-4 opacity-50",children:""}),d.jsx("div",{children:"Play music to view lyrics"})]})})};class d2{constructor(){this.listeners=[]}register(i,s,r){this.unregister(i),this.listeners.push({id:i,handler:s,priority:r}),this.listeners.sort((u,f)=>f.priority-u.priority)}unregister(i){this.listeners=this.listeners.filter(s=>s.id!==i)}handle(i){for(const s of this.listeners)if(s.handler(i)===!0){i.stopPropagation();return}}}const sf=new d2,Mf=(l,i,s=!0)=>{const r=x.useId(),u=x.useRef(l);x.useEffect(()=>{u.current=l},[l]),x.useEffect(()=>{if(!s)return;const f=h=>u.current(h);return sf.register(r,f,i),()=>sf.unregister(r)},[i,s,r])},_p=({isOpen:l,onClose:i,onImport:s})=>{const{t:r}=Jn(),[u,f]=x.useState(""),[h,p]=x.useState(!1),y=async()=>{if(!(!u.trim()||h)){p(!0);try{await s(u)&&(f(""),i())}finally{p(!1)}}},g=()=>{f(""),i()};return l?Ja.createPortal(d.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-6",onClick:g,children:[d.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm animate-in fade-in duration-300"}),d.jsxs("div",{className:"relative w-full max-w-[360px] bg-black/20 backdrop-blur-[80px] saturate-150 border border-white/10 rounded-[28px] shadow-2xl overflow-hidden animate-in zoom-in-95 duration-300 scale-100 ring-1 ring-white/5",onClick:w=>w.stopPropagation(),children:[d.jsxs("div",{className:"p-6 flex flex-col items-center text-center",children:[d.jsx("div",{className:"w-14 h-14 rounded-full bg-blue-500/20 flex items-center justify-center mb-4 text-blue-400",children:d.jsx(Mb,{className:"w-7 h-7"})}),d.jsx("h3",{className:"text-xl font-bold text-white tracking-tight",children:r("import.title")}),d.jsxs("p",{className:"text-white/60 text-[15px] mt-2 leading-relaxed px-2",children:[r("import.description")," ",d.jsx("span",{className:"text-white/90 font-medium",children:r("import.netease")}),", ",d.jsx("span",{className:"text-white/90 font-medium",children:r("import.internetArchive")})," ",r("import.or")," ",d.jsx("span",{className:"text-white/90 font-medium",children:r("import.directAudio")})," ",r("import.linkToAdd")]}),d.jsx("input",{id:"import-url-input",name:"importUrl",type:"text",value:u,onChange:w=>f(w.target.value),placeholder:r("import.placeholder"),className:"w-full mt-5 bg-white/10 border border-white/10 rounded-xl px-4 py-3.5 text-white placeholder:text-white/20 focus:outline-none focus:ring-2 focus:ring-blue-500/50 focus:bg-white/10 transition-all text-[15px]",disabled:h,autoFocus:!0,onKeyDown:w=>{w.key==="Enter"&&y()}})]}),d.jsxs("div",{className:"grid grid-cols-2 border-t border-white/10 divide-x divide-white/10 bg-white/5",children:[d.jsx("button",{onClick:g,className:"py-4 text-[17px] text-white/60 font-medium hover:bg-white/5 transition-colors active:bg-white/10",children:r("import.cancel")}),d.jsx("button",{onClick:y,disabled:h,className:`py-4 text-[17px] font-semibold transition-colors flex items-center justify-center gap-2 ${h?"text-white/40 cursor-not-allowed":"text-blue-400 hover:bg-white/5 active:bg-white/10"}`,children:h?d.jsxs(d.Fragment,{children:[d.jsxs("svg",{className:"animate-spin h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[d.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),d.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),d.jsx("span",{children:r("import.importing")})]}):r("import.import")})]})]})]}),document.body):null},h2=`
  .playlist-scrollbar {
    scrollbar-width: thin;
    scrollbar-color: rgba(255, 255, 255, 0.65) rgba(255, 255, 255, 0.02);
  }
  .playlist-scrollbar::-webkit-scrollbar {
    width: 8px;
  }
  .playlist-scrollbar::-webkit-scrollbar-track {
    background: rgba(255, 255, 255, 0.02);
    border-radius: 999px;
    border: 1px solid rgba(255, 255, 255, 0.07);
    backdrop-filter: blur(28px);
  }
  .playlist-scrollbar::-webkit-scrollbar-thumb {
    background: linear-gradient(180deg, rgba(255, 255, 255, 0.75), rgba(255, 255, 255, 0.5));
    border-radius: 999px;
    border: 1px solid rgba(255, 255, 255, 0.35);
    backdrop-filter: blur(24px);
    box-shadow: inset 0 0 0 1px rgba(255, 255, 255, 0.3);
  }
  .playlist-scrollbar::-webkit-scrollbar-thumb:hover {
    background: linear-gradient(180deg, rgba(255, 255, 255, 0.85), rgba(255, 255, 255, 0.72));
  }
`,m2=({isOpen:l,onClose:i,queue:s,currentSongId:r,onPlay:u,onImport:f,onRemove:h,accentColor:p,onFilesSelected:y,onSearchClick:g})=>{const{t:w}=Jn(),[b,_]=x.useState(!1),[O,R]=x.useState(!1),[A,T]=x.useState(!1),[N,q]=x.useState(new Set),Q=x.useRef(null),S=x.useRef(null),[j,U]=x.useState(0),k=x.useRef(null),J=74,Y=5;Mf(le=>le.key==="Escape"&&!b?(le.preventDefault(),i(),!0):!1,100,l);const P=Qr(l,{from:{opacity:0,transform:"translateY(20px) scale(0.95)"},enter:{opacity:1,transform:"translateY(0px) scale(1)"},leave:{opacity:0,transform:"translateY(20px) scale(0.95)"},config:{tension:280,friction:24},onRest:()=>{l||(T(!1),q(new Set))}});x.useEffect(()=>{if(l&&S.current){const le=s.findIndex(E=>E.id===r);if(le!==-1){const E=S.current.clientHeight,D=le*J-E/2+J/2;S.current.scrollTop=D,U(D)}else S.current.scrollTop=0,U(0)}},[l]),x.useEffect(()=>{const le=E=>{l&&!b&&Q.current&&!Q.current.contains(E.target)&&i()};return l&&document.addEventListener("mousedown",le),()=>{document.removeEventListener("mousedown",le)}},[l,i,b]);const F=async le=>{const E=await f(le);return E&&_(!1),E},ee=le=>{const E=new Set(N);E.has(le)?E.delete(le):E.add(le),q(E)},oe=()=>{h(Array.from(N)),q(new Set),T(!1)},ne=()=>{N.size===s.length?q(new Set):q(new Set(s.map(le=>le.id)))},re=le=>{const E=le.target.files;E&&E.length>0&&y&&y(E),le.target.value=""},z=le=>{U(le.currentTarget.scrollTop)},{virtualItems:I,totalHeight:Z,startOffset:fe}=x.useMemo(()=>{const le=s.length*J,E=600;let D=Math.floor(j/J),ie=Math.ceil((j+E)/J);D=Math.max(0,D-Y),ie=Math.min(s.length,ie+Y);const ce=[];for(let W=D;W<ie;W++)ce.push({...s[W],index:W});return{virtualItems:ce,totalHeight:le,startOffset:D*J}},[s,j]);return d.jsxs(d.Fragment,{children:[d.jsx("style",{children:h2}),P((le,E)=>E&&d.jsxs($n.div,{ref:Q,style:{...le,maxHeight:"60vh"},className:`
                        absolute bottom-24 -right-8 z-50
                        w-[340px] 
                        bg-black/10 backdrop-blur-[100px] saturate-150
                        rounded-[32px] 
                        shadow-[0_20px_50px_rgba(0,0,0,0.3)] 
                        border border-white/5
                        flex flex-col overflow-hidden
                        origin-bottom-right
                    `,onClick:D=>D.stopPropagation(),children:[d.jsxs("div",{className:"px-5 pt-5 pb-3 shrink-0 flex items-center justify-between bg-transparent border-b border-white/5",children:[d.jsxs("div",{className:"flex flex-col",children:[d.jsx("h3",{className:"text-white text-lg font-bold leading-none tracking-tight",children:w("playlist.playingNext")}),d.jsxs("span",{className:"text-white/40 text-xs font-medium mt-1",children:[s.length," ",w("playlist.songs")]})]}),d.jsx("div",{className:"flex items-center gap-2",children:A?d.jsxs(d.Fragment,{children:[d.jsx("button",{onClick:ne,className:`w-8 h-8 rounded-full flex items-center justify-center transition-all ${N.size===s.length&&s.length>0?"text-white bg-white/10":"text-white/50 hover:text-white hover:bg-white/10"}`,title:w("playlist.selectAll"),children:d.jsx(jb,{className:"w-5 h-5"})}),d.jsx("button",{onClick:oe,className:`w-8 h-8 rounded-full flex items-center justify-center transition-all ${N.size>0?"text-red-400 hover:bg-red-500/10":"text-white/20 cursor-not-allowed"}`,title:w("playlist.deleteSelected"),disabled:N.size===0,children:d.jsx(Cb,{className:"w-5 h-5"})}),d.jsx("button",{onClick:()=>T(!1),className:"w-8 h-8 rounded-full flex items-center justify-center transition-all hover:bg-white/10",style:{color:p},title:w("playlist.done"),children:d.jsx(lf,{className:"w-5 h-5"})})]}):d.jsxs(d.Fragment,{children:[d.jsx("button",{onClick:g,className:"w-8 h-8 rounded-full flex items-center justify-center transition-all text-white/50 hover:text-white hover:bg-white/10",title:`${w("topBar.search")} (Cmd+K)`,children:d.jsx(Ki,{className:"w-5 h-5"})}),d.jsx("button",{onClick:()=>k.current?.click(),className:"w-8 h-8 rounded-full flex items-center justify-center transition-all text-white/50 hover:text-white hover:bg-white/10",title:w("playlist.importLocal"),children:d.jsx(_b,{className:"w-5 h-5"})}),d.jsx("button",{onClick:()=>_(!0),className:"w-8 h-8 rounded-full flex items-center justify-center transition-all text-white/50 hover:text-white hover:bg-white/10",title:w("playlist.addFromUrl"),children:d.jsx(Sp,{className:"w-5 h-5"})}),d.jsx("button",{onClick:()=>T(!0),className:"w-8 h-8 rounded-full flex items-center justify-center transition-all text-white/50 hover:text-white hover:bg-white/10",title:w("playlist.editList"),children:d.jsx(wp,{className:"w-5 h-5"})})]})})]}),d.jsx("div",{ref:S,onScroll:z,className:"flex-1 overflow-y-auto playlist-scrollbar px-2 py-2 relative",children:s.length===0?d.jsx("div",{className:"flex flex-col items-center justify-center h-32 text-white/30 space-y-2",children:d.jsx("p",{className:"text-xs font-medium",children:w("playlist.empty")})}):d.jsx("div",{style:{height:`${Z}px`,position:"relative"},children:I.map(D=>{const ie=D.index,ce=D.id===r,W=N.has(D.id);return d.jsxs("div",{onClick:()=>{A?ee(D.id):u(ie)},className:`
                                    absolute left-0 right-0 h-[66px]
                                    group flex items-center gap-3 p-2 mx-2 rounded-2xl cursor-pointer transition-all duration-200
                                    ${A?"hover:bg-white/10":ce?"bg-white/10 shadow-[inset_0_1px_0_0_rgba(255,255,255,0.05)]":"hover:bg-white/5"}
                                `,style:{top:`${ie*J}px`,height:"66px"},children:[A&&d.jsx("div",{className:`
                                        w-5 h-5 rounded-full border-2 flex items-center justify-center transition-colors ml-1
                                        ${W?"border-transparent":"border-white/20 group-hover:border-white/40"}
                                    `,style:{backgroundColor:W?p:"transparent"},children:W&&d.jsx(lf,{className:"w-3 h-3 text-white"})}),d.jsxs("div",{className:"relative w-11 h-11 rounded-lg overflow-hidden flex-shrink-0 bg-gray-800 border border-white/5 shadow-sm",children:[D.coverUrl?d.jsx(Zr,{src:D.coverUrl,alt:D.title,containerClassName:"w-full h-full",imgClassName:`w-full h-full object-cover transition-opacity duration-300 ${ce&&!A?"opacity-40 blur-[1px]":""}`}):d.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gray-700 text-white/20 text-[10px]",children:""}),ce&&!A&&d.jsxs("div",{className:"absolute inset-0 flex items-center justify-center gap-[3px]",children:[d.jsx("div",{className:"w-[3px] bg-current rounded-full animate-[eq-bounce_1s_ease-in-out_infinite]",style:{height:"12px",color:p}}),d.jsx("div",{className:"w-[3px] bg-current rounded-full animate-[eq-bounce_1s_ease-in-out_infinite_0.2s]",style:{height:"20px",color:p}}),d.jsx("div",{className:"w-[3px] bg-current rounded-full animate-[eq-bounce_1s_ease-in-out_infinite_0.4s]",style:{height:"15px",color:p}}),d.jsx("style",{children:`
                                                @keyframes eq-bounce {
                                                    0%, 100% { transform: scaleY(0.4); opacity: 0.8; }
                                                    50% { transform: scaleY(1.0); opacity: 1; }
                                                }
                                            `})]})]}),d.jsxs("div",{className:"flex-1 min-w-0 flex flex-col justify-center gap-0.5",children:[d.jsx("div",{className:"text-[15px] font-semibold truncate leading-tight transition-colors duration-300",style:{color:ce?p:"rgba(255,255,255,0.9)"},children:D.title}),d.jsx("div",{className:"text-[13px] text-white/50 truncate font-medium",children:D.artist})]})]},`${D.id}-${ie}`)})})})]})),d.jsx("input",{id:"file-input",name:"audioFiles",type:"file",ref:k,onChange:re,accept:"audio/*,.mp3,.wav,.flac,.m4a,.aac,.ogg,.opus,.wma,.ape,.alac,.aiff,.webm,.lrc,.txt",multiple:!0,className:"hidden"}),d.jsx(_p,{isOpen:b,onClose:()=>_(!1),onImport:F})]})},g2=({isPlaying:l,onPlayPause:i,onNext:s,onPrev:r,onSeek:u,currentTime:f,duration:h,volume:p,onVolumeChange:y,onToggleMode:g,onTogglePlaylist:w,speed:b,onSpeedChange:_,onToggleVolumeDialog:O,onToggleSpeedDialog:R})=>{const{t:A}=Jn(),[T,N]=x.useState(!1),[q,Q]=x.useState(!1);return x.useEffect(()=>{if(T)Q(!0);else{const S=setTimeout(()=>Q(!1),300);return()=>clearTimeout(S)}},[T]),Mf(S=>{const j=S.target;if(["INPUT","TEXTAREA"].includes(j.tagName)||j.isContentEditable)return!1;if((S.ctrlKey||S.metaKey)&&S.key==="/")return S.preventDefault(),N(U=>!U),!0;if((S.ctrlKey||S.metaKey)&&S.key==="p")return S.preventDefault(),w(),!0;if(S.key==="Escape")return T?(S.preventDefault(),N(!1),!0):!1;switch(S.key){case" ":return S.preventDefault(),i(),!0;case"ArrowRight":return S.preventDefault(),S.ctrlKey||S.metaKey?s():u(Math.min(f+5,h)),!0;case"ArrowLeft":return S.preventDefault(),S.ctrlKey||S.metaKey?r():u(Math.max(f-5,0)),!0;case"ArrowUp":return S.preventDefault(),S.shiftKey?_(Math.min(b+.25,3)):y(Math.min(p+.1,1)),!0;case"ArrowDown":return S.preventDefault(),S.shiftKey?_(Math.max(b-.25,.5)):y(Math.max(p-.1,0)),!0;case"0":case"1":case"2":case"3":if(S.ctrlKey||S.metaKey){S.preventDefault();const U=[1,1.5,2,3],k=parseInt(S.key);return _(U[k]),!0}return!1;case"r":case"R":return S.preventDefault(),_(1),!0;case"l":case"L":return S.preventDefault(),g(),!0;case"v":case"V":return S.preventDefault(),O(),!0;case"s":case"S":return S.preventDefault(),R(),!0}return!1},50,!0),q?Ja.createPortal(d.jsxs("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center px-4 select-none font-sans pointer-events-none",children:[d.jsx("style",{children:`
      @keyframes ios-in {
          0% { opacity: 0; transform: scale(0.95); }
          100% { opacity: 1; transform: scale(1); }
      }
      @keyframes ios-out {
          0% { opacity: 1; transform: scale(1); }
          100% { opacity: 0; transform: scale(0.95); }
      }
      .animate-in { animation: ios-in 0.2s cubic-bezier(0.32, 0.72, 0, 1) forwards; will-change: transform, opacity; }
      .animate-out { animation: ios-out 0.15s cubic-bezier(0.32, 0.72, 0, 1) forwards; will-change: transform, opacity; }
    `}),d.jsx("div",{className:`absolute inset-0 bg-black/20 backdrop-blur-sm transition-opacity duration-300 pointer-events-auto ${T?"opacity-100":"opacity-0"}`,onClick:()=>N(!1)}),T&&d.jsx("div",{className:`
            relative w-full max-w-2xl pointer-events-auto
            bg-black/40 backdrop-blur-2xl saturate-150
            border border-white/10
            rounded-[32px]
            shadow-[0_30px_80px_rgba(0,0,0,0.45)]
            overflow-hidden
            text-white
            ${T?"animate-in":"animate-out"}
        `,children:d.jsxs("div",{className:"p-8",children:[d.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[d.jsxs("div",{className:"flex-1",children:[d.jsx("h2",{className:"text-2xl font-bold tracking-tight",children:A("shortcuts.title")}),d.jsx("p",{className:"text-white/50 font-medium",children:A("shortcuts.subtitle")})]}),d.jsx("button",{onClick:()=>N(!1),className:"w-8 h-8 rounded-full hover:bg-white/10 flex items-center justify-center transition-colors",children:d.jsx("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:d.jsx("path",{d:"M1 1L11 11M1 11L11 1",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"})})})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-12 gap-y-4",children:[d.jsx(Jt,{keys:["Space"],label:A("shortcuts.playPause")}),d.jsx(Jt,{keys:["L"],label:A("shortcuts.loopMode")}),d.jsx(Jt,{keys:["",""],label:A("shortcuts.seek")}),d.jsx(Jt,{keys:["Ctrl","/"],label:A("shortcuts.prevNext")}),d.jsx(Jt,{keys:["",""],label:A("shortcuts.volumeControl")}),d.jsx(Jt,{keys:["Shift","/"],label:A("shortcuts.speedControl")}),d.jsx(Jt,{keys:["Ctrl","0-3"],label:A("shortcuts.speedPreset")}),d.jsx(Jt,{keys:["R"],label:A("shortcuts.resetSpeed")}),d.jsx(Jt,{keys:["V"],label:A("shortcuts.volumeDialog")}),d.jsx(Jt,{keys:["S"],label:A("shortcuts.speedDialog")}),d.jsx(Jt,{keys:["Ctrl","K"],label:A("shortcuts.searchDialog")}),d.jsx(Jt,{keys:["Ctrl","P"],label:A("shortcuts.togglePlaylist")}),d.jsx(Jt,{keys:["Ctrl","/"],label:A("shortcuts.toggleShortcuts")})]}),d.jsxs("div",{className:"mt-8 pt-6 border-t border-white/5 text-center text-white/30 text-xs font-medium tracking-wider uppercase",children:[A("shortcuts.pressEsc")," ",d.jsx("kbd",{className:"font-sans bg-white/10 px-1.5 py-0.5 rounded mx-1 text-white/60",children:"Esc"})," ",A("shortcuts.closeHint")]})]})})]}),document.body):null},Jt=({keys:l,label:i})=>d.jsxs("div",{className:"flex items-center justify-between group p-2 rounded-xl hover:bg-white/5 transition-colors",children:[d.jsx("span",{className:"text-white/70 font-medium group-hover:text-white transition-colors",children:i}),d.jsx("div",{className:"flex gap-1",children:l.map((s,r)=>d.jsx("kbd",{className:"min-w-[28px] h-7 px-2 flex items-center justify-center bg-white/10 border border-white/5 rounded-[8px] text-sm font-semibold text-white/90 shadow-sm",children:s},r))})]}),p2=({isOpen:l,onClose:i})=>{const{t:s}=Jn();return l?Ja.createPortal(d.jsxs("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center px-4 select-none pointer-events-none",children:[d.jsx("style",{children:`
        @keyframes modal-in {
            0% { opacity: 0; transform: scale(0.96) translateY(-8px); }
            100% { opacity: 1; transform: scale(1) translateY(0); }
        }
        @keyframes modal-out {
            0% { opacity: 1; transform: scale(1) translateY(0); }
            100% { opacity: 0; transform: scale(0.98) translateY(4px); }
        }
        .dialog-in { animation: modal-in 0.2s cubic-bezier(0.2, 0.8, 0.2, 1) forwards; will-change: transform, opacity; }
      `}),d.jsx("div",{className:"absolute inset-0 bg-black/20 backdrop-blur-sm transition-opacity duration-300 pointer-events-auto",onClick:i}),d.jsxs("div",{className:"dialog-in relative w-full max-w-[380px] bg-black/40 backdrop-blur-2xl saturate-150 border border-white/10 rounded-[32px] shadow-[0_30px_80px_rgba(0,0,0,0.45)] overflow-hidden ring-1 ring-white/5 pointer-events-auto",onClick:r=>r.stopPropagation(),children:[d.jsx("div",{className:"absolute top-[-50%] left-[-50%] w-[200%] h-[200%] bg-gradient-to-b from-purple-500/10 via-transparent to-transparent pointer-events-none blur-3xl"}),d.jsxs("div",{className:"relative p-8 flex flex-col items-center text-center z-10",children:[d.jsx("h3",{className:"text-3xl font-bold text-transparent bg-clip-text bg-gradient-to-br from-white via-white to-white/60 tracking-tight mb-6",children:"Lumison"}),d.jsxs("p",{className:"text-white/70 text-[15px] leading-relaxed mb-8 font-medium",children:[s("about.description"),d.jsx("br",{}),s("about.inspiredBy")]}),d.jsxs("div",{className:"w-full grid grid-cols-3 gap-2 mb-8",children:[d.jsx(Hu,{label:"Gemini 3"}),d.jsx(Hu,{label:"Codex"}),d.jsx(Hu,{label:"Claude"})]}),d.jsxs("div",{className:"w-full flex flex-col gap-2 mb-6",children:[d.jsxs("a",{href:"https://github.com/SalixJFrost/Lumison",target:"_blank",rel:"noreferrer",onClick:r=>r.stopPropagation(),className:"flex items-center justify-between px-4 py-3 rounded-2xl border border-white/15 bg-white/5 text-sm font-medium text-white/80 hover:bg-white/10 transition",children:[d.jsx("span",{children:s("about.viewOnGitHub")}),d.jsx("span",{className:"text-[11px] text-white/50",children:""})]}),d.jsxs("a",{href:"https://github.com/SalixJFrost",target:"_blank",rel:"noreferrer",onClick:r=>r.stopPropagation(),className:"flex items-center justify-between px-4 py-3 rounded-2xl border border-white/15 bg-white/5 text-sm font-medium text-white/80 hover:bg-white/10 transition",children:[d.jsx("span",{children:s("about.createdBy")}),d.jsx("span",{className:"text-[11px] text-white/50",children:""})]})]})]}),d.jsx("div",{className:"border-t border-white/10 bg-white/5 p-2",children:d.jsx("button",{onClick:i,className:"w-full py-3.5 rounded-2xl text-[16px] font-semibold text-white/90 hover:bg-white/10 active:scale-[0.98] transition-all duration-200",children:s("common.done")})})]})]}),document.body):null},Hu=({label:l})=>d.jsx("div",{className:"flex items-center justify-center py-2 px-1 rounded-xl bg-white/5 border border-white/5 hover:bg-white/10 transition-colors",children:d.jsx("span",{className:"text-[11px] font-medium text-white/60",children:l})}),y2=({className:l="",variant:i="default"})=>{const{locale:s,setLocale:r,t:u}=Jn(),{theme:f}=ms(),[h,p]=x.useState(!1),y=x.useRef(null),g=["en","zh","ja"],w=Qr(h,{from:{opacity:0,transform:"translateY(-10px) scale(0.95)"},enter:{opacity:1,transform:"translateY(0px) scale(1)"},leave:{opacity:0,transform:"translateY(-10px) scale(0.95)"},config:{tension:300,friction:25}}),b=O=>{O.preventDefault();const R=g.indexOf(s);let A;O.deltaY>0?A=(R+1)%g.length:A=(R-1+g.length)%g.length,r(g[A])};x.useEffect(()=>{const O=R=>{y.current&&!y.current.contains(R.target)&&p(!1)};if(h)return document.addEventListener("mousedown",O),()=>document.removeEventListener("mousedown",O)},[h]);const _=O=>{r(O),p(!1)};return i==="settings"?d.jsxs("div",{ref:y,className:`relative ${l}`,onWheel:b,children:[d.jsxs("button",{onClick:()=>p(!h),className:"w-full flex items-center justify-between px-4 py-3 rounded-xl bg-white/5 border border-white/10 text-white/80 hover:bg-white/10 hover:text-white transition-all",title:"Scroll to change language",children:[d.jsx("span",{className:"text-sm",children:u("topBar.language")}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("span",{className:"text-sm font-medium text-white/90",children:jr[s]}),d.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:`transition-transform duration-200 ${h?"rotate-180":""}`,children:d.jsx("polyline",{points:"6 9 12 15 18 9"})})]})]}),w((O,R)=>R?d.jsx($n.div,{style:O,className:"absolute top-full left-0 right-0 mt-2 z-50 rounded-xl bg-black/60 backdrop-blur-2xl saturate-150 border border-white/10 shadow-[0_20px_50px_rgba(0,0,0,0.3)] overflow-hidden",children:g.map(A=>d.jsxs("button",{onClick:()=>_(A),className:`
                    w-full px-4 py-2.5 text-left text-sm font-medium
                    transition-colors duration-150
                    flex items-center justify-between
                    ${s===A?"bg-white/20 text-white":"text-white/70 hover:bg-white/10 hover:text-white"}
                  `,children:[d.jsx("span",{children:jr[A]}),s===A&&d.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",children:d.jsx("polyline",{points:"20 6 9 17 4 12"})})]},A))}):null)]}):d.jsxs("div",{ref:y,className:`relative ${l}`,onWheel:b,children:[d.jsxs("button",{onClick:()=>p(!h),className:`
          px-3 py-2 rounded-xl
          transition-all duration-200
          flex items-center gap-2
          ${f==="light"?"bg-black/5 hover:bg-black/10 text-black/70 hover:text-black":"bg-white/5 hover:bg-white/10 text-white/70 hover:text-white"}
        `,title:"Click to open menu, scroll to change language",children:[d.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("circle",{cx:"12",cy:"12",r:"10"}),d.jsx("line",{x1:"2",y1:"12",x2:"22",y2:"12"}),d.jsx("path",{d:"M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"})]}),d.jsx("span",{className:"text-sm font-medium",children:jr[s]})]}),w((O,R)=>R?d.jsx($n.div,{style:O,className:`
              absolute top-full right-0 mt-2 z-50
              min-w-[140px] rounded-2xl
              backdrop-blur-[100px] saturate-150
              shadow-[0_20px_50px_rgba(0,0,0,0.3)]
              border overflow-hidden
              ${f==="light"?"bg-white/90 border-black/10":"bg-black/40 border-white/10"}
            `,children:g.map(A=>d.jsxs("button",{onClick:()=>_(A),className:`
                  w-full px-4 py-2.5 text-left text-sm font-medium
                  transition-colors duration-150
                  flex items-center justify-between
                  ${s===A?f==="light"?"bg-black/10 text-black":"bg-white/20 text-white":f==="light"?"text-black/70 hover:bg-black/5 hover:text-black":"text-white/70 hover:bg-white/10 hover:text-white"}
                `,children:[d.jsx("span",{children:jr[A]}),s===A&&d.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",children:d.jsx("polyline",{points:"20 6 9 17 4 12"})})]},A))}):null)]})};function v2(l,i,s,r){if(typeof i=="function"?l!==i||!r:!i.has(l))throw new TypeError("Cannot read private member from an object whose class did not declare it");return s==="m"?r:s==="a"?r.call(l):r?r.value:i.get(l)}function x2(l,i,s,r,u){if(typeof i=="function"?l!==i||!0:!i.has(l))throw new TypeError("Cannot write private member to an object whose class did not declare it");return i.set(l,s),s}var Hr;const gn="__TAURI_TO_IPC_KEY__";function b2(l,i=!1){return window.__TAURI_INTERNALS__.transformCallback(l,i)}async function de(l,i={},s){return window.__TAURI_INTERNALS__.invoke(l,i,s)}class w2{get rid(){return v2(this,Hr,"f")}constructor(i){Hr.set(this,void 0),x2(this,Hr,i)}async close(){return de("plugin:resources|close",{rid:this.rid})}}Hr=new WeakMap;class Cp{constructor(...i){this.type="Logical",i.length===1?"Logical"in i[0]?(this.width=i[0].Logical.width,this.height=i[0].Logical.height):(this.width=i[0].width,this.height=i[0].height):(this.width=i[0],this.height=i[1])}toPhysical(i){return new ns(this.width*i,this.height*i)}[gn](){return{width:this.width,height:this.height}}toJSON(){return this[gn]()}}class ns{constructor(...i){this.type="Physical",i.length===1?"Physical"in i[0]?(this.width=i[0].Physical.width,this.height=i[0].Physical.height):(this.width=i[0].width,this.height=i[0].height):(this.width=i[0],this.height=i[1])}toLogical(i){return new Cp(this.width/i,this.height/i)}[gn](){return{width:this.width,height:this.height}}toJSON(){return this[gn]()}}class Yl{constructor(i){this.size=i}toLogical(i){return this.size instanceof Cp?this.size:this.size.toLogical(i)}toPhysical(i){return this.size instanceof ns?this.size:this.size.toPhysical(i)}[gn](){return{[`${this.size.type}`]:{width:this.size.width,height:this.size.height}}}toJSON(){return this[gn]()}}class jp{constructor(...i){this.type="Logical",i.length===1?"Logical"in i[0]?(this.x=i[0].Logical.x,this.y=i[0].Logical.y):(this.x=i[0].x,this.y=i[0].y):(this.x=i[0],this.y=i[1])}toPhysical(i){return new Ma(this.x*i,this.y*i)}[gn](){return{x:this.x,y:this.y}}toJSON(){return this[gn]()}}class Ma{constructor(...i){this.type="Physical",i.length===1?"Physical"in i[0]?(this.x=i[0].Physical.x,this.y=i[0].Physical.y):(this.x=i[0].x,this.y=i[0].y):(this.x=i[0],this.y=i[1])}toLogical(i){return new jp(this.x/i,this.y/i)}[gn](){return{x:this.x,y:this.y}}toJSON(){return this[gn]()}}class zr{constructor(i){this.position=i}toLogical(i){return this.position instanceof jp?this.position:this.position.toLogical(i)}toPhysical(i){return this.position instanceof Ma?this.position:this.position.toPhysical(i)}[gn](){return{[`${this.position.type}`]:{x:this.position.x,y:this.position.y}}}toJSON(){return this[gn]()}}var Pt;(function(l){l.WINDOW_RESIZED="tauri://resize",l.WINDOW_MOVED="tauri://move",l.WINDOW_CLOSE_REQUESTED="tauri://close-requested",l.WINDOW_DESTROYED="tauri://destroyed",l.WINDOW_FOCUS="tauri://focus",l.WINDOW_BLUR="tauri://blur",l.WINDOW_SCALE_FACTOR_CHANGED="tauri://scale-change",l.WINDOW_THEME_CHANGED="tauri://theme-changed",l.WINDOW_CREATED="tauri://window-created",l.WEBVIEW_CREATED="tauri://webview-created",l.DRAG_ENTER="tauri://drag-enter",l.DRAG_OVER="tauri://drag-over",l.DRAG_DROP="tauri://drag-drop",l.DRAG_LEAVE="tauri://drag-leave"})(Pt||(Pt={}));async function Np(l,i){window.__TAURI_EVENT_PLUGIN_INTERNALS__.unregisterListener(l,i),await de("plugin:event|unlisten",{event:l,eventId:i})}async function zp(l,i,s){var r;const u=typeof s?.target=="string"?{kind:"AnyLabel",label:s.target}:(r=s?.target)!==null&&r!==void 0?r:{kind:"Any"};return de("plugin:event|listen",{event:l,target:u,handler:b2(i)}).then(f=>async()=>Np(l,f))}async function S2(l,i,s){return zp(l,r=>{Np(l,r.id),i(r)},s)}async function T2(l,i){await de("plugin:event|emit",{event:l,payload:i})}async function E2(l,i,s){await de("plugin:event|emit_to",{target:typeof l=="string"?{kind:"AnyLabel",label:l}:l,event:i,payload:s})}let A2=class Br extends w2{constructor(i){super(i)}static async new(i,s,r){return de("plugin:image|new",{rgba:Kr(i),width:s,height:r}).then(u=>new Br(u))}static async fromBytes(i){return de("plugin:image|from_bytes",{bytes:Kr(i)}).then(s=>new Br(s))}static async fromPath(i){return de("plugin:image|from_path",{path:i}).then(s=>new Br(s))}async rgba(){return de("plugin:image|rgba",{rid:this.rid}).then(i=>new Uint8Array(i))}async size(){return de("plugin:image|size",{rid:this.rid})}};function Kr(l){return l==null?null:typeof l=="string"?l:l instanceof A2?l.rid:l}var rf;(function(l){l[l.Critical=1]="Critical",l[l.Informational=2]="Informational"})(rf||(rf={}));class M2{constructor(i){this._preventDefault=!1,this.event=i.event,this.id=i.id}preventDefault(){this._preventDefault=!0}isPreventDefault(){return this._preventDefault}}var hg;(function(l){l.None="none",l.Normal="normal",l.Indeterminate="indeterminate",l.Paused="paused",l.Error="error"})(hg||(hg={}));function _2(){return new Vl(window.__TAURI_INTERNALS__.metadata.currentWindow.label,{skip:!0})}async function Bu(){return de("plugin:window|get_all_windows").then(l=>l.map(i=>new Vl(i,{skip:!0})))}const qu=["tauri://created","tauri://error"];class Vl{constructor(i,s={}){var r;this.label=i,this.listeners=Object.create(null),s?.skip||de("plugin:window|create",{options:{...s,parent:typeof s.parent=="string"?s.parent:(r=s.parent)===null||r===void 0?void 0:r.label,label:i}}).then(async()=>this.emit("tauri://created")).catch(async u=>this.emit("tauri://error",u))}static async getByLabel(i){var s;return(s=(await Bu()).find(r=>r.label===i))!==null&&s!==void 0?s:null}static getCurrent(){return _2()}static async getAll(){return Bu()}static async getFocusedWindow(){for(const i of await Bu())if(await i.isFocused())return i;return null}async listen(i,s){return this._handleTauriEvent(i,s)?()=>{const r=this.listeners[i];r.splice(r.indexOf(s),1)}:zp(i,s,{target:{kind:"Window",label:this.label}})}async once(i,s){return this._handleTauriEvent(i,s)?()=>{const r=this.listeners[i];r.splice(r.indexOf(s),1)}:S2(i,s,{target:{kind:"Window",label:this.label}})}async emit(i,s){if(qu.includes(i)){for(const r of this.listeners[i]||[])r({event:i,id:-1,payload:s});return}return T2(i,s)}async emitTo(i,s,r){if(qu.includes(s)){for(const u of this.listeners[s]||[])u({event:s,id:-1,payload:r});return}return E2(i,s,r)}_handleTauriEvent(i,s){return qu.includes(i)?(i in this.listeners?this.listeners[i].push(s):this.listeners[i]=[s],!0):!1}async scaleFactor(){return de("plugin:window|scale_factor",{label:this.label})}async innerPosition(){return de("plugin:window|inner_position",{label:this.label}).then(i=>new Ma(i))}async outerPosition(){return de("plugin:window|outer_position",{label:this.label}).then(i=>new Ma(i))}async innerSize(){return de("plugin:window|inner_size",{label:this.label}).then(i=>new ns(i))}async outerSize(){return de("plugin:window|outer_size",{label:this.label}).then(i=>new ns(i))}async isFullscreen(){return de("plugin:window|is_fullscreen",{label:this.label})}async isMinimized(){return de("plugin:window|is_minimized",{label:this.label})}async isMaximized(){return de("plugin:window|is_maximized",{label:this.label})}async isFocused(){return de("plugin:window|is_focused",{label:this.label})}async isDecorated(){return de("plugin:window|is_decorated",{label:this.label})}async isResizable(){return de("plugin:window|is_resizable",{label:this.label})}async isMaximizable(){return de("plugin:window|is_maximizable",{label:this.label})}async isMinimizable(){return de("plugin:window|is_minimizable",{label:this.label})}async isClosable(){return de("plugin:window|is_closable",{label:this.label})}async isVisible(){return de("plugin:window|is_visible",{label:this.label})}async title(){return de("plugin:window|title",{label:this.label})}async theme(){return de("plugin:window|theme",{label:this.label})}async isAlwaysOnTop(){return de("plugin:window|is_always_on_top",{label:this.label})}async center(){return de("plugin:window|center",{label:this.label})}async requestUserAttention(i){let s=null;return i&&(i===rf.Critical?s={type:"Critical"}:s={type:"Informational"}),de("plugin:window|request_user_attention",{label:this.label,value:s})}async setResizable(i){return de("plugin:window|set_resizable",{label:this.label,value:i})}async setEnabled(i){return de("plugin:window|set_enabled",{label:this.label,value:i})}async isEnabled(){return de("plugin:window|is_enabled",{label:this.label})}async setMaximizable(i){return de("plugin:window|set_maximizable",{label:this.label,value:i})}async setMinimizable(i){return de("plugin:window|set_minimizable",{label:this.label,value:i})}async setClosable(i){return de("plugin:window|set_closable",{label:this.label,value:i})}async setTitle(i){return de("plugin:window|set_title",{label:this.label,value:i})}async maximize(){return de("plugin:window|maximize",{label:this.label})}async unmaximize(){return de("plugin:window|unmaximize",{label:this.label})}async toggleMaximize(){return de("plugin:window|toggle_maximize",{label:this.label})}async minimize(){return de("plugin:window|minimize",{label:this.label})}async unminimize(){return de("plugin:window|unminimize",{label:this.label})}async show(){return de("plugin:window|show",{label:this.label})}async hide(){return de("plugin:window|hide",{label:this.label})}async close(){return de("plugin:window|close",{label:this.label})}async destroy(){return de("plugin:window|destroy",{label:this.label})}async setDecorations(i){return de("plugin:window|set_decorations",{label:this.label,value:i})}async setShadow(i){return de("plugin:window|set_shadow",{label:this.label,value:i})}async setEffects(i){return de("plugin:window|set_effects",{label:this.label,value:i})}async clearEffects(){return de("plugin:window|set_effects",{label:this.label,value:null})}async setAlwaysOnTop(i){return de("plugin:window|set_always_on_top",{label:this.label,value:i})}async setAlwaysOnBottom(i){return de("plugin:window|set_always_on_bottom",{label:this.label,value:i})}async setContentProtected(i){return de("plugin:window|set_content_protected",{label:this.label,value:i})}async setSize(i){return de("plugin:window|set_size",{label:this.label,value:i instanceof Yl?i:new Yl(i)})}async setMinSize(i){return de("plugin:window|set_min_size",{label:this.label,value:i instanceof Yl?i:i?new Yl(i):null})}async setMaxSize(i){return de("plugin:window|set_max_size",{label:this.label,value:i instanceof Yl?i:i?new Yl(i):null})}async setSizeConstraints(i){function s(r){return r?{Logical:r}:null}return de("plugin:window|set_size_constraints",{label:this.label,value:{minWidth:s(i?.minWidth),minHeight:s(i?.minHeight),maxWidth:s(i?.maxWidth),maxHeight:s(i?.maxHeight)}})}async setPosition(i){return de("plugin:window|set_position",{label:this.label,value:i instanceof zr?i:new zr(i)})}async setFullscreen(i){return de("plugin:window|set_fullscreen",{label:this.label,value:i})}async setSimpleFullscreen(i){return de("plugin:window|set_simple_fullscreen",{label:this.label,value:i})}async setFocus(){return de("plugin:window|set_focus",{label:this.label})}async setFocusable(i){return de("plugin:window|set_focusable",{label:this.label,value:i})}async setIcon(i){return de("plugin:window|set_icon",{label:this.label,value:Kr(i)})}async setSkipTaskbar(i){return de("plugin:window|set_skip_taskbar",{label:this.label,value:i})}async setCursorGrab(i){return de("plugin:window|set_cursor_grab",{label:this.label,value:i})}async setCursorVisible(i){return de("plugin:window|set_cursor_visible",{label:this.label,value:i})}async setCursorIcon(i){return de("plugin:window|set_cursor_icon",{label:this.label,value:i})}async setBackgroundColor(i){return de("plugin:window|set_background_color",{color:i})}async setCursorPosition(i){return de("plugin:window|set_cursor_position",{label:this.label,value:i instanceof zr?i:new zr(i)})}async setIgnoreCursorEvents(i){return de("plugin:window|set_ignore_cursor_events",{label:this.label,value:i})}async startDragging(){return de("plugin:window|start_dragging",{label:this.label})}async startResizeDragging(i){return de("plugin:window|start_resize_dragging",{label:this.label,value:i})}async setBadgeCount(i){return de("plugin:window|set_badge_count",{label:this.label,value:i})}async setBadgeLabel(i){return de("plugin:window|set_badge_label",{label:this.label,value:i})}async setOverlayIcon(i){return de("plugin:window|set_overlay_icon",{label:this.label,value:i?Kr(i):void 0})}async setProgressBar(i){return de("plugin:window|set_progress_bar",{label:this.label,value:i})}async setVisibleOnAllWorkspaces(i){return de("plugin:window|set_visible_on_all_workspaces",{label:this.label,value:i})}async setTitleBarStyle(i){return de("plugin:window|set_title_bar_style",{label:this.label,value:i})}async setTheme(i){return de("plugin:window|set_theme",{label:this.label,value:i})}async onResized(i){return this.listen(Pt.WINDOW_RESIZED,s=>{s.payload=new ns(s.payload),i(s)})}async onMoved(i){return this.listen(Pt.WINDOW_MOVED,s=>{s.payload=new Ma(s.payload),i(s)})}async onCloseRequested(i){return this.listen(Pt.WINDOW_CLOSE_REQUESTED,async s=>{const r=new M2(s);await i(r),r.isPreventDefault()||await this.destroy()})}async onDragDropEvent(i){const s=await this.listen(Pt.DRAG_ENTER,h=>{i({...h,payload:{type:"enter",paths:h.payload.paths,position:new Ma(h.payload.position)}})}),r=await this.listen(Pt.DRAG_OVER,h=>{i({...h,payload:{type:"over",position:new Ma(h.payload.position)}})}),u=await this.listen(Pt.DRAG_DROP,h=>{i({...h,payload:{type:"drop",paths:h.payload.paths,position:new Ma(h.payload.position)}})}),f=await this.listen(Pt.DRAG_LEAVE,h=>{i({...h,payload:{type:"leave"}})});return()=>{s(),u(),r(),f()}}async onFocusChanged(i){const s=await this.listen(Pt.WINDOW_FOCUS,u=>{i({...u,payload:!0})}),r=await this.listen(Pt.WINDOW_BLUR,u=>{i({...u,payload:!1})});return()=>{s(),r()}}async onScaleChanged(i){return this.listen(Pt.WINDOW_SCALE_FACTOR_CHANGED,i)}async onThemeChanged(i){return this.listen(Pt.WINDOW_THEME_CHANGED,i)}}var mg;(function(l){l.Disabled="disabled",l.Throttle="throttle",l.Suspend="suspend"})(mg||(mg={}));var gg;(function(l){l.Default="default",l.FluentOverlay="fluentOverlay"})(gg||(gg={}));var pg;(function(l){l.AppearanceBased="appearanceBased",l.Light="light",l.Dark="dark",l.MediumLight="mediumLight",l.UltraDark="ultraDark",l.Titlebar="titlebar",l.Selection="selection",l.Menu="menu",l.Popover="popover",l.Sidebar="sidebar",l.HeaderView="headerView",l.Sheet="sheet",l.WindowBackground="windowBackground",l.HudWindow="hudWindow",l.FullScreenUI="fullScreenUI",l.Tooltip="tooltip",l.ContentBackground="contentBackground",l.UnderWindowBackground="underWindowBackground",l.UnderPageBackground="underPageBackground",l.Mica="mica",l.Blur="blur",l.Acrylic="acrylic",l.Tabbed="tabbed",l.TabbedDark="tabbedDark",l.TabbedLight="tabbedLight"})(pg||(pg={}));var yg;(function(l){l.FollowsWindowActiveState="followsWindowActiveState",l.Active="active",l.Inactive="inactive"})(yg||(yg={}));const C2=15e3,Yu={min:24,max:80,step:2},j2=({disabled:l,lyricsFontSize:i,onLyricsFontSizeChange:s,onImportUrl:r,lyricsBlur:u,onLyricsBlurChange:f,lyricsGlow:h,onLyricsGlowChange:p,lyricsShadow:y,onLyricsShadowChange:g,onSearchClick:w,visualizerEnabled:b,onVisualizerToggle:_})=>{const{theme:O,toggleTheme:R}=ms(),{t:A}=Jn(),[T,N]=x.useState(!1),[q,Q]=x.useState(!1),[S,j]=x.useState(!1),[U,k]=x.useState(!1),[J,Y]=x.useState(!1),[P,F]=x.useState(!1),ee=x.useRef(null),oe=x.useRef(null),ne=x.useCallback(()=>{document.fullscreenElement?document.exitFullscreen?.().then(()=>k(!1)):document.documentElement.requestFullscreen().then(()=>k(!0)).catch(W=>{console.error(`Error attempting to enable fullscreen: ${W.message} (${W.name})`)})},[]),re=x.useCallback(()=>{ee.current&&clearTimeout(ee.current),F(!0),U&&(ee.current=setTimeout(()=>{F(!1),ee.current=null},C2))},[U]),z=x.useCallback(()=>{w?.()},[w]),I=x.useCallback(async()=>{console.log("Minimize button clicked");try{const W=Vl.getCurrent();console.log("Got window instance:",W),await W.minimize(),console.log("Minimize called successfully")}catch(W){console.error("Minimize error:",W),window.electronAPI?.minimize&&window.electronAPI.minimize()}},[]),Z=x.useCallback(async()=>{console.log("Maximize button clicked");try{const W=Vl.getCurrent(),he=await W.isMaximized();console.log("Is maximized:",he),he?(await W.unmaximize(),Y(!1)):(await W.maximize(),Y(!0))}catch(W){console.error("Maximize error:",W),window.electronAPI?.maximize?(window.electronAPI.maximize(),Y(!J)):ne()}},[J,ne]),fe=x.useCallback(async()=>{console.log("Close button clicked");try{await Vl.getCurrent().close()}catch(W){console.error("Close error:",W),window.electronAPI?.close?window.electronAPI.close():window.close()}},[]),le=x.useCallback(W=>{if(W.pointerType!=="touch")return;P||(W.preventDefault(),W.stopPropagation()),re()},[P,re]),E=x.useCallback(()=>{N(!0),Q(!1)},[]);x.useEffect(()=>{const W=()=>{const he=!!document.fullscreenElement;k(he),he||(F(!0),ee.current&&(clearTimeout(ee.current),ee.current=null))};return document.addEventListener("fullscreenchange",W),()=>{document.removeEventListener("fullscreenchange",W)}},[]),x.useEffect(()=>{(async()=>{try{const ae=await Vl.getCurrent().isMaximized();Y(ae)}catch{console.debug("Not in Tauri environment")}})()},[]),x.useEffect(()=>()=>{ee.current&&clearTimeout(ee.current)},[]),x.useEffect(()=>{if(!q)return;const W=he=>{oe.current&&!oe.current.contains(he.target)&&Q(!1)};return document.addEventListener("mousedown",W),()=>document.removeEventListener("mousedown",W)},[q]);const D=x.useMemo(()=>({base:"transition-all duration-500 ease-out",mobileActive:!U||P?"opacity-100 translate-y-0 pointer-events-auto":"opacity-0 -translate-y-2 pointer-events-none",hoverSupport:U?"group-hover:opacity-100 group-hover:translate-y-0 group-hover:pointer-events-auto":""}),[P,U]),ie=x.useMemo(()=>[{key:"gradient",active:u,onChange:f,label:A("lyrics.gradient")||""},{key:"glow",active:h,onChange:p,label:A("lyrics.glow")},{key:"shadow",active:y,onChange:g,label:A("lyrics.shadow")}],[u,h,y,f,p,g,A]),ce=x.useMemo(()=>({key:"visualizer",active:b,onChange:_,label:A("visualizer.toggle")||""}),[b,_,A]);return d.jsxs("div",{className:"fixed top-0 left-0 w-full h-14 z-[60] group",onPointerDownCapture:le,children:[d.jsx("div",{className:`absolute inset-0 bg-white/5 backdrop-blur-2xl transition-all duration-500 ${!U||P?"opacity-100":"opacity-0"} ${U?"group-hover:opacity-100":""}`,"data-tauri-drag-region":!0}),d.jsxs("div",{className:"relative z-10 w-full h-full px-6 flex justify-between items-center pointer-events-auto",children:[d.jsx("div",{className:`flex items-center gap-3 ${D.base} ${D.mobileActive} ${D.hoverSupport}`,"data-tauri-drag-region":!0,children:d.jsx("h1",{className:"text-white/90 font-bold tracking-wider text-sm uppercase drop-shadow-md select-none",children:"Lumison"})}),d.jsx("div",{className:`flex-1 max-w-xl mx-8 ${D.base} ${D.mobileActive} ${D.hoverSupport}`,"data-tauri-drag-region":!0,children:d.jsxs("button",{onClick:z,className:"w-full h-9 px-4 rounded-full bg-white/10 backdrop-blur-xl flex items-center gap-3 text-white/60 hover:bg-white/15 hover:text-white/80 transition-all duration-300 ease-out shadow-sm group/search pointer-events-auto hover:scale-[1.02] active:scale-[0.98]","aria-label":A("search.placeholder"),onPointerDown:W=>W.stopPropagation(),children:[d.jsx("svg",{className:"w-4 h-4 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),d.jsx("span",{className:"text-sm truncate",children:A("search.placeholder")}),d.jsxs("kbd",{className:"ml-auto hidden sm:inline-flex items-center gap-1 px-2 py-0.5 rounded bg-white/10 text-xs text-white/50 font-mono group-hover/search:bg-white/15 group-hover/search:text-white/60 transition-all",children:[d.jsx("span",{children:""}),d.jsx("span",{children:"K"})]})]})}),d.jsxs("div",{className:`flex gap-2 ${D.base} delay-75 ${D.mobileActive} ${D.hoverSupport}`,children:[d.jsxs("div",{className:"relative",ref:oe,onPointerDown:W=>W.stopPropagation(),children:[d.jsx("button",{onClick:()=>Q(!q),className:`w-10 h-10 rounded-full bg-white/10 backdrop-blur-xl flex items-center justify-center transition-all duration-300 ease-out shadow-sm hover:scale-110 active:scale-95 ${q?"text-white bg-white/20 scale-110":"text-white/80 hover:bg-white/20 hover:text-white"}`,title:A("topBar.settings"),"aria-label":A("topBar.settings"),children:d.jsx(Tp,{className:`w-5 h-5 transition-transform duration-500 ease-out ${q?"rotate-90":""}`})}),q&&d.jsx("div",{className:"absolute top-full right-0 mt-3 w-72 rounded-2xl bg-black/40 backdrop-blur-2xl saturate-150 border border-white/10 shadow-[0_20px_50px_rgba(0,0,0,0.3)] overflow-hidden z-50 animate-in fade-in slide-in-from-top-2 duration-300",children:d.jsxs("div",{className:"p-4 space-y-6",children:[d.jsx("h3",{className:"text-white font-semibold mb-4 text-sm",children:A("topBar.settings")}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("label",{htmlFor:"lyrics-font-size",className:"text-white/70 text-xs",children:A("lyrics.fontSize")}),d.jsxs("span",{className:"text-white/90 text-xs font-mono",children:[i,"px"]})]}),d.jsx("input",{id:"lyrics-font-size",type:"range",min:Yu.min,max:Yu.max,step:Yu.step,value:i,onChange:W=>s(Number(W.target.value)),className:"w-full h-1 bg-white/20 rounded-full appearance-none cursor-pointer [&::-webkit-slider-thumb]:appearance-none [&::-webkit-slider-thumb]:w-4 [&::-webkit-slider-thumb]:h-4 [&::-webkit-slider-thumb]:rounded-full [&::-webkit-slider-thumb]:bg-white [&::-webkit-slider-thumb]:cursor-pointer [&::-moz-range-thumb]:w-4 [&::-moz-range-thumb]:h-4 [&::-moz-range-thumb]:rounded-full [&::-moz-range-thumb]:bg-white [&::-moz-range-thumb]:border-0 [&::-moz-range-thumb]:cursor-pointer"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-white/70 text-xs",children:A("lyrics.effects")}),d.jsx("div",{className:"flex gap-2",children:ie.map(({key:W,active:he,onChange:ae,label:ue})=>d.jsx("button",{onClick:()=>ae(!he),className:`flex-1 px-3 py-2 rounded-lg text-xs font-medium transition-all duration-300 ease-out hover:scale-105 active:scale-95 ${he?"bg-white/20 text-white border border-white/20 shadow-lg":"bg-white/5 text-white/60 border border-white/10 hover:bg-white/10 hover:text-white"}`,"aria-pressed":he,children:ue},W))})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-white/70 text-xs",children:A("visualizer.label")||""}),d.jsxs("button",{onClick:()=>ce.onChange(!ce.active),className:`w-full px-4 py-3 rounded-xl text-sm font-medium transition-all duration-300 ease-out hover:scale-[1.02] active:scale-[0.98] ${ce.active?"bg-white/20 text-white border border-white/20 shadow-lg":"bg-white/5 text-white/60 border border-white/10 hover:bg-white/10 hover:text-white"}`,"aria-pressed":ce.active,children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{children:ce.label}),d.jsx("span",{className:"text-xs opacity-60",children:ce.active?"":""})]}),!ce.active&&d.jsx("div",{className:"text-xs opacity-50 mt-1 text-left",children:A("visualizer.memoryHint")||" 5-10MB "})]})]}),d.jsxs("button",{onClick:R,className:"w-full flex items-center justify-between px-4 py-3 rounded-xl bg-white/5 border border-white/10 text-white/80 hover:bg-white/10 hover:text-white transition-all duration-300 ease-out hover:scale-[1.02] active:scale-[0.98]",children:[d.jsx("span",{className:"text-sm",children:A(O==="dark"?"theme.light":"theme.dark")}),d.jsx(Rb,{className:"w-4 h-4 transition-transform duration-500 hover:rotate-180"})]}),d.jsx(y2,{variant:"settings"}),d.jsxs("button",{onClick:E,className:"w-full flex items-center justify-between px-4 py-3 rounded-xl bg-white/5 border border-white/10 text-white/80 hover:bg-white/10 hover:text-white transition-all duration-300 ease-out hover:scale-[1.02] active:scale-[0.98]",children:[d.jsx("span",{className:"text-sm",children:A("topBar.about")}),d.jsx(Nb,{className:"w-4 h-4 transition-transform duration-300"})]})]})})]}),d.jsx("button",{onClick:ne,onPointerDown:W=>W.stopPropagation(),className:"w-10 h-10 rounded-full bg-white/10 backdrop-blur-xl flex items-center justify-center text-white/80 hover:bg-white/20 hover:text-white transition-all duration-300 ease-out shadow-sm hover:scale-110 active:scale-95",title:A(U?"topBar.exitFullscreen":"topBar.enterFullscreen"),"aria-label":A(U?"topBar.exitFullscreen":"topBar.enterFullscreen"),children:d.jsx(zb,{className:"w-5 h-5 transition-transform duration-300",isFullscreen:U})}),d.jsxs("div",{className:"flex gap-2 ml-2",onPointerDown:W=>W.stopPropagation(),children:[d.jsx("button",{onClick:I,className:"w-10 h-10 rounded-full bg-white/5 backdrop-blur-xl flex items-center justify-center text-white/60 hover:bg-white/15 hover:text-white transition-all duration-300 ease-out hover:scale-110 active:scale-95",title:"Minimize","aria-label":"Minimize",children:d.jsx(Lb,{className:"w-4 h-4 transition-transform duration-200"})}),d.jsx("button",{onClick:Z,className:"w-10 h-10 rounded-full bg-white/5 backdrop-blur-xl flex items-center justify-center text-white/60 hover:bg-white/15 hover:text-white transition-all duration-300 ease-out hover:scale-110 active:scale-95",title:J?"Restore":"Maximize","aria-label":J?"Restore":"Maximize",children:J?d.jsx(Db,{className:"w-4 h-4 transition-all duration-300"}):d.jsx(Ob,{className:"w-4 h-4 transition-all duration-300"})}),d.jsx("button",{onClick:fe,className:"w-10 h-10 rounded-full bg-white/5 backdrop-blur-xl flex items-center justify-center text-white/60 hover:bg-red-500/80 hover:text-white transition-all duration-300 ease-out hover:scale-110 active:scale-95",title:"Close","aria-label":"Close",children:d.jsx(Ub,{className:"w-4 h-4 transition-transform duration-200"})})]})]})]}),d.jsx(p2,{isOpen:T,onClose:()=>N(!1)}),d.jsx(_p,{isOpen:S,onClose:()=>j(!1),onImport:r})]})},Fl={qq:{search:"https://c.y.qq.com/soso/fcgi-bin/client_search_cp",lyric:"https://c.y.qq.com/lyric/fcgi-bin/fcg_query_lyric_new.fcg",cover:"https://y.qq.com/music/photo_new/T002R300x300M000"},kugou:{search:"https://complexsearch.kugou.com/v2/search/song",lyric:"https://krcs.kugou.com/search"},netease:["https://163api.qijieya.cn","https://netease-cloud-music-api-psi-ten.vercel.app","https://music-api.heheda.top","https://netease-api.fe-mm.com","https://api.no0a.cn/api/cloudmusic","https://api.injahow.cn/netease","https://api.uomg.com/api/rand.music","https://netease-music-api.vercel.app","https://music.ghxi.com","https://api.mlwei.com/music"],youtube:{search:"https://music.youtube.com/youtubei/v1/search"}},Rp=Fl.netease.map(l=>({url:l,responseTimes:[],failCount:0})),Lp=()=>[...Rp].sort((i,s)=>{const r=i.responseTimes.length>0?i.responseTimes.reduce((f,h)=>f+h,0)/i.responseTimes.length:1/0,u=s.responseTimes.length>0?s.responseTimes.reduce((f,h)=>f+h,0)/s.responseTimes.length:1/0;return r+i.failCount*1e3-(u+s.failCount*1e3)})[0].url,as=(l,i,s)=>{const r=Rp.find(u=>u.url===l);r&&(s?(r.responseTimes.push(i),r.responseTimes.length>10&&r.responseTimes.shift()):r.failCount++)},N2=async l=>{try{const i=`${Fl.qq.search}?w=${encodeURIComponent(l)}&p=1&n=5&format=json`;return(await jn(i))?.data?.song?.list?.[0]}catch(i){return console.warn("QQ Music search failed:",i),null}},z2=async(l,i)=>{const s=Date.now();try{const r=`${Fl.qq.lyric}?songmid=${l}&format=json&nobase64=1`,u=await jn(r);if(!u?.lyric)return null;const f=Date.now()-s,h=i?`${Fl.qq.cover}${i}.jpg`:void 0;return{lrc:u.lyric,tLrc:u.trans||void 0,metadata:[],source:"qq",coverUrl:h,responseTime:f}}catch(r){return console.warn("QQ Music lyrics fetch failed:",r),null}},R2=async l=>{try{const i=`${Fl.kugou.search}?keyword=${encodeURIComponent(l)}&page=1&pagesize=5`;return(await jn(i))?.data?.lists?.[0]}catch(i){return console.warn("Kugou Music search failed:",i),null}},L2=async(l,i)=>{const s=Date.now();try{const r=`${Fl.kugou.lyric}?ver=1&man=yes&client=mobi&hash=${l}`,u=await jn(r);if(!u?.candidates?.[0]?.content)return null;const f=u.candidates[0].content,h=Date.now()-s;return{lrc:f,metadata:[],source:"kugou",coverUrl:i,responseTime:h}}catch(r){return console.warn("Kugou Music lyrics fetch failed:",r),null}},O2=async l=>{const i=Lp(),s=Date.now();try{const r=`${i}/cloudsearch?keywords=${encodeURIComponent(l)}&limit=5`,u=await jn(r),f=Date.now()-s;return as(i,f,!0),u?.result?.songs?.[0]}catch(r){return as(i,0,!1),console.warn("Netease Music search failed:",r),null}},D2=async(l,i)=>{const s=Lp(),r=Date.now();try{const u=`${s}/lyric/new?id=${l}`,f=await jn(u);if(!f?.lrc?.lyric)return as(s,0,!1),null;const h=Date.now()-r;return as(s,h,!0),{lrc:f.lrc.lyric,yrc:f.yrc?.lyric,tLrc:f.tlyric?.lyric,metadata:[],source:"netease",coverUrl:i,responseTime:h}}catch(u){return as(s,0,!1),console.warn("Netease Music lyrics fetch failed:",u),null}},U2=async(l,i)=>{const s=`${l} ${i}`;console.log(`Searching lyrics for: ${s}`);const r=[(async()=>{try{console.log("Trying Netease Music...");const u=await O2(s);if(u?.id){const f=u.al?.picUrl,h=await D2(u.id.toString(),f);if(h)return console.log(` Found lyrics on Netease Music (${h.responseTime}ms)`),h}return null}catch(u){return console.warn("Netease Music failed:",u),null}})(),(async()=>{try{console.log("Trying QQ Music...");const u=await N2(s);if(u?.songmid){const f=u?.albummid,h=await z2(u.songmid,f);if(h)return console.log(` Found lyrics on QQ Music (${h.responseTime}ms)`),h}return null}catch(u){return console.warn("QQ Music failed:",u),null}})(),(async()=>{try{console.log("Trying Kugou Music...");const u=await R2(s);if(u?.FileHash){const f=u?.ImgUrl,h=await L2(u.FileHash,f);if(h)return console.log(` Found lyrics on Kugou Music (${h.responseTime}ms)`),h}return null}catch(u){return console.warn("Kugou Music failed:",u),null}})()];try{const u=await Promise.allSettled(r),f=u[0].status==="fulfilled"?u[0].value:null;if(f)return f;for(const h of u)if(h.status==="fulfilled"&&h.value)return h.value;return console.warn("No lyrics found on any platform"),null}catch(u){return console.error("All platforms failed:",u),null}},k2="https://api.qijieya.cn/meting/",H2="https://163api.qijieya.cn/cloudsearch",Zl="https://163api.qijieya.cn",B2=["https://163api.qijieya.cn","https://netease-cloud-music-api-psi-ten.vercel.app","https://music-api.heheda.top"],ic=async l=>{const i=[Zl,...B2.filter(s=>s!==Zl)];for(const s of i)try{const r=l.replace(Zl,s);return console.log(`Trying API: ${r}`),await jn(r)}catch(r){console.warn(`API ${s} failed:`,r);continue}throw new Error("All API endpoints failed")},q2=["","","","","","",""," / ","lyricist","composer","arrange","translation","translator","producer"],Y2=l=>l.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),Op=new RegExp(`^(${q2.map(Y2).join("|")})\\s*[:]`,"iu"),Dp=/^\[(\d{2}):(\d{2})\.(\d{2,3})\](.*)$/,G2=l=>(l??[]).map(i=>i.name?.trim()).filter(Boolean).join("/")||"",_f=l=>({id:l.id.toString(),title:l.name?.trim()??"",artist:G2(l.ar),album:l.al?.name?.trim()??"",coverUrl:l.al?.picUrl?.replaceAll("http:","https:"),duration:l.dt,isNetease:!0,neteaseId:l.id.toString()}),V2=l=>{const s=l.trim().match(Dp);if(!s)return!1;const r=s[4].trim();return Op.test(r)},Q2=l=>{const i=l.trim().match(Dp);return i?i[4].trim():l.trim()},X2=l=>{const i=l.trim();if(!i.startsWith("{")||!i.endsWith("}"))return!1;try{const s=JSON.parse(i);if(s.c&&Array.isArray(s.c)){const r=s.c.map(u=>u.tx||"").join("");return Op.test(r)}}catch{}return!1},I2=l=>{try{const i=JSON.parse(l.trim());if(i.c&&Array.isArray(i.c))return i.c.map(s=>s.tx||"").join("").trim()}catch{}return l.trim()},Z2=[{name:"LrcLib",search:async(l,i)=>{const s=`https://lrclib.net/api/search?track_name=${encodeURIComponent(l)}&artist_name=${encodeURIComponent(i)}`,r=await jn(s);if(Array.isArray(r)&&r.length>0){const u=r[0];return{lrc:u.syncedLyrics||u.plainLyrics,source:"LrcLib"}}return null}},{name:"Lyrics.ovh",search:async(l,i)=>{const s=`https://api.lyrics.ovh/v1/${encodeURIComponent(i)}/${encodeURIComponent(l)}`,r=await jn(s);return r&&r.lyrics?{lrc:r.lyrics.split(`
`).filter(h=>h.trim()).map((h,p)=>{const y=p*3,g=Math.floor(y/60),w=y%60;return`[${String(g).padStart(2,"0")}:${String(w).padStart(2,"0")}.00]${h}`}).join(`
`),source:"Lyrics.ovh"}:null}},{name:"LRCAPI",search:async(l,i)=>{const s=`https://lrc.xms.mx/search?title=${encodeURIComponent(l)}&artist=${encodeURIComponent(i)}`,r=await jn(s);if(r&&r.data&&Array.isArray(r.data)&&r.data.length>0){const u=r.data[0];if(u.lrc)return{lrc:u.lrc,source:"LRCAPI"}}return null}}],K2=async(l,i)=>{const s=Z2.map(async u=>{try{console.log(`Trying ${u.name}...`);const f=await u.search(l,i);if(f&&f.lrc)return{lrc:f.lrc,metadata:[],source:f.source}}catch(f){console.warn(`${u.name} failed:`,f)}return null}),r=await Promise.allSettled(s);for(const u of r)if(u.status==="fulfilled"&&u.value)return u.value;return null},Gu=l=>{const i=new Set,s=[];return l.split(`
`).forEach(r=>{r.trim()&&(V2(r)?i.add(Q2(r)):X2(r)?i.add(I2(r)):s.push(r))}),{clean:s.join(`
`).trim(),metadata:Array.from(i)}},Fr=l=>`${k2}?type=url&id=${l}`,vg=async(l,i={})=>{const{limit:s=20,offset:r=0}=i,u=`${H2}?keywords=${encodeURIComponent(l)}&limit=${s}&offset=${r}`;try{const h=(await ic(u)).result?.songs??[];return h.length===0?(console.warn(`No search results for: ${l}`),[]):h.map(_f)}catch(f){return console.error("NetEase search error",f),[]}},F2=async l=>{try{const i=[];let r=0,u=!0;for(;u;){const f=`${Zl}/playlist/track/all?id=${l}&limit=50&offset=${r}`,p=(await ic(f)).songs??[];if(p.length===0)break;const y=p.map(_f);i.push(...y),p.length<50?u=!1:r+=50}return i}catch(i){return console.error("Playlist fetch error",i),[]}},W2=async l=>{try{const i=`${Zl}/song/detail?ids=${l}`,s=await ic(i),r=s.songs?.[0];return s.code===200&&r?_f(r):null}catch(i){return console.error("Song fetch error",i),null}},$2=async(l,i)=>{try{console.log("Using multi-platform lyrics search...");const s=await U2(l,i);if(s)return console.log(` Found lyrics from ${s.source}`),{lrc:s.lrc,yrc:s.yrc,tLrc:s.tLrc,metadata:[...s.metadata,`: ${s.source==="qq"?"QQ":s.source==="kugou"?"":""}`]};console.log("Multi-platform search failed, trying dedicated lyrics APIs...");const r=await K2(l,i);return r?(console.log(` Found lyrics from dedicated API: ${r.source}`),{lrc:r.lrc,metadata:[...r.metadata,`: ${r.source}`]}):(console.warn("No lyrics found on any platform"),null)}catch(s){return console.error("All lyrics search methods failed:",s),null}},J2=async l=>{try{const i=`${Zl}/lyric/new?id=${l}`,s=await ic(i),r=s.yrc?.lyric,u=s.lrc?.lyric,f=s.tlyric?.lyric;if(!r&&!u)return console.warn(`No lyrics found for song ${l}`),null;const{clean:h,metadata:p}=u?Gu(u):{clean:void 0,metadata:[]},{clean:y,metadata:g}=r?Gu(r):{clean:void 0,metadata:[]};let w,b=[];if(f){const A=Gu(f);w=A.clean,b=A.metadata}const _=Array.from(new Set([...p,...g,...b]));s.transUser?.nickname&&_.unshift(`: ${s.transUser.nickname}`),s.lyricUser?.nickname&&_.unshift(`: ${s.lyricUser.nickname}`);const O=h||y||u||r;return O?{lrc:O,yrc:y&&h?y:void 0,tLrc:w,metadata:Array.from(_)}:null}catch(i){return console.error("Lyric fetch error for song",l,i),null}},P2=({queue:l})=>x.useMemo(()=>({id:"queue",label:"Current Queue",requiresExplicitSearch:!1,isLoading:!1,hasMore:!1,search:async s=>{if(!s.trim())return l;const r=s.toLowerCase();return l.filter(u=>u.title.toLowerCase().includes(r)||u.artist.toLowerCase().includes(r))}}),[l]),xg=30,ew=()=>{const[l,i]=x.useState([]),[s,r]=x.useState(!1),[u,f]=x.useState(!0),[h,p]=x.useState(!1),y=x.useCallback(async b=>{if(!b.trim()){i([]),p(!1);return}r(!0),p(!0),i([]),f(!0);try{const _=await vg(b,{limit:xg,offset:0});i(_),f(_.length>=xg)}catch(_){console.error("Netease search failed:",_),f(!1)}finally{r(!1)}},[]),g=x.useCallback(async(b,_,O)=>{if(s||!u)return[];r(!0);try{const R=await vg(b,{limit:O,offset:_});return R.length===0?f(!1):i(A=>[...A,...R]),R}catch(R){return console.error("Load more failed:",R),f(!1),[]}finally{r(!1)}},[s,u]);return{id:"netease",label:"Cloud Music",requiresExplicitSearch:!0,isLoading:s,hasMore:u,hasSearched:h,results:l,search:async b=>l,loadMore:g,performSearch:y}},tw=({queue:l,currentSong:i,isPlaying:s,isOpen:r})=>{const[u,f]=x.useState(""),[h,p]=x.useState("queue"),[y,g]=x.useState(-1),w=x.useRef([]),[b,_]=x.useState(null),O=P2({queue:l}),R=ew(),[A,T]=x.useState([]),[N,q]=x.useState(0),Q=30;x.useEffect(()=>{h==="queue"&&O.search(u).then(Z=>{const fe=Z.map(le=>{const E=l.findIndex(D=>D.id===le.id);return{s:le,i:E}});T(fe)})},[u,h,l]),x.useEffect(()=>{g(-1)},[h,u]),x.useEffect(()=>{r||_(null)},[r]);const S=x.useCallback(async()=>{u.trim()&&(q(0),g(-1),await R.performSearch(u))},[u,R]),j=x.useCallback(async()=>{if(R.isLoading||!R.hasMore)return;const Z=N+Q;await R.loadMore(u,Z,Q),q(Z)},[R,N,u]),U=x.useCallback(Z=>{if(h!=="netease")return;const{scrollTop:fe,clientHeight:le,scrollHeight:E}=Z.currentTarget;E-fe-le<100&&j()},[h,j]),k=x.useCallback(Z=>{const fe=w.current[Z];fe&&fe.scrollIntoView({block:"nearest",behavior:"smooth"})},[]),J=x.useCallback(()=>{const Z=h==="queue"?A.length:R.results.length;if(Z===0)return;const fe=Math.min(y+1,Z-1);g(fe),k(fe)},[h,y,A.length,R.results.length,k]),Y=x.useCallback(()=>{const Z=Math.max(y-1,0);g(Z),k(Z)},[y,k]),P=x.useCallback(()=>{p(Z=>Z==="queue"?"netease":"queue"),g(-1)},[]),F=x.useCallback((Z,fe,le)=>{Z.preventDefault();let E=Z.clientX,D=Z.clientY;E+200>window.innerWidth&&(E-=200),D+100>window.innerHeight&&(D-=100),_({visible:!0,x:E,y:D,track:fe,type:le})},[]),ee=x.useCallback(()=>{_(null)},[]),oe=x.useCallback(Z=>i?"isNetease"in Z&&Z.isNetease&&i.isNetease?Z.neteaseId===i.neteaseId:Z.title===i.title&&Z.artist===i.artist:!1,[i]),ne=h==="netease"&&!R.hasSearched&&u.trim().length>0,re=h==="netease"&&R.hasSearched&&R.results.length===0&&!R.isLoading,z=h==="netease"&&R.isLoading&&R.results.length===0,I=h==="netease"&&!R.hasSearched&&u.trim().length===0;return{query:u,setQuery:f,activeTab:h,setActiveTab:p,selectedIndex:y,contextMenu:b,queueProvider:O,neteaseProvider:R,queueResults:A,itemRefs:w,performNeteaseSearch:S,loadMoreNetease:j,handleScroll:U,navigateDown:J,navigateUp:Y,switchTab:P,scrollToItem:k,openContextMenu:F,closeContextMenu:ee,isNowPlaying:oe,showNeteasePrompt:ne,showNeteaseEmpty:re,showNeteaseInitial:I,showNeteaseLoading:z,LIMIT:Q}},nw=`
  .sequoia-scrollbar {
    scrollbar-width: thin;
    scrollbar-color: rgba(255, 255, 255, 0.0) transparent;
    transition: scrollbar-color 0.3s ease;
  }
  .sequoia-scrollbar:hover {
    scrollbar-color: rgba(255, 255, 255, 0.4) transparent;
  }
  .sequoia-scrollbar::-webkit-scrollbar {
    width: 14px;
  }
  .sequoia-scrollbar::-webkit-scrollbar-track {
    background: transparent;
  }
  .sequoia-scrollbar::-webkit-scrollbar-thumb {
    background-color: rgba(255, 255, 255, 0.0);
    border: 5px solid transparent;
    background-clip: content-box;
    border-radius: 99px;
    transition: background-color 0.3s ease;
  }
  .sequoia-scrollbar:hover::-webkit-scrollbar-thumb {
    background-color: rgba(255, 255, 255, 0.4);
  }
  .sequoia-scrollbar::-webkit-scrollbar-thumb:hover {
    background-color: rgba(255, 255, 255, 0.6);
  }
`,aw=`
  @keyframes modal-in {
      0% { opacity: 0; transform: scale(0.96) translateY(-8px); }
      100% { opacity: 1; transform: scale(1) translateY(0); }
  }
  @keyframes modal-out {
      0% { opacity: 1; transform: scale(1) translateY(0); }
      100% { opacity: 0; transform: scale(0.98) translateY(4px); }
  }
  @keyframes eq-bounce {
      0%, 100% { transform: scaleY(0.4); opacity: 0.8; }
      50% { transform: scaleY(1.0); opacity: 1; }
  }
  .macos-modal-in { animation: modal-in 0.2s cubic-bezier(0.2, 0.8, 0.2, 1) forwards; will-change: transform, opacity; }
  .macos-modal-out { animation: modal-out 0.15s cubic-bezier(0.32, 0.72, 0, 1) forwards; will-change: transform, opacity; }
`,lw=({isOpen:l,onClose:i,queue:s,onPlayQueueIndex:r,onImportAndPlay:u,onAddToQueue:f,currentSong:h,isPlaying:p,accentColor:y})=>{const[g,w]=x.useState(!1),[b,_]=x.useState(!1),O=x.useRef(null),R=x.useRef(null),A=x.useRef(null),T=tw({queue:s,currentSong:h,isPlaying:p,isOpen:l});x.useEffect(()=>{if(l)w(!0),_(!1),setTimeout(()=>R.current?.focus(),50);else if(g&&!b){_(!0);const S=setTimeout(()=>{w(!1),_(!1)},250);return()=>clearTimeout(S)}},[l,g]),x.useEffect(()=>{if(!T.contextMenu)return;const S=U=>{U.target.closest(".context-menu-container")||T.closeContextMenu()},j=setTimeout(()=>{document.addEventListener("mousedown",S)},0);return()=>{clearTimeout(j),document.removeEventListener("mousedown",S)}},[T.contextMenu]),Mf(S=>{if(!l)return!1;if(T.contextMenu)return T.closeContextMenu(),!0;switch(S.key){case"ArrowDown":return S.preventDefault(),T.navigateDown(),!0;case"ArrowUp":return S.preventDefault(),T.navigateUp(),!0;case"Enter":return S.preventDefault(),T.selectedIndex>=0?N(T.selectedIndex):T.activeTab==="netease"&&T.query.trim()&&T.performNeteaseSearch(),!0;case"Escape":return S.preventDefault(),i(),!0;case"Tab":return S.preventDefault(),T.switchTab(),!0}return!1},100,l);const N=S=>{if(T.activeTab==="queue"){const j=T.queueResults[S];j&&(r(j.i),i())}else{const j=T.neteaseProvider.results[S];j&&(q(j),i())}},q=S=>{const j={id:S.id,title:S.title,artist:S.artist,coverUrl:S.coverUrl.replace("http:","https:"),fileUrl:Fr(S.id),isNetease:!0,neteaseId:S.neteaseId,album:S.album,lyrics:[],needsLyricsMatch:!0};u(j)},Q=S=>{const j={id:S.id,title:S.title,artist:S.artist,coverUrl:S.coverUrl.replace("http:","https:"),fileUrl:Fr(S.id),isNetease:!0,neteaseId:S.neteaseId,album:S.album,lyrics:[],needsLyricsMatch:!0};f(j)};return g?Ja.createPortal(d.jsxs("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center px-4 select-none font-sans",onMouseDown:S=>{const j=S.target;A.current?.contains(j)||i(),j.closest(".context-menu-container")||T.closeContextMenu()},children:[d.jsx("style",{children:nw}),d.jsx("style",{children:aw}),d.jsx("div",{className:`absolute inset-0 bg-black/20 backdrop-blur-sm transition-opacity duration-300 ${b?"opacity-0":"opacity-100"}`,"aria-hidden":"true"}),d.jsxs("div",{className:`
        relative w-full max-w-[720px] h-[600px]
        bg-black/40 backdrop-blur-2xl saturate-150
        rounded-[20px]
        shadow-[0_50px_100px_-12px_rgba(0,0,0,0.7),0_0_0_1px_rgba(255,255,255,0.1)]
        flex flex-col overflow-hidden
        ${b?"macos-modal-out":"macos-modal-in"}
        text-white
      `,ref:A,children:[d.jsxs("div",{className:"flex flex-col px-5 pt-5 pb-3 gap-4 border-b border-white/10 shrink-0 bg-white/5 z-10",children:[d.jsxs("div",{className:"relative flex items-center justify-center p-1 rounded-lg self-center w-full max-w-xs mb-1 bg-black/20 backdrop-blur-md shadow-inner",children:[d.jsx("div",{className:"absolute top-1 bottom-1 rounded-[6px] bg-white/15 shadow-[0_1px_2px_rgba(0,0,0,0.1)] transition-all duration-300 ease-[cubic-bezier(0.23,1,0.32,1)]",style:{left:T.activeTab==="queue"?"4px":"50%",width:"calc(50% - 4px)"}}),d.jsx("button",{onClick:()=>{T.setActiveTab("queue")},className:`
                        relative flex-1 py-1.5 text-[13px] font-medium transition-colors duration-200 z-10
                        ${T.activeTab==="queue"?"text-white":"text-white/50 hover:text-white/70"}
                    `,children:T.queueProvider.label}),d.jsx("button",{onClick:()=>{T.setActiveTab("netease")},className:`
                        relative flex-1 py-1.5 text-[13px] font-medium transition-colors duration-200 z-10
                        ${T.activeTab==="netease"?"text-white":"text-white/50 hover:text-white/70"}
                    `,children:T.neteaseProvider.label})]}),d.jsxs("div",{className:"relative group mx-2",children:[d.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:d.jsx(Ki,{className:"w-5 h-5 text-white/40"})}),d.jsx("input",{id:"search-input",name:"search",ref:R,type:"text",value:T.query,onChange:S=>T.setQuery(S.target.value),placeholder:T.activeTab==="netease"?"Search online...":"Filter queue...",className:`\r
                        w-full pl-12 pr-4 py-3.5\r
                        bg-black/20 hover:bg-black/30 focus:bg-black/40\r
                        border border-white/5 focus:border-white/15\r
                        rounded-[12px]\r
                        text-lg font-medium text-white placeholder:text-white/20\r
                        outline-none\r
                        transition-all duration-200\r
                        shadow-inner\r
                    `})]})]}),d.jsxs("div",{ref:O,className:"flex-1 overflow-y-auto sequoia-scrollbar p-3 scroll-smooth",onScroll:T.handleScroll,children:[T.activeTab==="queue"&&d.jsx("div",{className:"relative flex flex-col gap-1",children:T.queueResults.length===0?d.jsx("div",{className:"flex flex-col items-center justify-center h-64 text-white/20",children:d.jsx("span",{className:"text-lg",children:"No songs in queue"})}):d.jsxs(d.Fragment,{children:[T.selectedIndex>=0&&T.itemRefs.current[T.selectedIndex]&&d.jsx("div",{className:"absolute left-0 right-0 bg-white/10 rounded-[10px] pointer-events-none transition-all duration-200 ease-out",style:{top:`${T.itemRefs.current[T.selectedIndex]?.offsetTop||0}px`,height:`${T.itemRefs.current[T.selectedIndex]?.offsetHeight||56}px`,zIndex:0}}),T.queueResults.map(({s:S,i:j},U)=>{const k=T.isNowPlaying(S);return d.jsxs("div",{ref:J=>{T.itemRefs.current[U]=J},onClick:()=>N(U),onContextMenu:J=>T.openContextMenu(J,S,"queue"),className:`
                                        relative z-10 group flex items-center gap-3 p-3 rounded-[10px] cursor-pointer
                                        ${T.selectedIndex===U?"text-white":"hover:bg-white/5 hover:transition-colors hover:duration-150 text-white/90"}
                                    `,children:[d.jsxs("div",{className:"relative w-10 h-10 rounded-[6px] bg-white/5 overflow-hidden shrink-0 shadow-sm group-hover:shadow-lg transition-shadow duration-200",children:[S.coverUrl?d.jsx(Zr,{src:S.coverUrl,alt:S.title,containerClassName:"w-full h-full",imgClassName:`w-full h-full object-cover transition-opacity ${k?"opacity-40 blur-[1px]":""}`}):d.jsx("div",{className:"w-full h-full flex items-center justify-center text-xs opacity-30",children:""}),!k&&d.jsx("div",{className:`absolute inset-0 flex items-center justify-center bg-black/50 ${T.selectedIndex===U?"opacity-100":"opacity-0 group-hover:opacity-100 group-hover:transition-opacity group-hover:duration-150"}`,children:d.jsx(Zi,{className:"w-4 h-4 fill-white drop-shadow-md"})}),k&&p&&d.jsxs("div",{className:"absolute inset-0 flex items-center justify-center gap-[2px]",children:[d.jsx("div",{className:"w-[2px] bg-current rounded-full animate-[eq-bounce_1s_ease-in-out_infinite]",style:{height:"8px",color:y}}),d.jsx("div",{className:"w-[2px] bg-current rounded-full animate-[eq-bounce_1s_ease-in-out_infinite_0.2s]",style:{height:"14px",color:y}}),d.jsx("div",{className:"w-[2px] bg-current rounded-full animate-[eq-bounce_1s_ease-in-out_infinite_0.4s]",style:{height:"10px",color:y}})]})]}),d.jsxs("div",{className:"flex-1 min-w-0 flex flex-col justify-center gap-0.5",children:[d.jsx("div",{className:`text-[15px] font-medium truncate ${T.selectedIndex===U?"text-white":k?"":"text-white/90"}`,style:k?{color:y}:{},children:S.title}),d.jsx("div",{className:`text-[13px] truncate ${T.selectedIndex===U?"text-white/70":"text-white/40"}`,children:S.artist})]}),T.selectedIndex===U&&d.jsx("div",{className:"mr-1",children:d.jsx(Zi,{className:"w-5 h-5 fill-white/80"})})]},`${S.id}-${j}`)})]})}),T.activeTab==="netease"&&d.jsxs("div",{className:"relative flex flex-col gap-1 pb-4",children:[T.showNeteasePrompt&&d.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-white/30",children:[d.jsx(Ki,{className:"w-12 h-12 mb-4 opacity-20"}),d.jsxs("span",{className:"text-base font-medium",children:["Press"," ",d.jsx("kbd",{className:"px-2 py-1 bg-white/10 rounded text-white/60",children:"Enter"})," ","to search"]})]}),T.showNeteaseEmpty&&d.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-white/20",children:[d.jsx(Ki,{className:"w-12 h-12 mb-4 opacity-20"}),d.jsx("span",{className:"text-base font-medium",children:"No matches found"})]}),T.showNeteaseLoading&&d.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-white/20",children:[d.jsx("div",{className:"w-8 h-8 border-2 border-white/20 border-t-white/60 rounded-full animate-spin mb-4"}),d.jsx("span",{className:"text-base font-medium",children:"Searching..."})]}),T.showNeteaseInitial&&d.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-white/20",children:[d.jsx(Ki,{className:"w-12 h-12 mb-4 opacity-20"}),d.jsx("span",{className:"text-base font-medium",children:"Search Cloud Music"})]}),T.neteaseProvider.results.length>0&&d.jsxs(d.Fragment,{children:[T.selectedIndex>=0&&T.itemRefs.current[T.selectedIndex]&&d.jsx("div",{className:"absolute left-0 right-0 bg-white/25 backdrop-blur-md rounded-[10px] pointer-events-none transition-all duration-200 ease-out",style:{top:`${T.itemRefs.current[T.selectedIndex]?.offsetTop||0}px`,height:`${T.itemRefs.current[T.selectedIndex]?.offsetHeight||56}px`,zIndex:0}}),T.neteaseProvider.results.map((S,j)=>{const U=T.isNowPlaying(S);return d.jsxs("div",{ref:k=>{T.itemRefs.current[j]=k},onClick:()=>N(j),onContextMenu:k=>T.openContextMenu(k,S,"netease"),className:`
                                        relative z-10 group flex items-center gap-3 p-3 rounded-[10px] cursor-pointer
                                        ${T.selectedIndex===j?"text-white":"hover:bg-white/5 hover:transition-colors hover:duration-150 text-white/90"}
                                    `,children:[d.jsxs("div",{className:"relative w-10 h-10 rounded-[6px] bg-white/5 overflow-hidden shrink-0 shadow-sm group-hover:shadow-lg transition-shadow duration-200",children:[S.coverUrl&&d.jsx(Zr,{src:S.coverUrl,alt:S.title,containerClassName:"w-full h-full",imgClassName:`w-full h-full object-cover transition-opacity ${U?"opacity-40 blur-[1px]":""}`}),!U&&d.jsx("div",{className:`absolute inset-0 flex items-center justify-center bg-black/50 ${T.selectedIndex===j?"opacity-100":"opacity-0 group-hover:opacity-100 group-hover:transition-opacity group-hover:duration-150"}`,children:d.jsx(Zi,{className:"w-4 h-4 fill-white drop-shadow-md"})}),U&&p&&d.jsxs("div",{className:"absolute inset-0 flex items-center justify-center gap-[2px]",children:[d.jsx("div",{className:"w-[2px] bg-current rounded-full animate-[eq-bounce_1s_ease-in-out_infinite]",style:{height:"8px",color:y}}),d.jsx("div",{className:"w-[2px] bg-current rounded-full animate-[eq-bounce_1s_ease-in-out_infinite_0.2s]",style:{height:"14px",color:y}}),d.jsx("div",{className:"w-[2px] bg-current rounded-full animate-[eq-bounce_1s_ease-in-out_infinite_0.4s]",style:{height:"10px",color:y}})]})]}),d.jsxs("div",{className:"flex-1 min-w-0 flex flex-col justify-center gap-0.5",children:[d.jsx("div",{className:`text-[15px] font-medium truncate ${T.selectedIndex===j?"text-white":U?"":"text-white/90"}`,style:U?{color:y}:{},children:S.title}),d.jsxs("div",{className:`text-[13px] truncate ${T.selectedIndex===j?"text-white/70":"text-white/40"}`,children:[S.artist," ",d.jsx("span",{className:"opacity-50 mx-1",children:""})," ",S.album]})]}),d.jsx("div",{className:"px-2",children:d.jsx("span",{className:`
                                            text-[10px] font-bold px-1.5 py-0.5 rounded border
                                            ${T.selectedIndex===j?"border-white/30 text-white/80 bg-white/20":"border-white/10 text-white/30 bg-white/5"}
                                        `,children:"Cloud"})})]},`${S.id}-${j}`)}),T.neteaseProvider.hasMore&&d.jsx("div",{className:"py-6 flex items-center justify-center",children:T.neteaseProvider.isLoading?d.jsx("div",{className:"w-5 h-5 border-2 border-white/20 border-t-white/60 rounded-full animate-spin"}):d.jsx("div",{className:"text-white/20 text-xs",children:"Scroll for more"})})]})]})]}),T.contextMenu&&Ja.createPortal(d.jsxs("div",{className:"context-menu-container fixed z-[10000] w-48 bg-[#1e1e1e]/60 backdrop-blur-[80px] saturate-150 border border-white/10 rounded-xl shadow-2xl overflow-hidden animate-in fade-in zoom-in-95 duration-100 origin-top-left p-1.5 flex flex-col gap-0.5",style:{top:T.contextMenu.y,left:T.contextMenu.x},onContextMenu:S=>S.preventDefault(),children:[d.jsxs("button",{onClick:S=>{if(S.stopPropagation(),T.contextMenu.type==="queue"){const j=T.contextMenu.track,U=s.findIndex(k=>k.id===j.id);r(U)}else q(T.contextMenu.track);T.closeContextMenu(),i()},className:"flex items-center gap-3 px-3 py-2 text-left text-[13px] text-white/90 hover:bg-blue-500 hover:text-white rounded-lg transition-colors",children:[d.jsx(Zi,{className:"w-4 h-4"}),"Play Now"]}),T.contextMenu.type==="netease"&&d.jsxs("button",{onClick:S=>{S.stopPropagation(),Q(T.contextMenu.track),T.closeContextMenu()},className:"flex items-center gap-3 px-3 py-2 text-left text-[13px] text-white/90 hover:bg-blue-500 hover:text-white rounded-lg transition-colors",children:[d.jsx(Sp,{className:"w-4 h-4"}),"Add to Queue"]})]}),document.body)]})]}),document.body):null},iw=({speed:l,show:i})=>{const{t:s}=Jn(),[r,u]=x.useState(!1);x.useEffect(()=>{if(i)u(!0);else{const y=setTimeout(()=>u(!1),300);return()=>clearTimeout(y)}},[i]);const f=Il({opacity:i?1:0,transform:i?"translate(-50%, 0px) scale(1)":"translate(-50%, 20px) scale(0.9)",config:{tension:300,friction:25}});if(!r)return null;const h=()=>l<1?"from-blue-500/90 to-cyan-500/90":l===1?"from-green-500/90 to-emerald-500/90":l<=2?"from-yellow-500/90 to-orange-500/90":"from-red-500/90 to-pink-500/90",p=()=>l<1?s("speed.slow"):l===1?s("speed.normal"):l<=1.5?s("speed.fast"):l<=2?s("speed.veryFast"):s("speed.ultraFast");return d.jsx($n.div,{style:f,className:"fixed bottom-32 left-1/2 z-[9998] pointer-events-none select-none",children:d.jsxs("div",{className:`
          px-6 py-3 rounded-2xl
          bg-gradient-to-r ${h()}
          backdrop-blur-xl
          shadow-[0_10px_40px_rgba(0,0,0,0.3)]
          border border-white/20
          flex items-center gap-3
        `,children:[d.jsxs("div",{className:"flex flex-col items-center",children:[d.jsxs("div",{className:"text-2xl font-bold text-white tracking-tight",children:[l.toFixed(2),"x"]}),d.jsx("div",{className:"text-[10px] font-medium text-white/80 uppercase tracking-wider",children:p()})]}),d.jsx("div",{className:"w-24 h-2 bg-white/20 rounded-full overflow-hidden",children:d.jsx("div",{className:"h-full bg-white rounded-full transition-all duration-200",style:{width:`${Math.min((l-.5)/2.5*100,100)}%`}})})]})})},sw=l=>{try{const i=new URL(l);if(i.hostname.includes("archive.org")){const s=i.pathname.match(/\/details\/([^\/]+)/);if(s)return s[1]}return null}catch{return null}},rw=async l=>{try{const i=`https://archive.org/metadata/${l}`,s=await fetch(i);if(!s.ok)throw new Error("Failed to fetch metadata");const r=await s.json();if(!r.files)return null;const u=r.files.find(b=>b.format==="VBR MP3"||b.format==="MP3"||b.format==="Ogg Vorbis"||b.format==="128Kbps MP3");if(!u)return null;const f=r.metadata||{},h=f.title||l,p=f.creator||f.artist||"Unknown Artist";let y;const g=r.files.find(b=>b.format==="JPEG"||b.format==="PNG"||b.name.includes("thumb"));g&&(y=`https://archive.org/download/${l}/${g.name}`);const w=`https://archive.org/download/${l}/${u.name}`;return{id:l,title:Array.isArray(h)?h[0]:h,artist:Array.isArray(p)?p[0]:p,coverUrl:y,duration:u.length?parseFloat(u.length)*1e3:void 0,audioUrl:w,source:"internet-archive"}}catch(i){return console.error("Failed to fetch Internet Archive audio:",i),null}},cw=async l=>{try{let i;try{i=new URL(l)}catch{return console.log("Invalid URL format:",l),null}const s=i.pathname.toLowerCase();if(![".mp3",".ogg",".wav",".m4a",".flac",".aac",".opus"].some(g=>s.endsWith(g)))return null;const f=await fetch(l,{method:"HEAD"});if(!f.ok)return null;const h=f.headers.get("content-type");if(!h||!h.startsWith("audio/"))return null;const y=(s.split("/").pop()||"Unknown").replace(/\.[^.]+$/,"").replace(/[-_]/g," ");return{id:l,title:y,artist:"Self-hosted",audioUrl:l,source:"self-hosted"}}catch(i){return console.error("Failed to validate self-hosted audio:",i),null}},ow=async l=>{try{const i=sw(l);if(i){const r=await rw(i);return r?{track:r}:{track:null,error:{code:"FETCH_FAILED",message:"Failed to fetch audio from Internet Archive"}}}const s=await cw(l);return s?{track:s}:{track:null,error:{code:"INVALID_URL",message:"URL is not a valid Internet Archive or self-hosted audio link"}}}catch(i){return{track:null,error:{code:"NETWORK_ERROR",message:i instanceof Error?i.message:"Network error"}}}},uw=(l,i)=>{const s=l.length,r=i.length,u=[];for(let f=0;f<=s;f++)u[f]=[f];for(let f=0;f<=r;f++)u[0][f]=f;for(let f=1;f<=s;f++)for(let h=1;h<=r;h++){const p=l[f-1]===i[h-1]?0:1;u[f][h]=Math.min(u[f-1][h]+1,u[f][h-1]+1,u[f-1][h-1]+p)}return u[s][r]},fw=(l,i)=>{const s=uw(l,i),r=Math.max(l.length,i.length);return r===0?1:1-s/r},dw=()=>{const[l,i]=x.useState([]),[s,r]=x.useState([]),u=x.useCallback((g,w)=>{i(b=>b.map(_=>_.id===g?{..._,...w}:_)),r(b=>b.map(_=>_.id===g?{..._,...w}:_))},[]),f=x.useCallback(g=>{g.length!==0&&(r(w=>[...w,...g]),i(w=>[...w,...g]))},[]),h=x.useCallback(g=>{g.length!==0&&(i(w=>(w.forEach(b=>{g.includes(b.id)&&b.fileUrl&&!b.fileUrl.startsWith("blob:")&&Or.delete(b.fileUrl)}),w.filter(b=>!g.includes(b.id)))),r(w=>w.filter(b=>!g.includes(b.id))))},[]),p=x.useCallback(async g=>{const w=(g instanceof FileList,Array.from(g)),b=[],_=[];w.forEach(A=>{const T=A.name.split(".").pop()?.toLowerCase();T==="lrc"||T==="txt"?_.push(A):b.push(A)});const O=[],R=new Map;_.forEach(A=>{const T=A.name.replace(/\.[^/.]+$/,""),N=T.indexOf("-");let q=N>0&&N<T.length-1?T.substring(N+1).trim():T;q=q.replace(/[\(\[]?\d{7,9}[\)\]]?/g,"").trim(),R.set(q.toLowerCase(),A)});for(let A=0;A<b.length;A++){const T=b[A],N=URL.createObjectURL(T);let Q=T.name.replace(/\.[^/.]+$/,""),S="Unknown Artist",j,U,k=[],J=[];const Y=Q.split("-");Y.length>1&&(S=Y[0].trim(),Q=Y[1].trim());try{const P=await rb(T);if(P.title&&(Q=P.title),P.artist&&(S=P.artist),P.picture&&(j=P.picture,U=await af(j)),P.lyrics&&P.lyrics.trim().length>0)try{J=Ir(P.lyrics),console.log("Found embedded lyrics (will be used as fallback)")}catch(oe){console.warn("Failed to parse embedded lyrics",oe)}const F=Q.toLowerCase().trim();let ee=R.get(F);if(!ee&&R.size>0){let oe=null;const ne=.75;for(const[re,z]of R.entries()){const I=fw(F,re);I>=ne&&(!oe||I>oe.score)&&(oe={file:z,score:I})}oe&&(ee=oe.file)}if(ee){const oe=new FileReader,ne=await new Promise(re=>{oe.onload=z=>re(z.target?.result||""),oe.readAsText(ee)});ne&&(k=Ir(ne),console.log("Found local .lrc file (will be used as fallback)"))}}catch(P){console.warn("Local metadata extraction failed",P)}O.push({id:`local-${Date.now()}-${A}`,title:Q,artist:S,fileUrl:N,coverUrl:j,lyrics:[],colors:U&&U.length>0?U:void 0,needsLyricsMatch:!0,localLyrics:k.length>0?k:J.length>0?J:void 0})}return f(O),O},[f]),y=x.useCallback(async g=>{const w=sb(g);if(w){const b=[];try{if(w.type==="playlist")(await F2(w.id)).forEach(O=>{b.push({...O,fileUrl:Fr(O.id),lyrics:[],colors:[],needsLyricsMatch:!0})});else{const _=await W2(w.id);_&&b.push({..._,fileUrl:Fr(_.id),lyrics:[],colors:[],needsLyricsMatch:!0})}}catch(_){return console.error("Failed to fetch Netease music",_),{success:!1,message:"Failed to load songs from Netease URL",songs:[]}}return f(b),b.length===0?{success:!1,message:"Failed to load songs from Netease URL",songs:[]}:{success:!0,songs:b}}try{const{track:b,error:_}=await ow(g);if(b){const O=b.coverUrl?await af(b.coverUrl):[],R={id:b.id,title:b.title,artist:b.artist||"Unknown Artist",fileUrl:b.audioUrl,coverUrl:b.coverUrl,lyrics:[],colors:O,needsLyricsMatch:!0,isAudioStream:!0,audioStreamSource:b.source};return f([R]),{success:!0,songs:[R]}}if(_)return{success:!1,message:_.message,songs:[]}}catch(b){console.error("Failed to fetch audio stream",b)}return{success:!1,message:"Invalid URL. Supported: Netease Cloud Music, Internet Archive, or direct audio file URLs",songs:[]}},[f]);return{queue:l,originalQueue:s,updateSongInQueue:u,removeSongs:h,addLocalFiles:p,importFromUrl:y,setQueue:i,setOriginalQueue:r}},bg=8e3,wg=(l,i)=>new Promise((s,r)=>{const u=setTimeout(()=>{r(new Error("Lyrics request timed out"))},i);l.then(f=>{clearTimeout(u),s(f)}).catch(f=>{clearTimeout(u),r(f)})}),hw=({queue:l,originalQueue:i,updateSongInQueue:s,setQueue:r,setOriginalQueue:u})=>{const[f,h]=x.useState(-1),[p,y]=x.useState(it.PAUSED),[g,w]=x.useState(0),[b,_]=x.useState(0),[O,R]=x.useState(en.LOOP_ALL),[A,T]=x.useState("idle"),N=x.useRef(null),q=x.useRef(!1),Q=x.useCallback(()=>{N.current&&(N.current.pause(),N.current.currentTime=0)},[]),S=l[f]??null,j=S?.colors?.[0]||"#a855f7",U=x.useCallback(()=>{if(i.length===0)return;const X=S?.id,ge=i.filter(_e=>_e.id!==X),xe=ib([...ge]);if(X){const _e=i.find(Ce=>Ce.id===X);if(_e){r([_e,...xe]),h(0);return}}r(xe),h(0)},[S,i,r]),k=x.useCallback(()=>{let X;if(O===en.LOOP_ALL?X=en.LOOP_ONE:O===en.LOOP_ONE?X=en.SHUFFLE:X=en.LOOP_ALL,R(X),T("idle"),X===en.SHUFFLE)U();else if(r(i),S){const ge=i.findIndex(xe=>xe.id===S.id);h(ge!==-1?ge:0)}else h(i.length>0?0:-1)},[O,U,i,S,r]),J=x.useCallback(()=>{if(N.current)if(p===it.PLAYING)N.current.pause(),y(it.PAUSED);else{const X=N.current.duration||0;X>0&&N.current.currentTime>=X-.01&&(N.current.currentTime=0,w(0)),N.current.play().catch(xe=>console.error("Play failed",xe)),y(it.PLAYING)}},[p]),Y=x.useCallback(()=>{N.current&&(N.current.play().catch(X=>console.error("Play failed",X)),y(it.PLAYING))},[]),P=x.useCallback(()=>{N.current&&(N.current.pause(),y(it.PAUSED))},[]),F=x.useCallback((X,ge=!1,xe=!1)=>{N.current&&(xe?(q.current=!0,w(X)):(N.current.currentTime=X,w(X),q.current=!1,ge&&(N.current.play().catch(_e=>console.error("Play failed",_e)),y(it.PLAYING))))},[]),ee=x.useCallback(()=>{if(!N.current||q.current)return;const X=N.current.currentTime;w(Number.isFinite(X)?X:0)},[]),oe=x.useCallback(()=>{if(!N.current)return;const X=N.current.duration;_(Number.isFinite(X)?X:0),p===it.PLAYING&&N.current.play().catch(ge=>console.error("Auto-play failed",ge))},[p]),ne=x.useCallback(()=>{if(l.length===0)return;if(O===en.LOOP_ONE){N.current&&(N.current.currentTime=0,N.current.play());return}Q();const X=(f+1)%l.length;h(X),T("idle"),y(it.PLAYING)},[l.length,O,f,Q]),re=x.useCallback(()=>{if(l.length===0)return;Q();const X=(f-1+l.length)%l.length;h(X),T("idle"),y(it.PLAYING)},[l.length,f,Q]),z=x.useCallback(X=>{X<0||X>=l.length||(Q(),h(X),y(it.PLAYING),T("idle"))},[l.length,Q]),I=x.useCallback(()=>{if(O===en.LOOP_ONE){N.current&&(N.current.currentTime=0,N.current.play().catch(X=>console.error("Play failed",X))),y(it.PLAYING);return}if(l.length===1){y(it.PAUSED);return}ne()},[O,l.length,ne]),Z=x.useCallback(X=>{r(ge=>{const xe=[...ge,X],_e=xe.length-1;return h(_e),y(it.PLAYING),T("idle"),xe}),u(ge=>[...ge,X])},[r,u]),fe=x.useCallback((X,ge)=>{X.length!==0&&(T("idle"),(ge||f===-1)&&(h(0),y(it.PLAYING)),O===en.SHUFFLE&&U())},[f,O,U]),le=x.useCallback(X=>{const ge=Ir(X.lrc,X.tLrc,{yrcContent:X.yrc}),xe=X.metadata.length;return[...X.metadata.map((Ce,je)=>({time:-.1*(xe-je),text:Ce,isMetadata:!0})),...ge].sort((Ce,je)=>Ce.time-je.time)},[]),E=x.useCallback(X=>{if(!X||!S)return;const ge=new FileReader;ge.onload=xe=>{const _e=xe.target?.result;if(_e){const Ce=Ir(_e);s(S.id,{lyrics:Ce}),T("success")}},ge.readAsText(X)},[S,s]);x.useEffect(()=>{if(!S){A!=="idle"&&T("idle");return}console.log(` Lyrics matching check for: "${S.title}" by "${S.artist}"`),console.log(`   - needsLyricsMatch: ${S.needsLyricsMatch}`),console.log(`   - existing lyrics: ${S.lyrics?.length||0} lines`),console.log(`   - local lyrics: ${S.localLyrics?.length||0} lines`);const X=S.id,ge=S.title,xe=S.artist,_e=S.needsLyricsMatch,Ce=S.lyrics??[],je=S.isNetease,Ge=S.neteaseId;let Ue=!1;const Pe=()=>{Ue||(s(X,{needsLyricsMatch:!1}),T("failed"))},bt=()=>{Ue||T("success")};if(Ce.length>0){console.log(" Lyrics already exist, skipping search"),bt();return}if(!_e){console.log(" Song doesn't need lyrics matching"),Pe();return}return(async()=>{T("matching"),console.log(` Starting lyrics search for: "${ge}" by "${xe}"`);try{if(je&&Ge){console.log(` Fetching lyrics by Netease ID: ${Ge}`);const dt=await wg(J2(Ge),bg);if(Ue)return;dt?(console.log(" Successfully fetched lyrics by ID"),s(X,{lyrics:le(dt),needsLyricsMatch:!1}),bt()):(console.warn(" Failed to fetch lyrics by ID"),S.localLyrics&&S.localLyrics.length>0?(console.log(" Using local lyrics as fallback"),s(X,{lyrics:S.localLyrics,needsLyricsMatch:!1}),bt()):Pe())}else{console.log(` Searching lyrics online for: "${ge}" - "${xe}"`);const dt=await wg($2(ge,xe),bg);if(Ue)return;dt?(console.log(" Successfully found lyrics online"),s(X,{lyrics:le(dt),needsLyricsMatch:!1}),bt()):(console.warn(" Online search failed"),S.localLyrics&&S.localLyrics.length>0?(console.log(" Online search failed, using local lyrics as fallback"),s(X,{lyrics:S.localLyrics,needsLyricsMatch:!1}),bt()):(console.log(" No local lyrics available"),Pe()))}}catch(dt){console.error(" Lyrics matching error:",dt),S.localLyrics&&S.localLyrics.length>0?(console.log(" Error occurred, using local lyrics as fallback"),s(X,{lyrics:S.localLyrics,needsLyricsMatch:!1}),bt()):Pe()}})(),()=>{Ue=!0}},[S?.id,le,s]),x.useEffect(()=>{const X=N.current;if(!X)return;const ge=xe=>{const Ce=xe.target.error;if(console.error(" Audio playback error detected"),Ce){let je="Unknown audio error",Ge="";switch(Ce.code){case MediaError.MEDIA_ERR_ABORTED:je="Audio loading aborted",Ge="The audio loading was aborted by the user";break;case MediaError.MEDIA_ERR_NETWORK:je="Network error",Ge="A network error occurred while loading the audio";break;case MediaError.MEDIA_ERR_DECODE:je="Audio decode error",Ge="The audio format is not supported or the file is corrupted. Try converting to MP3 or FLAC.",console.error(" Suggestion: This WAV file might use an unsupported codec. Try converting to standard PCM WAV or MP3.");break;case MediaError.MEDIA_ERR_SRC_NOT_SUPPORTED:je="Audio format not supported",Ge="The audio format or MIME type is not supported by your browser. Try converting to MP3.",console.error(" Suggestion: Convert the file to a more compatible format like MP3 or FLAC.");break;default:je="Audio playback error",Ge=Ce.message||"Unknown error"}if(console.error(`   Error Code: ${Ce.code}`),console.error(`   Error Message: ${je}`),console.error(`   Details: ${Ge}`),S){console.error(`   File: ${S.title} - ${S.artist}`),console.error(`   URL: ${S.fileUrl}`);const Ue=S.fileUrl;if(Ue){const Pe=Ue.split(".").pop()?.toLowerCase();console.error(`   Format: ${Pe||"unknown"}`),Pe==="wav"?(console.error("    WAV files can have compatibility issues."),console.error("    Try converting to: MP3 (best compatibility) or FLAC (lossless)"),console.error("    Conversion command: ffmpeg -i input.wav -codec:a libmp3lame -qscale:a 2 output.mp3")):(Pe==="wma"||Pe==="ape")&&(console.error(`    ${Pe?.toUpperCase()} format has limited browser support.`),console.error("    Convert to MP3 or FLAC for better compatibility"))}}}X.pause(),X.currentTime=0,y(it.PAUSED),w(0)};return X.addEventListener("error",ge),()=>{X.removeEventListener("error",ge)}},[N,S]),x.useEffect(()=>{const X=N.current;if(!X)return;const ge=()=>{if(q.current)return;const xe=X.currentTime;w(Number.isFinite(xe)?xe:0)};return X.addEventListener("timeupdate",ge),()=>{X.removeEventListener("timeupdate",ge)}},[N]),x.useEffect(()=>{const X=N.current;if(!X)return;const ge=()=>{const xe=X.duration;_(Number.isFinite(xe)?xe:0)};return X.addEventListener("durationchange",ge),()=>{X.removeEventListener("durationchange",ge)}},[N]),x.useEffect(()=>{!S||!S.isNetease||!S.coverUrl||S.colors&&S.colors.length>0||af(S.coverUrl).then(X=>{X.length>0&&s(S.id,{colors:X})}).catch(X=>console.warn("Color extraction failed",X))},[S,s]),x.useEffect(()=>{if(l.length===0){if(f===-1)return;N.current?.pause(),N.current&&(N.current.currentTime=0),y(it.PAUSED),h(-1),w(0),_(0),T("idle");return}if(f>=l.length||!l[f]){const X=Math.max(0,Math.min(l.length-1,f));h(X),T("idle")}},[l,f]);const[D,ie]=x.useState(1),[ce,W]=x.useState(!0),[he,ae]=x.useState(null),[ue,me]=x.useState(!1),[Oe,Me]=x.useState(0),we=x.useCallback(X=>{ie(X)},[]),be=x.useCallback(()=>{W(X=>!X)},[]);return x.useEffect(()=>{if(!N.current)return;const X=N.current,ge=D,xe=ce;if(Math.abs(ge-X.playbackRate)>.5||ge>2){X.preservesPitch=xe,X.playbackRate=ge;return}let _e;const Ce=()=>{if(!X)return;const je=X.playbackRate,Ge=ge-je;if(Math.abs(Ge)<.001){X.playbackRate=ge,X.preservesPitch=xe;return}X.playbackRate=je+Ge*.15,X.preservesPitch=xe,_e=requestAnimationFrame(Ce)};return _e=requestAnimationFrame(Ce),()=>{_e&&cancelAnimationFrame(_e)}},[S,p,D,ce]),x.useEffect(()=>{let X=!1,ge=null,xe=null;const _e=()=>{ge&&(URL.revokeObjectURL(ge),ge=null)};if(!S?.fileUrl)return _e(),ae(null),me(!1),Me(0),()=>{X=!0,xe?.abort(),_e()};const Ce=S.fileUrl;if(Ce.startsWith("blob:")||Ce.startsWith("data:"))return _e(),ae(Ce),me(!1),Me(1),()=>{X=!0};const je=Or.get(Ce);return je?(_e(),ge=URL.createObjectURL(je),ae(ge),me(!1),Me(1),()=>{X=!0,_e()}):(_e(),ae(null),me(!0),Me(0),(async()=>{if(typeof fetch=="function"){xe=new AbortController;try{const Ue=await fetch(Ce,{signal:xe.signal});if(!Ue.ok)throw new Error("Failed to load audio: "+Ue.status);const Pe=Number(Ue.headers.get("content-length"))||0;if(!Ue.body){const pe=await Ue.blob();if(X)return;Or.set(Ce,pe),Me(1);return}const bt=Ue.body.getReader(),et=[];let dt=0;for(;!X;){const{done:pe,value:Se}=await bt.read();if(pe)break;Se&&(et.push(Se),dt+=Se.byteLength,Pe>0?Me(Math.min(dt/Pe,.99)):Me(st=>{const tt=Se.byteLength/5242880;return Math.min(.95,st+tt)}))}if(X)return;const pn=new Blob(et,{type:Ue.headers.get("content-type")||"audio/mpeg"});Or.set(Ce,pn),Me(1)}catch(Ue){X||console.warn("Background audio caching failed:",Ue)}finally{X||me(!1)}}})(),()=>{X=!0,xe?.abort(),_e()})},[S?.fileUrl]),{audioRef:N,currentSong:S,currentIndex:f,playState:p,currentTime:g,duration:b,playMode:O,matchStatus:A,accentColor:j,speed:D,preservesPitch:ce,togglePlay:J,toggleMode:k,handleSeek:F,playNext:ne,playPrev:re,playIndex:z,handleTimeUpdate:ee,handleLoadedMetadata:oe,handlePlaylistAddition:fe,loadLyricsFile:E,addSongAndPlay:Z,handleAudioEnded:I,setSpeed:we,togglePreservesPitch:be,pitch:0,setPitch:X=>{},play:Y,pause:P,resolvedAudioSrc:he,isBuffering:ue,bufferProgress:Oe}},Sg=10,Tg=(l,i,s)=>Math.max(i,Math.min(s,l)),mw=({currentSong:l,playState:i,currentTime:s,duration:r,playbackRate:u,onPlay:f,onPause:h,onNext:p,onPrev:y,onSeek:g})=>{const[w,b]=x.useState(null);return x.useEffect(()=>{let _=!1,O=null;return l?.coverUrl?(Cg(l.coverUrl).then(R=>{_||(O=URL.createObjectURL(R),b(O))}).catch(()=>{_||b(null)}),()=>{_=!0,O&&URL.revokeObjectURL(O)}):(b(null),()=>{O&&URL.revokeObjectURL(O)})},[l?.coverUrl]),x.useEffect(()=>{if(typeof navigator>"u"||!("mediaSession"in navigator))return;const _=navigator.mediaSession;l?typeof window<"u"&&"MediaMetadata"in window&&(_.metadata=new window.MediaMetadata({title:l.title,artist:l.artist,album:l.album??void 0,artwork:w||l.coverUrl?[{src:w||l.coverUrl,sizes:"512x512",type:"image/jpeg"}]:void 0})):_.metadata=null,_.playbackState=i===it.PLAYING?"playing":"paused"},[l,i,w]),x.useEffect(()=>{if(typeof navigator>"u"||!("mediaSession"in navigator)||r<=0||!Number.isFinite(s))return;const _=navigator.mediaSession;typeof _.setPositionState=="function"&&_.setPositionState({duration:r,playbackRate:u,position:Tg(s,0,r)})},[s,r,u]),x.useEffect(()=>{if(typeof navigator>"u"||!("mediaSession"in navigator))return;const _=navigator.mediaSession,O=T=>{const N=Tg(T,0,r||0);g(N,i===it.PLAYING)},A=[["play",f],["pause",h],["previoustrack",y],["nexttrack",p],["seekto",T=>{T&&typeof T.seekTime=="number"&&O(T.seekTime)}],["seekbackward",T=>{const N=T?.seekOffset??Sg;O(s-N)}],["seekforward",T=>{const N=T?.seekOffset??Sg;O(s+N)}]];return A.forEach(([T,N])=>{try{_.setActionHandler(T,N)}catch(q){console.debug(`MediaSession handler registration failed for ${T}`,q)}}),()=>{A.forEach(([T])=>{try{_.setActionHandler(T,null)}catch{}})}},[f,h,p,y,g,r,s,i]),null};class gw{constructor(){this.metrics={fps:60,memoryUsage:0,renderTime:0,audioLatency:0,lastUpdate:Date.now()},this.frameCount=0,this.lastFrameTime=performance.now(),this.fpsUpdateInterval=1e3,this.observers=new Set,this.rafId=null,this.isMonitoring=!1,this.measureFrame=()=>{if(!this.isMonitoring)return;const i=performance.now();this.frameCount++;const s=i-this.lastFrameTime;if(s>=this.fpsUpdateInterval){if(this.metrics.fps=Math.round(this.frameCount*1e3/s),this.frameCount=0,this.lastFrameTime=i,"memory"in performance&&performance.memory){const r=performance.memory;this.metrics.memoryUsage=Math.round(r.usedJSHeapSize/r.jsHeapSizeLimit*100)}this.metrics.lastUpdate=Date.now(),this.notifyObservers()}this.rafId=requestAnimationFrame(this.measureFrame)}}start(){this.isMonitoring||(this.isMonitoring=!0,this.measureFrame())}stop(){this.isMonitoring=!1,this.rafId!==null&&(cancelAnimationFrame(this.rafId),this.rafId=null)}subscribe(i){return this.observers.add(i),()=>this.observers.delete(i)}getMetrics(){return{...this.metrics}}notifyObservers(){this.observers.forEach(i=>i(this.metrics))}isLowPerformance(){return this.metrics.fps<30||this.metrics.memoryUsage>85}getRecommendations(){const i=[];return this.metrics.fps<30&&i.push("Reduce visual effects for better performance"),this.metrics.memoryUsage>85&&i.push("Clear cache or reduce playlist size"),this.metrics.audioLatency>100&&i.push("Audio latency detected, check system audio settings"),i}}const Rr=new gw;class pw{static{this.caches=new Map}static{this.maxCacheSize=50}static getCache(i,s=this.maxCacheSize){return this.caches.has(i)||this.caches.set(i,new Map),this.caches.get(i)}static setCacheItem(i,s,r,u=this.maxCacheSize){const f=this.getCache(i,u);if(f.size>=u){const h=f.keys().next().value;f.delete(h)}f.set(s,r)}static clearCache(i){this.caches.get(i)?.clear()}static clearAllCaches(){this.caches.forEach(i=>i.clear())}static requestGC(){if(typeof window<"u"&&"gc"in window)try{window.gc()}catch{}}static getMemoryUsage(){if(typeof performance<"u"&&"memory"in performance){const i=performance.memory;return{used:i.usedJSHeapSize,total:i.jsHeapSizeLimit,percentage:i.usedJSHeapSize/i.jsHeapSizeLimit*100}}return null}}class Lr{static{this.audioContext=null}static{this.audioElements=new Set}static{this.maxAudioElements=3}static getAudioContext(){return this.audioContext||(this.audioContext=new(window.AudioContext||window.webkitAudioContext)({latencyHint:"interactive",sampleRate:48e3})),this.audioContext}static registerAudioElement(i){if(this.audioElements.add(i),this.audioElements.size>this.maxAudioElements){const s=this.audioElements.values().next().value;this.unregisterAudioElement(s)}}static unregisterAudioElement(i){i.pause(),i.src="",i.load(),this.audioElements.delete(i)}static cleanup(){this.audioElements.forEach(i=>{i.pause(),i.src="",i.load()}),this.audioElements.clear()}static optimizeAudioElement(i){i.preload="metadata",i.setAttribute("playsinline","true"),i.controls=!1}static getAudioLatency(){return this.audioContext?this.audioContext.baseLatency*1e3:0}}class yw{static{this.pendingUpdates=new Map}static{this.rafId=null}static batchUpdate(i,s){this.pendingUpdates.set(i,s),this.rafId===null&&(this.rafId=requestAnimationFrame(()=>{this.pendingUpdates.forEach(r=>r()),this.pendingUpdates.clear(),this.rafId=null}))}static deferToIdle(i,s=1e3){"requestIdleCallback"in window?requestIdleCallback(i,{timeout:s}):setTimeout(i,0)}static prefersReducedMotion(){return window.matchMedia("(prefers-reduced-motion: reduce)").matches}static getOptimalFrameRate(){return"screen"in window&&"refreshRate"in window.screen?Math.min(window.screen.refreshRate||60,120):60}static enableHardwareAcceleration(i){i.style.transform="translateZ(0)",i.style.willChange="transform, opacity"}static disableHardwareAcceleration(i){i.style.transform="",i.style.willChange="auto"}}class vw{static getConnectionQuality(){if(!navigator.onLine)return"offline";if("connection"in navigator){const s=navigator.connection?.effectiveType;if(s==="4g")return"fast";if(s==="3g")return"medium";if(s==="2g"||s==="slow-2g")return"slow"}return"medium"}static getRecommendedBufferSize(){switch(this.getConnectionQuality()){case"fast":return 15;case"medium":return 10;case"slow":return 5;case"offline":return 0}}static isDataSaverEnabled(){return"connection"in navigator?navigator.connection?.saveData===!0:!1}}const xw={memory:{cleanupInterval:180*1e3}},bw=()=>{const[l,i]=x.useState({fps:60,memoryUsage:0,isLowPerformance:!1,connectionQuality:"medium",shouldReduceEffects:!1});return x.useEffect(()=>{Rr.start();const s=Rr.subscribe(u=>{const f=Rr.isLowPerformance(),h=vw.getConnectionQuality(),p=f||yw.prefersReducedMotion();i({fps:u.fps,memoryUsage:u.memoryUsage,isLowPerformance:f,connectionQuality:h,shouldReduceEffects:p})}),r=setInterval(()=>{pw.requestGC()},xw.memory.cleanupInterval);return()=>{s(),clearInterval(r),Rr.stop()}},[]),l},ww=l=>(x.useEffect(()=>{const s=l.current;if(s)return Lr.registerAudioElement(s),Lr.optimizeAudioElement(s),()=>{Lr.unregisterAudioElement(s)}},[l]),{getAudioLatency:x.useCallback(()=>Lr.getAudioLatency(),[])}),Sw=()=>{const{toast:l}=lv(),{theme:i}=ms(),s=bw();x.useEffect(()=>{ob()},[]);const r=dw(),u=hw({queue:r.queue,originalQueue:r.originalQueue,updateSongInQueue:r.updateSongInQueue,setQueue:r.setQueue,setOriginalQueue:r.setOriginalQueue}),{audioRef:f,currentSong:h,playState:p,currentTime:y,duration:g,playMode:w,matchStatus:b,accentColor:_,togglePlay:O,toggleMode:R,handleSeek:A,playNext:T,playPrev:N,handleTimeUpdate:q,handleLoadedMetadata:Q,handlePlaylistAddition:S,loadLyricsFile:j,playIndex:U,addSongAndPlay:k,handleAudioEnded:J,play:Y,pause:P,resolvedAudioSrc:F,isBuffering:ee}=u,[oe,ne]=x.useState(!1),[re,z]=x.useState(!1),[I,Z]=x.useState(!1),[fe,le]=x.useState(!1),[E,D]=x.useState(1),[ie,ce]=x.useState(!1),W=x.useRef(null),[he,ae]=x.useState(!1),[ue,me]=x.useState("controls"),[Oe,Me]=x.useState(null),[we,be]=x.useState(0),[X,ge]=x.useState(!1),xe=x.useRef(null),[_e,Ce]=x.useState(()=>typeof window>"u"?0:window.innerWidth),[je,Ge]=x.useState(46),[Ue,Pe]=x.useState(!1),[bt,et]=x.useState(!1),[dt,pn]=x.useState(!0),[pe,Se]=x.useState(!1);ww(f);const st=x.useMemo(()=>s.shouldReduceEffects?!1:Ue,[s.shouldReduceEffects,Ue]),tt=x.useMemo(()=>s.shouldReduceEffects?!1:bt,[s.shouldReduceEffects,bt]),nt=Ae=>{u.setSpeed(Ae),ce(!0),W.current&&window.clearTimeout(W.current),W.current=window.setTimeout(()=>{ce(!1)},1500)};x.useEffect(()=>()=>{W.current&&window.clearTimeout(W.current)},[]),x.useEffect(()=>{f.current&&(f.current.volume=E)},[E,f]),x.useEffect(()=>{if(typeof window>"u")return;const Ae=window.matchMedia("(max-width: 1024px)"),Ie=mt=>{ae(mt.matches)};return Ie(Ae),Ae.addEventListener("change",Ie),()=>Ae.removeEventListener("change",Ie)},[]),x.useEffect(()=>{he||(me("controls"),Me(null),be(0))},[he]),x.useEffect(()=>{if(typeof window>"u")return;const Ae=()=>{Ce(window.innerWidth)};return Ae(),window.addEventListener("resize",Ae),window.visualViewport?.addEventListener("resize",Ae),()=>{window.removeEventListener("resize",Ae),window.visualViewport?.removeEventListener("resize",Ae)}},[he]),x.useEffect(()=>{const Ae=Ie=>sf.handle(Ie);return window.addEventListener("keydown",Ae),()=>window.removeEventListener("keydown",Ae)},[]),x.useEffect(()=>{const Ae=Ie=>{(Ie.metaKey||Ie.ctrlKey)&&Ie.key==="k"&&(Ie.preventDefault(),z(mt=>!mt))};return window.addEventListener("keydown",Ae),()=>window.removeEventListener("keydown",Ae)},[]);const Tt=async Ae=>{const Ie=r.queue.length===0,mt=await r.addLocalFiles(Ae);mt.length>0&&setTimeout(()=>{S(mt,Ie)},0)},Et=async Ae=>{const Ie=Ae.trim();if(!Ie)return!1;const mt=r.queue.length===0,Ot=await r.importFromUrl(Ie);return Ot.success?Ot.songs.length>0?(setTimeout(()=>{S(Ot.songs,mt)},0),l.success(`Successfully imported ${Ot.songs.length} songs`),!0):!1:(l.error(Ot.message??"Failed to load songs from URL"),!1)},ht=Ae=>{const Ie=r.queue.findIndex(mt=>Ae.isNetease&&mt.isNetease?mt.neteaseId===Ae.neteaseId:mt.id===Ae.id);Ie!==-1?U(Ie):k(Ae)},Qt=Ae=>{r.setQueue(Ie=>[...Ie,Ae]),r.setOriginalQueue(Ie=>[...Ie,Ae])},zt=Ae=>{he&&(Me(Ae.touches[0]?.clientX??null),be(0),ge(!0))},sc=Ae=>{if(!he||Oe===null)return;const Ie=Ae.touches[0]?.clientX;if(Ie===void 0)return;const mt=Ie-Oe,Ot=Ae.currentTarget.getBoundingClientRect().width,gs=Math.max(Math.min(mt,Ot),-Ot);be(gs)},rc=Ae=>{if(!he||Oe===null)return;const Ie=Ae.changedTouches[0]?.clientX;if(Ie===void 0){Me(null),be(0),ge(!1);return}const mt=Ie-Oe,Ot=60;mt>Ot?me("controls"):mt<-Ot&&me("lyrics"),Me(null),be(0),ge(!1)},cc=()=>{he&&(Me(null),be(0),ge(!1))},Pa=()=>{me(Ae=>Ae==="controls"?"lyrics":"controls"),be(0),ge(!1)},Na=x.useMemo(()=>d.jsx("div",{className:"flex flex-col items-center justify-center w-full h-full z-30 relative p-4",children:d.jsxs("div",{className:"relative flex flex-col items-center gap-8 w-full max-w-[360px]",children:[d.jsx(Zb,{isPlaying:p===it.PLAYING,onPlayPause:O,currentTime:y,duration:g,onSeek:A,title:h?.title||"Welcome to Lumison",artist:h?.artist||"Select a song",audioRef:f,onNext:T,onPrev:N,playMode:w,onToggleMode:R,onTogglePlaylist:()=>ne(!0),accentColor:_,volume:E,onVolumeChange:D,speed:u.speed,preservesPitch:u.preservesPitch,onSpeedChange:nt,onTogglePreservesPitch:u.togglePreservesPitch,coverUrl:h?.coverUrl,isBuffering:ee,showVolumePopup:I,setShowVolumePopup:Z,showSettingsPopup:fe,setShowSettingsPopup:le,visualizerEnabled:pe}),d.jsx(m2,{isOpen:oe,onClose:()=>ne(!1),queue:r.queue,currentSongId:h?.id,onPlay:U,onImport:Et,onRemove:r.removeSongs,accentColor:_,onFilesSelected:Tt,onSearchClick:()=>z(!0)})]})}),[p,O,y,g,A,h,f,T,N,w,R,_,E,u.speed,u.preservesPitch,nt,u.togglePreservesPitch,ee,I,fe,oe,r.queue,U,Et,r.removeSongs,Tt,pe]),el=h?.lyrics?h.lyrics.length:0,Tn=h?`${h.id}-${el}`:"no-song",za=x.useMemo(()=>d.jsx("div",{className:"w-full h-full relative z-20 flex flex-col justify-center px-4 lg:pl-4",children:d.jsx(f2,{lyrics:h?.lyrics||[],audioRef:f,isPlaying:p===it.PLAYING,currentTime:y,onSeekRequest:A,matchStatus:b,fontSize:je,blur:st,glow:tt,shadow:dt},Tn)}),[Tn,h?.lyrics,f,p,y,A,b,je,st,tt,dt]),Ra=typeof window<"u"?window.innerWidth:0,tl=_e||Ra,$l=(ue==="lyrics"?-tl:0)+we;return d.jsxs("div",{className:"relative w-full h-screen flex flex-col overflow-hidden theme-transition bg-black",children:[d.jsx(bv,{colors:h?.colors||[],coverUrl:h?.coverUrl,isPlaying:p===it.PLAYING,isMobileLayout:he,theme:i},he?"mobile":"desktop"),d.jsx("audio",{ref:f,src:F??h?.fileUrl,onTimeUpdate:q,onLoadedMetadata:Q,onEnded:J,crossOrigin:"anonymous"}),d.jsx(g2,{isPlaying:p===it.PLAYING,onPlayPause:O,onNext:T,onPrev:N,onSeek:A,currentTime:y,duration:g,volume:E,onVolumeChange:D,onToggleMode:R,onTogglePlaylist:()=>ne(Ae=>!Ae),speed:u.speed,onSpeedChange:nt,onToggleVolumeDialog:()=>Z(Ae=>!Ae),onToggleSpeedDialog:()=>le(Ae=>!Ae)}),d.jsx(iw,{speed:u.speed,show:ie}),d.jsx(mw,{currentSong:h??null,playState:p,currentTime:y,duration:g,playbackRate:u.speed,onPlay:Y,onPause:P,onNext:T,onPrev:N,onSeek:A}),d.jsx(j2,{lyricsFontSize:je,onLyricsFontSizeChange:Ge,onImportUrl:Et,lyricsBlur:Ue,onLyricsBlurChange:Pe,lyricsGlow:bt,onLyricsGlowChange:et,lyricsShadow:dt,onLyricsShadowChange:pn,onSearchClick:()=>z(!0),visualizerEnabled:pe,onVisualizerToggle:Se}),d.jsx(lw,{isOpen:re,onClose:()=>z(!1),queue:r.queue,onPlayQueueIndex:U,onImportAndPlay:ht,onAddToQueue:Qt,currentSong:h,isPlaying:p===it.PLAYING,accentColor:_}),he?d.jsxs("div",{className:"flex-1 relative w-full h-full",children:[d.jsx("div",{ref:xe,className:"w-full h-full overflow-hidden",onTouchStart:zt,onTouchMove:sc,onTouchEnd:rc,onTouchCancel:cc,children:d.jsxs("div",{className:`flex h-full ${X?"transition-none":"transition-transform duration-300"}`,style:{width:`${tl*2}px`,transform:`translateX(${$l}px)`},children:[d.jsx("div",{className:"flex-none h-full",style:{width:tl},children:Na}),d.jsx("div",{className:"flex-none h-full",style:{width:tl},children:za})]})}),d.jsx("div",{className:"absolute bottom-6 left-1/2 -translate-x-1/2",children:d.jsx("button",{type:"button",onClick:Pa,className:"relative flex h-4 w-28 items-center justify-center rounded-full bg-white/10 backdrop-blur-2xl border border-white/15 transition-transform duration-200 active:scale-105",style:{transform:`translateX(${X?we*.04:0}px)`},children:d.jsx("span",{className:`absolute inset-0 rounded-full bg-white/25 backdrop-blur-[30px] transition-opacity duration-200 ${ue==="controls"?"opacity-90":"opacity-60"}`})})})]}):d.jsxs("div",{className:"flex-1 grid lg:grid-cols-2 w-full h-full",children:[Na,za]})]})},Tw=({toast:l,onRemove:i})=>{const[s,r]=x.useState(!1);x.useEffect(()=>{const f=setTimeout(()=>{r(!0)},l.duration||3e3);return()=>clearTimeout(f)},[l.duration]),x.useEffect(()=>{if(s){const f=setTimeout(()=>{i(l.id)},300);return()=>clearTimeout(f)}},[s,i,l.id]);const u=()=>{switch(l.type){case"success":return d.jsx(lf,{className:"w-5 h-5 text-green-400"});case"error":return d.jsx("svg",{className:"w-5 h-5 text-red-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})});case"info":default:return d.jsx("svg",{className:"w-5 h-5 text-blue-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}};return d.jsxs("div",{className:`
        flex items-center gap-3 px-4 py-3 mb-3 rounded-2xl
        bg-black/40 backdrop-blur-xl border border-white/10 shadow-2xl
        transform transition-all duration-300 ease-[cubic-bezier(0.32,0.72,0,1)]
        ${s?"opacity-0 translate-y-2 scale-95":"opacity-100 translate-y-0 scale-100"}
        min-w-[300px] max-w-[400px]
      `,children:[d.jsx("div",{className:`p-1.5 rounded-full bg-white/5 ${l.type==="success"?"text-green-400":l.type==="error"?"text-red-400":"text-blue-400"}`,children:u()}),d.jsx("p",{className:"text-[15px] font-medium text-white/90",children:l.message})]})},Ew=({children:l})=>{const[i,s]=x.useState([]),r=x.useCallback((h,p,y=3e3)=>{const g=Math.random().toString(36).substring(2,9);s(w=>[...w,{id:g,message:h,type:p,duration:y}])},[]),u=x.useCallback(h=>{s(p=>p.filter(y=>y.id!==h))},[]),f={toast:{success:(h,p)=>r(h,"success",p),error:(h,p)=>r(h,"error",p),info:(h,p)=>r(h,"info",p)}};return d.jsxs(Mg.Provider,{value:f,children:[l,Ja.createPortal(d.jsx("div",{className:"fixed top-6 right-6 z-[9999] flex flex-col items-end pointer-events-none",children:i.map(h=>d.jsx("div",{className:"pointer-events-auto",children:d.jsx(Tw,{toast:h,onRemove:u})},h.id))}),document.body)]})};if(typeof window<"u"&&typeof window.__REACT_DEVTOOLS_GLOBAL_HOOK__=="object")for(const l in window.__REACT_DEVTOOLS_GLOBAL_HOOK__)l==="renderers"?window.__REACT_DEVTOOLS_GLOBAL_HOOK__[l]=new Map:window.__REACT_DEVTOOLS_GLOBAL_HOOK__[l]=typeof window.__REACT_DEVTOOLS_GLOBAL_HOOK__[l]=="function"?()=>{}:null;typeof window<"u"&&"requestIdleCallback"in window&&document.documentElement.classList.add("high-performance-mode");const Aw=["https://music.163.com","https://api.github.com"];Aw.forEach(l=>{const i=document.createElement("link");i.rel="preconnect",i.href=l,i.crossOrigin="anonymous",document.head.appendChild(i)});const Up=document.getElementById("root");if(!Up)throw new Error("Could not find root element to mount to");const Mw=av.createRoot(Up);Mw.render(d.jsx(Gl.StrictMode,{children:d.jsx(Ib,{children:d.jsx(kb,{children:d.jsx(Ew,{children:d.jsx(Sw,{})})})})}));
